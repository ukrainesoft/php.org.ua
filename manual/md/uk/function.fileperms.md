- [«fileowner](function.fileowner.md)
- [filesize »](function.filesize.md)

- [PHP Manual](index.md)
- [Функції файлової системи](ref.filesystem.md)
- Повертає інформацію про права на файл

#fileperms

(PHP 4, PHP 5, PHP 7, PHP 8)

fileperms — Повертає інформацію про права на файл

### Опис

**fileperms**(string `$filename`): int\|false

Повертає інформацію про права доступу до файлу.

### Список параметрів

`filename`
Шлях до файлу.

### Значення, що повертаються

Повертає права доступу на вказаний файл у числовому вигляді. Молодші біти
цього значення такі ж, як і біти прав доступу для використання в
функції [chmod()](function.chmod.md), однак, на більшості платформ,
значення, що повертається буде також включати інформацію про тип файлу,
який переданий як параметр `filename`. Приклади нижче
демонструють як перевірити значення, що повертається на наявність
певних прав та типу файлу на POSIX-системах, включаючи Linux та macOS.

Для локальних файлів, що повертається значення є частиною структури
`st_mode`, яка повертається функцією С-бібліотеки
[stat()](function.stat.md). Які точно біти встановлені може
варіюватися від платформи до платформи. Рекомендується пошукати
документацію до вашої платформи, якщо потрібна обробка бітів
повертається значення, що не належать до прав доступу.

Повертає **`false`** у разі виникнення помилки.

### Помилки

У разі невдалого завершення роботи генерується помилка рівня
**`E_WARNING`**.

### Приклади

**Приклад #1 Відображення прав доступу у вигляді восьмеричного числа**

` <?phpecho substr(sprintf('%o', fileperms('/tmp')), -4);echo substr(sprintf('%o', fileperms('/etc/passwd')), -4) ;?> `

Результат виконання цього прикладу:

1777
0644

**Приклад #2 Відображення повних прав доступу**

` <?php$perms u003d fileperms('/etc/passwd');switch ($perms & 0xF000) {    case 0xC000: // сокет           break; case 0xA000: // символічна посилання        $info u003d 'l'; break; case 0x8000: // звичайний         $info u003d 'r'; break; case 0x6000: // файл блокового пристрою        $info u003d 'b'; break; case 0x4000: // каталог        $info u003d 'd'; break; case 0x2000: // файл символьного пристрою        $info u003d 'c'; break; case 0x1000: // FIFO канал        $info u003d 'p'; break; default: // невідомий         $info u003d 'u';}// Власник$info .u003d (($perms & 0x0100) ? 'r' : '-');$info w' : '-');$info .u003d (($perms & 0x0040) ?            (($perms & 0x0800) ? 's' : 'x' ) :            (($perms & 0x0800) ? 'S' : ' -'));// Група$info .u003d (($perms & 0x0020) ? 'r' : '-');$info .u003d (($perms & 0x0010) ? 'w' : '-'); $info .u003d (($perms & 0x0008) ?            (($perms & 0x0400) ? 's' : 'x' ) :            (($perms & 0x0400) ? 'S' : '-'));// Мир $info .u003d (($perms & 0x0004) ? 'r' : '-');$info .u003d (($perms & 0x0002) ? 'w' : '-');$info .u003d (($ & 0x0001) ?            (($perms & 0x0200) ? 't' : 'x' ) :            (($perms & 0x0200) ? 'T' : '-'));echo $info;?> `

Результат виконання цього прикладу:

-rw-r--r--

### Примітки

> **Примітка**: Результати цієї функції кешуються. Детальніше
> інформацію дивіться у розділі
> [clearstatcache()](function.clearstatcache.md).

**Підказка**

Починаючи з PHP 5.0.0, ця функція також може бути використана з
* Деякими * обгортками url. Список обгорток, що підтримуються сімейством
функцій [stat()](function.stat.md), дивіться у розділі [Підтримувані
протоколи та обгортки](wrappers.md).

### Дивіться також

- [chmod()](function.chmod.md) - Змінює режим доступу до файлу
- [is_readable()](function.is-readable.md) - Визначає
існування файлу і чи доступний він для читання
- [stat()](function.stat.md) - Повертає інформацію про файл
