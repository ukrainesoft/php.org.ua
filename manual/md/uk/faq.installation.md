- [« Питання щодо баз даних](faq.databases.md)
- [Проблеми складання »](faq.build.md)

- [PHP Manual](index.md)
- [FAQ.md)
- Установка

# Встановлення

Цей розділ містить спільні запитання про те, як проводиться установка
PHP. Дистрибутиви PHP доступні майже для всіх операційних систем та
веб-серверів.

Для встановлення PHP, дотримуйтесь інструкцій: [Встановлення та
настройка](install.md).

1. [Чому краще не користуватися Apache2 з багатопотоковим "MPM" (event,
worker) у промисловій експлуатації?](#faq.installation.apache2)
2. [ОС "Unix"/"Windows": Де шукати файл
php.ini?](#faq.installation.phpini)
3. [Unix: Я встановив PHP, але при кожному відкритті будь-якого документа
бачу 'Document Contains No Data', що це
значить?](#faq.installation.nodata)
4. [Unix: Я встановив PHP використовуючи RPMS, але Apache не обробляє
PHP-сторінки, в чому річ?](#faq.installation.processing)
5. [Unix: Я пропатчив Apache модулем FrontPage, і тепер PHP не
працює. Тобто. PHP несумісний із модулями Apache
FrontPage?](#faq.installation.frontpage)
6. [Unix/Windows: Я встановив PHP, але при спробі відкрити PHP-файл
браузером бачу просто порожній екран.](#faq.installation.blankscreen)
7. [Unix/Windows: Я встановив PHP, але коли намагаюся подивитися
створену PHP-сторінку через браузер, то отримую помилку
500.](#faq.installation.500error)
8. [Деякі операційні системи: Я встановив PHP без будь-яких
помилок, але коли намагаюся запустити Apache, мені виводиться помилка:
\[mybox:user /src/php5\] root# apachectl configtest apachectl:
/usr/local/apache/bin/httpd Undefined symbols: \_compress
\_uncompress](#faq.installation.undefinedsyms)
9. [Windows: Я встановив PHP, але коли намагаюся відкрити сторінку скрипту
через браузер, отримую помилку: cgi error: The specified CGI
application misbehaved by not returning a complete set of HTTP
headers. headers it did return are:](#faq.installation.cgierror)
10. [Windows: Я все зробив за інструкцією, але PHP та IIS не хочуть працювати
разом!](#faq.installation.phpandiis)
11. [Коли я запускаю PHP як CGI на IIS, PWS, OmniHTTPD або Xitami, я
отримую таку помилку: Security Alert! PHP CGI cannot be accessed
directly..](#faq.installation.forceredirect)
12. Як я можу зрозуміти, що мій php.ini знайдений і використовується? Таке
враження, що внесені мною зміни
ігноруються.](#faq.installation.findphpini)
13. [Як я можу додати директорію з PHP до PATH в
Windows?](#faq.installation.addtopath)
14. [Як я можу зробити файл php.ini доступним для PHP
windows?](#faq.installation.phprc)
15. [Чи можна використовувати узгодження контенту Apache (опція
MultiViews) з PHP?](#faq.installation.apache.multiviews)
16. [PHP обмежений роботою лише з методами GET та
POST?](#faq.installation.requestmethods)

**Чому краще не користуватися Apache2 з багатопоточним "MPM" (event, worker) у промисловій експлуатації?**
PHP подібний до сполучної ланки. Це сполучна ланка для створення добрих
веб-додатків шляхом об'єднання розрізнених сторонніх бібліотек
єдине ціле, через використання інтуїтивно зрозумілого та простого для
вивчення мовного інтерфейсу Гнучкість та сила PHP заснована на
стабільності та стійкості, що лежить в основі платформи. Щоб усе
працювало, потрібна робоча операційна система, робочий веб-сервер і
робочі сторонні бібліотеки. Але коли хоч щось із них перестає
працювати - PHP потребує способів швидкого визначення причин
неполадки та її усунення. І коли ви ускладнюєте базовий фреймворк,
що не ізолюєте виконувані потоки та сегменти пам'яті, і не
надаєте потокам окремих ізольованих "пісочниць" - послаблюється
вся PHP-система.

Якщо ви бажаєте використовувати багатопотоковий "MPM" - ознайомтеся з
конфігурацією "FastCGI", згідно з якою PHP працює у своєму
просторі пам'яті.



**ОС "Unix"/"Windows": Де шукати файл `php.ini`?**
За замовчуванням в Unix він повинен бути в `/usr/local/lib`, який
відповідає `<настановний-шлях>/lib`. Багато хто захоче змінити цей
шлях у момент компіляції, використовуючи опцію
[--with-config-file-path](configure.about.md#configure.with-config-file-path)
Наприклад, можна написати так:

`` shellcode
--with-config-file-pathu003d/etc
````

І потім скопіювати `php.ini-development` з дистрибутива в
`/etc/php.ini` та внести до нього всі необхідні зміни.

`` shellcode
--with-config-file-scan-diru003dPATH
````

В ОС "Windows", за замовчуванням, шлях до файлу `php.ini` це шлях до
директорії "Windows". Якщо ви користуєтесь веб-сервером "Apache",
`php.ini` знаходиться на шляху: `?\program files pache group pache\`.
Таким чином, на одному комп'ютері можна користуватися кількома
файлами `php.ini`, відповідно до версій "Apache".

Також дивіться: [файл налаштувань](configuration.file.md).



**Unix: Я встановив PHP, але при кожному відкритті будь-якого документа бачу 'Document Contains No Data', що це означає?**
Це означає, що можливо PHP зіткнувся з якоюсь проблемою і падає
у core-dump. Перегляньте логи помилок сервера, щоб перевірити це, а
потім спробуйте відтворити ланцюжок кроків, що призвели до помилки;
наприклад, створивши окрему тестову програму. І якщо ви вмієте
користуватися 'gdb', то це допоможе вам отримати стек викликів функцій
(backtrace) для включення його у звіт про помилку, щоб полегшити
виявлення причин проблеми розробникам. Якщо ви користуєтеся PHP як
модулем для Apache, вам може бути корисним наступне:

- Зупиніть httpd-процеси

- gdb httpd

- Знову зупиніть httpd-процеси

- \> run -X -f шлях_к\_httpd.conf

- Потім скопіюйте URL-адресу, що викликала проблему в браузері

- \> run -X -f шлях_к\_httpd.conf

- Якщо відбуватиметься core dump, gdb повідомить вас про це

- Введіть bt

- Увімкніть backtrace у звіт про помилку. І надішліть за адресою:
[»https://github.com/php/php-src/issues](https://github.com/php/php-src/issues)

Якщо ваш скрипт використовує регулярні вирази
([preg_match()](function.preg-match.md) і подібні), перевірте, з
чи однаковими пакетами обробки RegEx скомпільовані PHP та Apache? В
випадку PHP та Apache 1.3.x це відбувається автоматично.



**Unix: Я встановив PHP використовуючи RPMS, але Apache не обробляє PHP-сторінки, в чому справа?**
Якщо ви встановили і Apache, і PHP з RPM-пакетів, вам знадобиться
розкоментувати або додати деякі (або, можливо, всі) рядки
серед наступних, у вашому файлі `httpd.conf`:

apache-confcode
# Extra Modules
AddModule mod_php.c
AddModule mod_perl.c

# Extra Modules
LoadModule php_module modules/mod_php.so
LoadModule php5_module modules/libphp5.so
LoadModule perl_module modules/libperl.so
````

І додайте:

apache-confcode
AddType application/x-httpd-php .php
````

... в області глобальних властивостей, або у властивості того VirtualDomain, для
якого потрібно включити підтримку PHP.



**Unix: Я пропатчив Apache модулем FrontPage, і тепер PHP не працює. Тобто. PHP несумісний із модулями Apache FrontPage?**
Ні, сумісний, але патч FrontPage впливає на структури Apache, необхідні для
PHP. Перекомпіляція PHP (команда 'make clean; make') після установки
патча може вирішити проблему.



**Unix/Windows: Я встановив PHP, але при спробі відкрити PHP-файл браузером бачу просто порожній екран.**
Виберіть у браузері опцію "подивитися код" і ви, можливо, побачите ваш
PHP-код Це означає, що Apache не передав ваш скрипт інтерпретатору
PHP. Значить щось неправильно з конфігурацією сервера. В цьому випадку
Перевірте конфігурацію веб-сервера відповідно до інструкцій з
встановлення PHP.



**Unix/Windows: Я встановив PHP, але коли намагаюся переглянути створену PHP-сторінку через браузер, то отримую помилку 500.**
Щось пішло негаразд, коли сервер спробував запустити PHP. Щоб побачити
виникаючу вихідну помилку, у командному рядку перейдіть до директорії,
що містить виконуваний файл PHP (`php.exe` у Windows) і запустіть **php
-i**. Якщо існують будь-які проблеми із запуском PHP, вам виведеться
відповідна помилка, що підкаже вам, що треба виправити. Якщо
ви побачите безліч коду HTML (виведення функції
[phpinfo()](function.phpinfo.md)), значить PHP працює нормально, та
Ваша проблема пов'язана з параметрами веб-сервера.

**Деякі операційні системи: Я встановив PHP без будь-яких помилок,
але коли я намагаюся запустити Apache, мені виводиться помилка:**

`` shellcode
[mybox:user /src/php5] root# apachectl configtest
apachectl: /usr/local/apache/bin/httpd Undefined symbols:
_compress
_uncompress
````

Це означає, що проблема не в PHP, а у клієнтських бібліотеках MySQL.
Деякі з них вимагають складання PHP з опцією **-with-zlib**. Цей нюанс
описаний у MySQL FAQ.

**Windows: Я встановив PHP, але коли намагаюся відкрити сторінку скрипту
через браузер, отримую помилку: **

cgi error:
Зазначений CGI application misbehaved by not
returning a complete set of HTTP headers.
The headers it did return are:

Це означає, що PHP не зміг нічого вивести у стандартний потік
введення-виводу. Щоб побачити вихідну помилку, в командній
рядку перейдіть в директорію, що містить файл PHP
(`php.exe` у Windows) та запустіть **php -i**. Якщо існують будь-які
проблеми із запуском PHP, вам виведеться відповідна помилка, яка
підкаже вам, що треба виправити. Якщо ви побачите безліч коду HTML
(виведення функції [phpinfo()](function.phpinfo.md)), значить PHP працює
нормально.

Коли ви переконалися, що PHP нормально працює в командному рядку,
спробуйте звернутися до скрипту через браузер знову. Якщо знову
виникне помилка - це може означати одну з таких проблем:

- Права на файл вашого скрипта, `php.exe`, `php5ts.dll`, `php.ini`
або будь-якого модуля PHP не дозволяють анонімному користувачеві
інтернету `ISUR_<machinename>` до них звернутись.
- Файл скрипта відсутній (або, можливо, він не там, де
ви думаєте, щодо кореневого каталогу веб-сервера). Зверніть
увагу, що в IIS, ви можете відловити цю помилку, відзначивши опцію
'check file exists' в налаштуваннях "script mappings" в Internet
Services Manager. Якщо файл відсутній, сервер натомість поверне
помилку 404. При цьому також є додаткова перевага. IIS
буде проводити перевірки аутентифікації для файлу скрипта,
необхідні вам, спираючись на дозволи NTLanMan.

**Windows: Я все зробив за інструкцією, але PHP та IIS не хочуть працювати разом!**
Переконайтеся, що всі користувачі можуть запустити
ваш PHP-скрипт має право запускати `php.exe`! IIS використовує
анонімного користувача, що створюється під час інсталяції. Цей
Користувач повинен мати права на запуск `php.exe`. Так само, кожен
авторизований користувач повинен мати права на запуск `php.exe`. Для
IIS4 сказати йому, що PHP - це інтерпретатор скриптів. Також
прочитайте [це
FAQ](faq.installation.md#faq.installation.forceredirect).



**Коли я запускаю PHP як CGI на IIS, PWS, OmniHTTPD або Xitami, я отримую таку помилку: `Security Alert! PHP CGI cannot be accessed directly.`.**
Ви повинні встановити опцію
[cgi.force_redirect](ini.core.md#ini.cgi.force-redirect) рівну `0`.
За умовчанням вона дорівнює `1`. Переконайтеся, що вона не закоментована (з
допомогою `;`). Як і всі налаштування PHP, вона налаштовується в `php.ini`

Оскільки вона за умовчанням дорівнює `1`, критично важливо переконатися, що
використовується саме той php.ini, який потрібен. Читайте [це
FAQ](faq.installation.md#faq.installation.findphpini) для
подробиць.



**Як я можу зрозуміти, що мій `php.ini` знайдено та використовується? Таке враження, що зміни, що вносяться мною, ігноруються.**
Для перевірки, який саме php.ini використовується, запустіть функцію
[phpinfo()](function.phpinfo.md). Десь угорі буде список з
назвою `Configuration File (php.ini)`. З нього ви зможете зрозуміти,
який саме php.ini використовується. Якщо вказано лише директорію в
`PATH`, а файл конфігурації не прочитаний, просто скопіюйте його в цю
директорію. Якщо `php.ini` включено `PATH` - це означає, що він прочитаний.

Якщо `php.ini` читається і ви запускаєте PHP як модуль, то після
внесення змін до `php.ini`, необхідно перезавантажити веб-сервер.

Також дивіться опис
[php_ini_loaded_file()](function.php-ini-loaded-file.md).



**Як я можу додати директорію з PHP в `PATH` у Windows?**
У Windows:

- Старт → Панель Управління → Система

- Перейдіть на вкладку 'Додатково'

- Натисніть кнопку 'Змінні Оточення'

- Перегляньте розділ 'Системні Змінні'

- Знайдіть рядок, що містить змінну PATH

- Здійсніть на ній подвійне клацання мишею

- Допишіть у кінець рядка шлях до PHP, не забувши додати перед ним ';'
(наприклад `; C: \ php`)

- Натисніть OK

> **Примітка**: Не забудьте перезавантажитись після описаних вище
> дій і після перезавантаження перевірити, що змінна `PATH`
> містить потрібний шлях.



**Як я можу зробити файл `php.ini` доступним для PHP у windows?**
Є кілька способів зробити це. Якщо ви використовуєте Apache,
зверніться до документації Apache, інакше ви повинні
встановити змінне середовище `PHPRC`.



**Чи можна використовувати узгодження контенту Apache (опція MultiViews) з PHP?**
Якщо посилання на файли PHP містять розширення, все буде працювати
чудово. Це FAQ застосовується тільки для випадків, коли посилання не містять
розширення і ви хочете використовувати узгодження контенту для файлів PHP
з URL. У цьому випадку замініть рядок
`AddType application/x-httpd-php .php` на:

apache-confcode
AddHandler php5-script php
AddType text/html php
````

Це рішення не спрацює з Apache 1, оскільки модуль PHP не відловлює
`php-script`.



**PHP обмежений роботою тільки з методами GET та POST?**
Ні, можна працювати з будь-якими запитами, наприклад, CONNECT. Правильний
статус відповіді повинен буде надсилатися функцією
[header()](function.header.md). Якщо вам потрібно, щоб PHP працювати
тільки з методами GET та POST, необхідно налаштувати Apache
наступним чином:

apache-confcode
<LimitExcept GET POST>
Deny from all
</LimitExcept>
````
