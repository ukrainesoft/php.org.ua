- [«sem_acquire](function.sem-acquire.md)
- [sem_release »](function.sem-release.md)

- [PHP Manual](index.md)
- [Функції семафорів](ref.sem.md)
- Одержання ідентифікатора семафору

# sem_get

(PHP 4, PHP 5, PHP 7, PHP 8)

sem_get — Отримання ідентифікатора семафору

### Опис

**sem_get**(
int `$key`,
int `$max_acquire` u003d 1,
int `$permissions` u003d 0666,
bool `$auto_release` u003d **`true`**
): [SysvSemaphore](class.sysvsemaphore.md)\|false

**sem_get()** повертає ідентифікатор, який можна використовувати
для доступу до семафору System V за заданим значенням `key`.

Наступні виклики **sem_get()** для того самого ключа будуть
повертатимуть інші ідентифікатори, проте всі вони посилатимуться на один
і той самий семафор.

Якщо `key` дорівнює `0`, то для кожного виклику **sem_get()** створюється
новий приватний семафор.

### Список параметрів

`key`

`max_acquire`
Число процесів, які можуть одночасно використовувати семафор
задається через `max_acquire`.

`permissions`
Права доступу до семафору. Насправді, встановлюється лише
якщо процес є єдиним, хто використовує семафор.

`auto_release`
Визначає, чи семафор повинен автоматично звільнятися при завершенні
роботи.

### Значення, що повертаються

При успішному завершенні повертається позитивний ідентифікатор
семафора, або **`false`** у разі виникнення помилки.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- -------------------------------------------------- |
| 8.0.0 | У разі успішного виконання функція повертає екземпляр [SysvSemaphore](class.sysvsemaphore.md); раніше повертався ресурс (resource). |
| 8.0.0 | Тип `auto_release` змінено з цілого числа (int) на логічне значення (bool). |

### Примітки

**Увага**

Коли **sem_get()** використовується для доступу до семафору, створеного поза
PHP, зверніть увагу на те, що цей семафор повинен бути створений як
набір з трьох семафорів (наприклад, шляхом вказівки 3 як
параметра `nsems` під час виклику C-функції `semget()`), в іншому
У випадку, PHP не зможе звернутися до семафору.

### Дивіться також

- [sem_acquire()](function.sem-acquire.md) - Захоплення семафору
- [sem_release()](function.sem-release.md) - Звільнення семафору
- [ftok()](function.ftok.md) - Перетворення шляху та ідентифікатора
проекту в ключ System V IPC
