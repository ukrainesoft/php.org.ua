- [« ldap_parse_result](function.ldap-parse-result.md)
- [ldap_rename_ext »](function.ldap-rename-ext.md)

- [PHP Manual](index.md)
- [Функції LDAP](ref.ldap.md)
- читає запис

#ldap_read

(PHP 4, PHP 5, PHP 7, PHP 8)

ldap_read - Читає запис

### Опис

**ldap_read**(
[LDAP\Connection](class.ldap-connection.md)\|array `$ldap`,
array\|string `$base`,
array\|string `$filter`,
array `$attributes` u003d \[\],
int `$attributes_only` u003d 0,
int `$sizelimit` u003d -1,
int `$timelimit` u003d -1,
int `$deref` u003d **`LDAP_DEREF_NEVER`**,
?array `$controls` u003d **`null`**
): [LDAP\Result](class.ldap-result.md)\|array\|false

Виконує пошук для зазначеного `filter` у директорії в рамках
**`LDAP_SCOPE_BASE`**. Еквівалентно читання запису з директорії.

### Список параметрів

`ldap`
Примірник [LDAP\Connection](class.ldap-connection.md), що повертається
функцією [ldap_connect()](function.ldap-connect.md).

`base`
Базове DN для каталогу.

`filter`
Порожній фільтр не допустимо. Якщо потрібно отримати абсолютно всю
інформацію для цього запису, використовуйте фільтр `objectClassu003d*`. Якщо
відомо які типи запису використовуються на сервері каталогів, то можна
використовувати відповідний фільтр, такий як
`objectClassu003dinetOrgPerson`.

`attributes`
Масив необхідних атрибутів, наприклад, `array("mail", "sn", "cn")`.
Зверніть увагу, що "dn" завжди повертається, незалежно від того,
які типи атрибутів потрібні.

Використання цього параметра набагато ефективніше, ніж дія по
замовчуванням (яке повертає всі атрибути та їх значення).
Тому використання цього параметра слід вважати гарною практикою.

`attributes_only`
Повинний дорівнювати 1, тільки якщо потрібні типи атрибута. Якщо дорівнює 0,
то, за замовчуванням, вибираються типи атрибутів і значення.

`sizelimit`
Дозволяє обмежити кількість вибраних записів. Встановлення цього
параметра дорівнює 0 означає, що обмеження відсутнє.

> **Примітка**:
>
> Цей параметр НЕ може перевизначати попереднє встановлення sizelimit на
> стороні сервера. Хоча його можна встановити нижче.
>
> Деякі хости серверів каталогів будуть налаштовані так, щоб
> Повернути не більше, ніж попередньо встановлена кількість записів.
> Якщо це станеться, сервер вкаже, що тільки повернув частковий
> Набір результатів. Це також відбувається, якщо використовується цей
> параметр, щоб обмежити кількість вибраних записів.

`timelimit`
Встановлює кількість секунд, що обмежує процес пошуку. Встановлення
цього параметра дорівнює 0 означає, що обмеження відсутня.

> **Примітка**:
>
> Цей параметр НЕ може перевизначати передустановку timelimit на
> стороні сервера. Хоча його можна встановити нижче.

`deref`
Визначає те, як псевдоніми мають бути оброблені під час пошуку.
Може бути одним із наступних:

- **`LDAP_DEREF_NEVER`** - (за замовчуванням) псевдоніми ніколи не
розіменовуються.
- **`LDAP_DEREF_SEARCHING`** - псевдоніми повинні бути розіменовані у
час пошуку, але не при визначенні розташування базового об'єкта
пошуку.
- **`LDAP_DEREF_FINDING`** - псевдоніми повинні бути розіменовані при
визначення розташування базового об'єкта, але не під час пошуку.
- **`LDAP_DEREF_ALWAYS`** - псевдоніми повинні завжди
розіменовуватись.

`controls`
Масив [керуючих констант LDAP](ldap.controls.md) для надсилання в
запит.

### Значення, що повертаються

Повертає екземпляр [LDAP\Result](class.ldap-result.md) або
**`false`** у разі виникнення помилки.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- -------------------------------------------------- ---------------|
| 8.1.0 | Параметр `ldap` тепер очікує на екземпляр [LDAP\Connection](class.ldap-connection.md); раніше очікувався ресурс ([resource](language.types.resource.md)). |
| 8.1.0 | Повертає екземпляр [LDAP\Result](class.ldap-result.md); раніше повертався ресурс ([resource](language.types.resource.md)). |
| 8.0.0 | `controls` тепер припускає значення null; раніше значення за промовчанням було `[]`. |
| 4.0.5 | Було додано підтримку паралельного пошуку. Докладніше дивіться [ldap_search()](function.ldap-search.md). |
| 7.3 | Додано підтримку параметра `controls` |
