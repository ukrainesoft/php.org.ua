{"pageProps":{"page":{"slug":"ziparchive.registerprogresscallback.md","content":"# ZipArchive::registerProgressCallback\n\n(PHP >= 8.0.0, PECL zip >= 1.17.0)\n\nZipArchive::registerProgressCallback — Реєструє callback-функцію для надання оновлень під час закриття архіву\n\n### Опис\n\n```methodsynopsis\npublic ZipArchive::registerProgressCallback(float $rate, callable $callback): bool\n```\n\nРеєструє `callback`\\-функцію надання оновлень при закритті архіву.\n\n### Список параметрів\n\n`rate`\n\nЗміна між кожним викликом callback-функції (від 0,0 до 1,0).\n\n`callback`\n\nФункція отримуватиме поточний стан (`state`) у вигляді числа з плаваючою точкою (float) (від 0,0 до 1,0).\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\nУ цьому прикладі створюється ZIP-архів php.zip та відображається прогресія.\n\n**Приклад #1 Архівація файлу**\n\n```php\n$zip = new ZipArchive();\nif ($zip->open('php.zip', ZipArchive::CREATE | ZipArchive::OVERWRITE)) {\n    $zip->addFile(PHP_BINARY, 'php');\n    $zip->registerProgressCallback(0.05, function ($r) {\n        printf(\"%d%%\\n\", $r * 100);\n    });\n    $zip->close();\n}\n```\n\n### Примітки\n\n> **Зауваження** :\n> \n> Функція доступна, якщо PHP скомпільовано з libzip ≥ 1.6.0.\n\n### Дивіться також\n\n-   [ZipArchive::registerCancelCallback()](ziparchive.registercancelcallback.md) \\- Реєструє callback-функцію для дозволу скасування під час закриття архіву\n","title":"ZipArchive::registerProgressCallback","contentType":2,"navigation":[{"ziparchive.registercancelcallback.md":"« ZipArchive::registerCancelCallback"},{"ziparchive.renameindex.md":"ZipArchive::renameIndex »"},{"index.md":"PHP Manual"},{"class.ziparchive.md":"ZipArchive"}]}},"__N_SSG":true}