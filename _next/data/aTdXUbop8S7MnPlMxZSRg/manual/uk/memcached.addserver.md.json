{"pageProps":{"page":{"slug":"memcached.addserver.md","content":"# Memcached::addServer\n\n(PECL memcached >= 0.1.0)\n\nMemcached::addServer — Додає сервер до пулу\n\n### Опис\n\n```methodsynopsis\npublic Memcached::addServer(string $host, int $port, int $weight = 0): bool\n```\n\n**Memcached::addServer()** додає вказаний сервер у пул. При цьому з'єднання встановлено не буде, але якщо ви використовуєте налаштування консистентного розподілу ключів (за допомогою **`Memcached::DISTRIBUTION_CONSISTENT`** або **`Memcached::OPT_LIBKETAMA_COMPATIBLE`**), деякі внутрішні структури даних буде оновлено. Таким чином, якщо вам необхідно додати кілька серверів, краще використовувати [Memcached::addServers()](memcached.addservers.md) т.к. оновлення даних відбувається одноразово.\n\nОдин і той самий сервер може зустрічатися в пулі кілька разів, тому що жодних перевірок на дублювання входжень немає. Але це недоцільно; натомість потрібно використовувати параметр `weight` підвищення пріоритету даного сервера.\n\n### Список параметрів\n\n`host`\n\nІм'я хоста memcache сервера. Якщо ім'я хоста буде недійсним, функції, що працюють з даними, встановлять результуючий код **`Memcached::RES_HOST_LOOKUP_FAILURE`**. У версії 2.0.0b1, цей параметр також може визначати шлях до unix сокет файлу, наприклад, `/path/to/memcached.sock`для использования сокета домена UNIX (UDS), в данном случае`port` повинен бути встановлений у\n\n`port`\n\nПорт, на якому працює сервер memcache. Зазвичай це `11211` порт. У версії 2.0.0b1, встановіть цей параметр у при використанні сокету домену UNIX (UDS).\n\n`weight`\n\nВаговий коефіцієнт для заданого сервера стосовно загальної ваги всіх серверів у пулі. Ця установка керує ймовірністю сервера бути вибраним для використання. Вона використовується лише у разі консистентного розподілу і зазвичай відповідає кількості пам'яті, доступній для memcache на сервері.\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Приклад використання** Memcached::addServer()\\*\\*\\*\\*\n\n```php\n<?php\n$m = new Memcached();\n\n/* Добавляет 2 сервера в пул, вероятность быть выбранным\n   у второго сервера в 2 раза выше. */\n$m->addServer('mem1.domain.com', 11211, 33);\n$m->addServer('mem2.domain.com', 11211, 67);\n?>\n```\n\n### Дивіться також\n\n-   [Memcached::addServers()](memcached.addservers.md) \\- Додає кілька серверів у пул\n-   [Memcached::resetServerList()](memcached.resetserverlist.md) \\- Очищає список серверів\n","title":"Memcached::addServer","contentType":2,"navigation":[{"memcached.addbykey.md":"« Memcached::addByKey"},{"memcached.addservers.md":"Memcached::addServers »"},{"index.md":"PHP Manual"},{"class.memcached.md":"Memcached"}]}},"__N_SSG":true}