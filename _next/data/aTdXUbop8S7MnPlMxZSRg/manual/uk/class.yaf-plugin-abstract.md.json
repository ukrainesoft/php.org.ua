{"pageProps":{"page":{"slug":"class.yaf-plugin-abstract.md","content":"# Клас Yaf\\_Plugin\\_Abstract\n\n(Yaf >=1.0.0)\n\n## Вступ\n\nПлагіни дозволяють легко розширювати та налаштовувати фреймворк.\n\nПлагіни є класами. Визначення класу змінюватиметься залежно від компонента - вам може знадобитися реалізувати цей інтерфейс, але факт залишається фактом, плагін сам є класом.\n\nПлагін повинен бути завантажений у Yaf з використанням [Yaf\\_Dispatcher::registerPlugin()](yaf-dispatcher.registerplugin.md). Після реєстрації всі методи, реалізовані плагіном відповідно до цього інтерфейсу, будуть викликатися вчасно.\n\n## Приклади\n\n**Приклад #1 Приклад плагіна**\n\n```php\n<?php\n   /* Класс bootstrap должен быть определён как ./application/Bootstrap.php */\n   class Bootstrap extends Yaf_Bootstrap_Abstract {\n        public function _initPlugin(Yaf_Dispatcher $dispatcher) {\n            /* регистрируем плагин */\n            $dispatcher->registerPlugin(new TestPlugin());\n        }\n   }\n\n   /* класс плагина должен лежать в ./application/plugins/ */\n   class TestPlugin extends Yaf_Plugin_Abstract {\n        public function routerStartup(Yaf_Request_Abstract $request, Yaf_Response_Abstract $response) {\n            /* перед тем, как приступит к работе маршрутизатор,\n                пользователь может сам поработать с перезаписью URL */\n            var_dump(\"routerStartup\");\n        }\n        public function routerShutdown(Yaf_Request_Abstract $request, Yaf_Response_Abstract $response) {\n            /* Маршрутизатор отработал, следовательно можно перейти к проверке логина */\n            var_dump(\"routerShutdown\");\n        }\n        public function dispatchLoopStartup(Yaf_Request_Abstract $request, Yaf_Response_Abstract $response) {\n            var_dump(\"dispatchLoopStartup\");\n        }\n        public function preDispatch(Yaf_Request_Abstract $request, Yaf_Response_Abstract $response) {\n            var_dump(\"preDispatch\");\n        }\n        public function postDispatch(Yaf_Request_Abstract $request, Yaf_Response_Abstract $response) {\n            var_dump(\"postDispatch\");\n        }\n        public function dispatchLoopShutdown(Yaf_Request_Abstract $request, Yaf_Response_Abstract $response) {\n            /* последняя возможность для пользователя что-то сделать */\n            var_dump(\"dispatchLoopShutdown\");\n        }\n   }\n\n   Class IndexController extends Yaf_Controller_Abstract {\n        public function indexAction() {\n            return FALSE; //предотвращаем рендеринг\n        }\n   }\n\n   $config = array(\n       \"application\" => array(\n           \"directory\" => dirname(__FILE__) . \"/application/\",\n       ),\n   );\n\n   $app = new Yaf_Application($config);\n   $app->bootstrap()->run();\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\nstring(13) \"routerStartup\"\nstring(14) \"routerShutdown\"\nstring(19) \"dispatchLoopStartup\"\nstring(11) \"preDispatch\"\nstring(12) \"postDispatch\"\nstring(20) \"dispatchLoopShutdown\"\n```\n\n## Огляд класів\n\n```classsynopsis\n\n\n    \n    \n     \n      class Yaf_Plugin_Abstract\n     \n     {\n    \n\n    /* Методы */\n    \n   public dispatchLoopShutdown(Yaf_Request_Abstract $request, Yaf_Response_Abstract $response): void\npublic dispatchLoopStartup(Yaf_Request_Abstract $request, Yaf_Response_Abstract $response): void\npublic postDispatch(Yaf_Request_Abstract $request, Yaf_Response_Abstract $response): void\npublic preDispatch(Yaf_Request_Abstract $request, Yaf_Response_Abstract $response): void\npublic preResponse(Yaf_Request_Abstract $request, Yaf_Response_Abstract $response): void\npublic routerShutdown(Yaf_Request_Abstract $request, Yaf_Response_Abstract $response): void\npublic routerStartup(Yaf_Request_Abstract $request, Yaf_Response_Abstract $response): void\n\n   }\n```\n\n## Зміст\n\n-   [Yaf\\_Plugin\\_Abstract::dispatchLoopShutdown](yaf-plugin-abstract.dispatchloopshutdown.md)— Призначення dispatchLoopShutdown\n-   [Yaf\\_Plugin\\_Abstract::dispatchLoopStartup](yaf-plugin-abstract.dispatchloopstartup.md) \\- Хук перед відправкою циклу\n-   [Yaf\\_Plugin\\_Abstract::postDispatch](yaf-plugin-abstract.postdispatch.md) \\- Призначення postDispatch\n-   [Yaf\\_Plugin\\_Abstract::preDispatch](yaf-plugin-abstract.predispatch.md) \\- Призначення preDispatch\n-   [Yaf\\_Plugin\\_Abstract::preResponse](yaf-plugin-abstract.preresponse.md) \\- Призначення preResponse\n-   [Yaf\\_Plugin\\_Abstract::routerShutdown](yaf-plugin-abstract.routershutdown.md) \\- Призначення routerShutdown\n-   [Yaf\\_Plugin\\_Abstract::routerStartup](yaf-plugin-abstract.routerstartup.md) \\- Перехоплювач RouterStartup\n","title":"Клас Yaf\\_Plugin\\_Abstract","contentType":2,"navigation":[{"yaf-loader.setlibrarypath.md":"« Yaf\\_Loader::setLibraryPath"},{"yaf-plugin-abstract.dispatchloopshutdown.md":"Yaf\\_Plugin\\_Abstract::dispatchLoopShutdown »"},{"index.md":"PHP Manual"},{"book.yaf.md":"Yaf"}]}},"__N_SSG":true}