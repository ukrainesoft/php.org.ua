- [«password_hash](function.password-hash.md)
- [password_verify »](function.password-verify.md)

- [PHP Manual](index.md)
- [Функції хешування паролів](ref.password.md)
- Перевіряє, що зазначений хеш відповідає заданим опціям

#password_needs_rehash

(PHP 5 \>u003d 5.5.0, PHP 7, PHP 8)

password_needs_rehash — Перевіряє, чи вказаний хеш відповідає
заданим опціям

### Опис

**password_needs_rehash**(string `$hash`, string\|int\|null `$algo`,
array `$options` u003d \[\]): bool

Перевіряє, що зазначений хеш відповідає заданим опціям та заданому
алгоритму. Якщо ні, то можна зробити висновок про те, що хеш треба
перестворити.

### Список параметрів

`hash`
Хеш, створений функцією [password_hash()](function.password-hash.md).

`algo`
[Константа](password.constants.md), що позначає алгоритм, що використовується
хешування пароля.

`options`
Асоціативний масив із опціями. За документацією щодо підтримуваних
опціям для кожного алгоритму зверніться до розділу [Константи алгоритмів
хешування паролів](password.constants.md).

### Значення, що повертаються

Повертає **`true`**, якщо пароль повинен бути перехешований з
використанням алгоритму `algo` та опцій `options`, або **`false`**, якщо
ні.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- --------------------|
| 7.4.0 | Параметр `algo` зараз очікує рядок (string), але все ще приймає число (int) для зворотної сумісності. |

### Приклади

**Приклад #1 Приклад використання **password_needs_rehash()****

` <?php$password u003d 'rasmuslerdorf';$hash u003d '$2y$10$YCFsG6elYca568hBi2pZ0.3LDL5wjgxct1N8w/oLR/jfHsiQwCqTS';// Параметр стоимости может изменяться в связи со сменой оборудования$options u003d array('cost' u003d> 11 );// Проверка сохранённого хеша с помощью пароляif (password_verify($password, $hash)) {    // Проверяем, не нужно ли использовать более новый алгоритм    // или другую алгоритмическую стоимость    if (password_needs_rehash($hash, PASSWORD_DEFAULT, $options) ) {         // Якщо таки так, перехешуємо і зберігаємо новий хеш       $newHash u003d password_hash($password, PASS; PASS; }    // Авторизуємо користувача}?> `
