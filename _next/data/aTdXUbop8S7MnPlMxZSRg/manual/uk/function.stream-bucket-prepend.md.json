{"pageProps":{"page":{"slug":"function.stream-bucket-prepend.md","content":"# stream\\_bucket\\_prepend\n\n(PHP 5, PHP 7, PHP 8)\n\nstream\\_bucket\\_prepend — Додає бакет на початок бригади.\n\n### Опис\n\n```methodsynopsis\nstream_bucket_prepend(resource $brigade, object $bucket): void\n```\n\nФункція може бути використана для додавання бакета на початок бригади бакетів. Зазвичай вона викликається з методу [php\\_user\\_filter::filter()](php-user-filter.filter.md)\n\n### Список параметрів\n\n`brigade`\n\n`brigade` - Ресурс, що вказує на `бригаду бакетів`яка містить один або кілька об'єктів `bucket`\n\n`bucket`\n\nБакет.\n\n### Значення, що повертаються\n\nФункція не повертає значення після виконання.\n\n### Приклади\n\n**Приклад #1 Приклади використання **stream\\_bucket\\_prepend()****\n\n```php\n<?php\n\nclass foo extends php_user_filter {\n  protected $calls = 0;\n  public function filter($in, $out, &$consumed, $closing) {\n    while ($bucket = stream_bucket_make_writeable($in)) {\n      $consumed += $bucket->datalen;\n      if ($this->calls++ == 2) {\n        // Бакет снова появится перед любым другим бакетом.\n        stream_bucket_prepend($in, $bucket);\n      }\n    }\n    return PSFS_FEED_ME;\n  }\n}\nstream_filter_register('test', 'foo');\nprint  file_get_contents('php://filter/read=test/resource=foo');\n?>\n```\n","title":"stream\\_bucket\\_prepend","contentType":2,"navigation":[{"function.stream-bucket-new.md":"« stream\\_bucket\\_new"},{"function.stream-context-create.md":"stream\\_context\\_create »"},{"index.md":"PHP Manual"},{"ref.stream.md":"Функції для роботи з потоками"}]}},"__N_SSG":true}