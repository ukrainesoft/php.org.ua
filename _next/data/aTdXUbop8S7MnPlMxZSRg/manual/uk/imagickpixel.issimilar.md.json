{"pageProps":{"page":{"slug":"imagickpixel.issimilar.md","content":"# ImagickPixel::isSimilar\n\n(PECL imagick 2, PECL imagick 3)\n\nImagickPixel::isSimilar — Перевірити різницю між цим кольором та іншим\n\n### Опис\n\n```methodsynopsis\npublic ImagickPixel::isSimilar(ImagickPixel $color, float $fuzz): bool\n```\n\n**Увага**\n\nФункція поки що не документована; для знайомства доступний лише перелік аргументів.\n\nПеревіряється різниця кольору, описаного поточним об'єктом ImagickPixel та кольору в переданому об'єкті, шляхом побудови їх RGB значень у колірному кубі. Якщо різниця між ними менша за передане fuzz-значення, то кольори вважаються однаковими. Застарів на користь [ImagickPixel::isPixelSimilar()](imagickpixel.ispixelsimilar.md)\n\n### Список параметрів\n\n`color`\n\nОб'єкт ImagickPixel можна порівняти з поточним об'єктом.\n\n`fuzz`\n\nМаксимальна різниця, за якої кольори вважатимуться однаковими. Теоретичним максимумом цього значення вважатимуться квадратний корінь із трьох (1.732).\n\n### Значення, що повертаються\n\nУ разі успішної роботи повертає **`true`**\n\n### Приклади\n\n**Приклад #1 Приклад використання** ImagickPixel::isSimilar()\\*\\*\\*\\*\n\n```php\n<?php\n        // Тесты ниже написаны с учётом максимальной дистанции 255\n        // следовательно мы должны масштабировать их на корень из 3 - длину диагонали\n        // единичного куба\n        $root3 = 1.732050807568877;\n\n        $tests = array(\n            ['rgb(245, 0, 0)',      'rgb(255, 0, 0)',   9 / $root3,         false,],\n            ['rgb(245, 0, 0)',      'rgb(255, 0, 0)',  10 / $root3,         true,],\n            ['rgb(0, 0, 0)',        'rgb(7, 7, 0)',     9 / $root3,         false,],\n            ['rgb(0, 0, 0)',        'rgb(7, 7, 0)',    10 / $root3,         true,],\n            ['rgba(0, 0, 0, 1)',    'rgba(7, 7, 0, 1)', 9 / $root3,         false,],\n            ['rgba(0, 0, 0, 1)',    'rgba(7, 7, 0, 1)',    10 / $root3,     true,],\n            ['rgb(128, 128, 128)',  'rgb(128, 128, 120)',   7 / $root3,     false,],\n            ['rgb(128, 128, 128)',  'rgb(128, 128, 120)',   8 / $root3,     true,],\n            ['rgb(0, 0, 0)',        'rgb(255, 255, 255)',   254.9,          false,],\n            ['rgb(0, 0, 0)',        'rgb(255, 255, 255)',   255,            true,],\n            ['rgb(255, 0, 0)',      'rgb(0, 255, 255)',     254.9,          false,],\n            ['rgb(255, 0, 0)',      'rgb(0, 255, 255)',     255,            true,],\n            ['black',               'rgba(0, 0, 0)',        0.0,            true],\n            ['black',               'rgba(10, 0, 0, 1.0)',  10.0 / $root3,  true],);\n\n        $output = \"<table width='100%' class='infoTable'><thead>\n                <tr>\n                <th>\n                Color 1\n                </th>\n                <th>\n                Color 2\n                </th>\n                <th>\n                    Тестовая дистанция * 255\n                </th>\n                <th>\n                    Есть в пределах досягаемости\n                </th>\n                </tr>\n        </thead>\";\n\n        $output .= \"<tbody>\";\n\n        foreach ($tests as $testInfo) {\n            $color1 = $testInfo[0];\n            $color2 = $testInfo[1];\n            $distance = $testInfo[2];\n            $expectation = $testInfo[3];\n            $testDistance = ($distance / 255.0);\n\n            $color1Pixel = new \\ImagickPixel($color1);\n            $color2Pixel = new \\ImagickPixel($color2);\n\n            $isSimilar = $color1Pixel->isPixelSimilar($color2Pixel, $testDistance);\n\n\n            if ($isSimilar !== $expectation) {\n                echo \"Тест дистанции провален. Цвет [$color1] в сравнении с [$color2] не попадает в дистанцию $testDistance.\".NL;\n            }\n\n            $layout = \"<tr>\n                <td>%s</td>\n                <td>%s</td>\n                <td>%s</td>\n                <td style='text-align: center;'>%s</td>\n            </tr>\";\n\n            $output .= sprintf(\n                $layout,\n                $color1,\n                $color2,\n                $distance,\n                $isSimilar ? 'да' : 'нет'\n            );\n        }\n\n        $output .= \"</tbody></table>\";\n\n        return $output;\n\n?>\n```\n","title":"ImagickPixel::isSimilar","contentType":2,"navigation":[{"imagickpixel.ispixelsimilarquantum.md":"« ImagickPixel::isPixelSimilarQuantum"},{"imagickpixel.setcolor.md":"ImagickPixel::setColor »"},{"index.md":"PHP Manual"},{"class.imagickpixel.md":"ImagickPixel"}]}},"__N_SSG":true}