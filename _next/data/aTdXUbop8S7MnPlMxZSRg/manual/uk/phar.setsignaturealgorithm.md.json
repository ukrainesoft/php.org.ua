{"pageProps":{"page":{"slug":"phar.setsignaturealgorithm.md","content":"# Phar::setSignatureAlgorithm\n\n(PHP 5 >= 5.3.0, PHP 7, PHP 8, PECL phar >= 1.1.0)\n\nPhar::setSignatureAlgorithm — Встановити алгоритм підписання phar-архіву та застосування його\n\n### Опис\n\n```methodsynopsis\npublic Phar::setSignatureAlgorithm(int $algo, ?string $privateKey = null): void\n```\n\n> **Зауваження** :\n> \n> Для коректної роботи з об'єктами [Phar](class.phar.md) цьому методу необхідне встановлення значення php.ini `phar.readonly`в . В іншому випадку, буде викинуто виняток [PharException](class.pharexception.md)\n\nВстановлює алгоритм підписання phar-архіву та застосовує його. Доступні такі алгоритми підписання: `Phar::MD5` `Phar::SHA1` `Phar::SHA256` `Phar::SHA512`и`Phar::OPENSSL`\n\nЗверніть увагу, що для всіх phar-архівів, що виконуються, підпис створюється автоматично, з використанням за умовчанням `SHA1`. Архіви з даними на основі tar або zip (створені за допомогою класу [PharData](class.phardata.md)) повинні мати явно створену за допомогою **Phar::setSignatureAlgorithm()** підпис.\n\n### Список параметрів\n\n`algo`\n\nОдна из констант:`Phar::MD5` `Phar::SHA1` `Phar::SHA256` `Phar::SHA512`или`Phar::OPENSSL`\n\n`privateKey`\n\nСекретний ключ OpenSSL, витягнутий із сертифіката, або файл із ключем OpenSSL:\n\n```php\n<?php\n$private = openssl_get_privatekey(file_get_contents('private.pem'));\n$pkey = '';\nopenssl_pkey_export($private, $pkey);\n$p->setSignatureAlgorithm(Phar::OPENSSL, $pkey);\n?>\n```\n\nПодробиці про іменування та розміщення файлу відкритого ключа дивіться у розділі [Введення в phar](phar.using.md)\n\n### Значення, що повертаються\n\nФункція не повертає значення після виконання.\n\n### Помилки\n\nВикидає виняток [UnexpectedValueException](class.unexpectedvalueexception.md) за будь-яких помилок, крім помилок запису на диск. При помилках запису на диск викидає виняток [PharException](class.pharexception.md)\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.0.0 | `privateKey` тепер допускає значення null. |\n\n### Дивіться також\n\n-   [Phar::getSupportedSignatures()](phar.getsupportedsignatures.md) \\- Отримати масив підтримуваних алгоритмів підпису архіву\n-   [Phar::getSignature()](phar.getsignature.md) \\- Отримати MD5/SHA1/SHA256/SHA512/OpenSSL підпис Phar-архіву\n","title":"Phar::setSignatureAlgorithm","contentType":2,"navigation":[{"phar.setmetadata.md":"« Phar::setMetadata"},{"phar.setstub.md":"Phar::setStub »"},{"index.md":"PHP Manual"},{"class.phar.md":"Phar"}]}},"__N_SSG":true}