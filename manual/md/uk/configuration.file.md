- [«Конфігурація часу виконання](configuration.md)
- [Файли .user.ini »](configuration.file.per-user.md)

- [PHP Manual](index.md)
- [Конфігурація часу виконання](configuration.md)
- Файл конфігурації

## Файл конфігурації

Файл конфігурації (php.ini) зчитується при запуску PHP. Для версій
серверних модулів PHP це відбувається лише один раз при запуску
веб-сервер. Для CGI та CLI версій це відбувається під час кожного виклику.

Пошук `php.ini` провадиться в наступних місцях (по порядку пошуку):

- За місцем розташування модуля SAPI ('PHPIniDir' директива Apache 2,
`-c` параметр командного рядка CGI та CLI)
- Змінне середовище `PHPRC`.
- Розташування файлу `php.ini` може бути вказано для різних
версії PHP. Кореневий ключ реєстру залежить від розрядності
операційної системи та установки PHP. Для 32-розрядного PHP на
32-розрядний Windows або 64-розрядний PHP і 64-розрядний Windows
використовуйте `[(HKEY_LOCAL_MACHINE\SOFTWARE\PHP]`. Для 32-розрядного
PHP на 64-розрядному Windows
`[HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\PHP]`. наступні ключі
реєстру досліджуються при пошуку для установок з збігається
розрядністю: `[HKEY_LOCAL_MACHINE\SOFTWARE\PHP\x.y.z]`,
`[HKEY_LOCAL_MACHINE\SOFTWARE\PHP\x.y]` та
`[HKEY_LOCAL_MACHINE\SOFTWARE\PHP\x]`, де x, y та z мають на увазі
major, minor та release версії PHP. Для 32-розрядного PHP на
64-розрядний Windows ключі реєстру будуть іншими:
`[HKEY_LOCAL_MACHINE\SOFTWARE\WOW6421Node\PHP\x.y.z]`,
`[HKEY_LOCAL_MACHINE\SOFTWARE\WOW6421Node\PHP\x.y]` та
`[HKEY_LOCAL_MACHINE\SOFTWARE\WOW6421Node\PHP\x]`. Якщо також
є значення `IniFilePath` у кожному з цих ключів, то
місцезнаходження `php.ini` буде визначено першим ключем по порядку
(лише для Windows).
- `[HKEY_LOCAL_MACHINE\SOFTWARE\PHP]` або
`[HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\PHP]`, значення
`IniFilePath` (лише для Windows).
- Поточна директорія (за винятком CLI).
- директорія веб-сервера (для модулів SAPI) або директорія PHP (інакше
у Windows).
- У директорії Windows (`C:\windows` або `C:\winnt`) (для Windows)
або `-with-config-file-path` з вибором при компіляції.

Якщо файл `php-SAPI.ini` існує (де SAPI - це тип інтерфейсу,
який використовується, наприклад, `php-cli.ini` або `php-apache.ini`), то
він використовується замість `php.ini`. Тип інтерфейсу між веб-сервером та
PHP може бути визначений за допомогою функції
[php_sapi_name()](function.php-sapi-name.md).

> **Примітка**:
>
> Веб-сервер Apache змінює поточну директорію на кореневу під час запуску,
> в результаті чого PHP зчитує `php.ini` з кореневої файлової
> системи, якщо файл існує.

В php.ini можна використовувати змінні оточення, як показано нижче.

**Приклад #1 Змінні оточення `php.ini`**

`` inicode
; PHP_MEMORY_LIMIT взято зі змінних оточення
memory_limit u003d ${PHP_MEMORY_LIMIT}
````

Директиви `php.ini`, що обробляються модулями, описані на відповідних
сторінках модулів. [Список директив ядра](ini.md) є в
додаток. Не всі директиви PHP документовані в цьому посібнику:
ознайомлення з повним списком директив доступних у вашій версії PHP,
прочитайте коментарі вашого `php.ini`. Крім того, ви можете знайти
корисною [»|останню версію
`php.ini`](https://github.com/php/php-src/blob/master/php.ini-production)
з Git.

**Приклад #2 Приклад `php.ini`**

`` inicode
; будь-який текст у рядку після крапки з комою (;) без лапок ігнорується
[php]; маркери розділів (текст у квадратних дужках) також ігнорується
; Можуть бути встановлені такі логічні значення:
; true, on, yes
; або false, off, no, none
register_globalsu003doff
track_errorsu003dyes

; ви можете укладати рядки в подвійні лапки
include_path u003d ".:/usr/local/lib/php"

; зворотний сліш обробляється так само, як будь-які інші символи
include_path u003d ".;c:\php\lib"
````

Можливо звертатися до існуючих ini-змінних із ini-файлів. Приклад:
`open_basedir u003d ${open_basedir} ":/new/dir"`.

### Сканування директорій

Існує можливість налаштувати PHP для сканування директорій
у пошуках .ini-файлів після зчитування `php.ini`. Це можна зробити на
момент компіляції, вказавши опцію **--with-config-file-scan-dir**.
Сканування директорій може бути перевизначено під час виконання
встановленням змінного середовища `PHP_INI_SCAN_DIR`.

Можна сканувати кілька директорій, розділяючи їх роздільником,
використовуваному у вашій операційній системі (`;' у Windows, NetWare та RISC
OS; `:` на решті платформ; у PHP є константа
**`PATH_SEPARATOR`**, яку можна використовувати) Якщо
`PHP_INI_SCAN_DIR` порожня, то PHP також скануватиме директорію,
задану на етапі компіляції за допомогою **-with-config-file-scan-dir**.

У кожній директорії PHP сканує всі файли, що закінчуються на `.ini` в
алфавітному порядку. Список всіх завантажених файлів у тому порядку,
якому вони були завантажені, доступний за допомогою функції
[php_ini_scanned_files()](function.php-ini-scanned-files.md), або при
запуск PHP з опцією **--ini**.

Припустимо, що PHP налаштований на --with-config-file-scan-diru003d/etc/php.d,
та роздільник шляхів:...

$php
PHP завантажить усі файли /etc/php.d/*.ini як конфігураційні.

$ PHP_INI_SCAN_DIRu003d/usr/local/etc/php.d php
PHP завантажить усі файли /usr/local/etc/php.d/*.ini як конфігураційні.

$ PHP_INI_SCAN_DIRu003d:/usr/local/etc/php.d php
PHP завантажить усі файли /etc/php.d/*.ini, а потім
/usr/local/etc/php.d/*.ini як конфігураційні.

$ PHP_INI_SCAN_DIRu003d/usr/local/etc/php.d: php
PHP завантажить усі файли /usr/local/etc/php.d/*.ini, а потім
/etc/php.d/*.ini як конфігураційні.
