{"pageProps":{"page":{"slug":"mysqli.insert-id.md","content":"# mysqli::$insert\\_id\n\n# mysqli\\_insert\\_id\n\n(PHP 5, PHP 7, PHP 8)\n\nmysqli::$insert\\_id -- mysqli\\_insert\\_id — Повертає значення, створене для стовпця AUTO\\_INCREMENT останнім запитом\n\n### Опис\n\nОб'єктно-орієнтований стиль\n\nint|string[$mysqli->insert\\_id](mysqli.insert-id.md)\n\nПроцедурний стиль\n\n```methodsynopsis\nmysqli_insert_id(mysqli $mysql): int|string\n```\n\nПовертає ідентифікатор, згенерований запитом `INSERT`или`UPDATE` для таблиці зі стовпцем, що має атрибут `AUTO_INCREMENT`. У разі багаторядкового оператора `INSERT` він повертає перше автоматично згенероване значення, яке було успішно додано.\n\nВиконання запиту `INSERT`или`UPDATE`с использованием MySQL-функции`LAST_INSERT_ID()`также изменит значение, возвращаемое**mysqli\\_insert\\_id()**. Якщо `LAST_INSERT_ID(expr)` використовувався для генерації значення `AUTO_INCREMENT`, він повертає значення останнього `expr` замість згенерованого значення `AUTO_INCREMENT`\n\nПовертає , якщо попередній оператор не змінив значення `AUTO_INCREMENT`. . **mysqli\\_insert\\_id()** повинен викликатись відразу після запиту, що згенерував значення.\n\n### Список параметрів\n\n`mysql`\n\nТільки для процедурного стилю: об'єкт [mysqli](class.mysqli.md), який повернула функція [mysqli\\_connect()](function.mysqli-connect.md)или функция[mysqli\\_init()](mysqli.init.md)\n\n### Значення, що повертаються\n\nЗначение поля`AUTO_INCREMENT`, яке торкнулося попереднім запитом. Повертає нуль, якщо попередній запит не торкнувся таблиці, що містять поле `AUTO_INCREMENT`\n\nТільки запити, видані з використанням поточного з'єднання, впливають на значення, що повертається. На значення не впливають запити, видані за допомогою інших підключень або клієнтів.\n\n> **Зауваження** :\n> \n> Якщо число більше за максимальне значення цілого числа, функція поверне рядок.\n\n### Приклади\n\n**Приклад #1 Приклад функції $mysqli->insert\\_id**\n\nОб'єктно-орієнтований стиль\n\n```php\n<?php\n\nmysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n$mysqli = new mysqli(\"localhost\", \"my_user\", \"my_password\", \"world\");\n\n$mysqli->query(\"CREATE TABLE myCity LIKE City\");\n\n$query = \"INSERT INTO myCity VALUES (NULL, 'Stuttgart', 'DEU', 'Stuttgart', 617000)\";\n$mysqli->query($query);\n\nprintf(\"ID новой записи: %d.\\n\", $mysqli->insert_id);\n\n/* удаление таблицы */\n$mysqli->query(\"DROP TABLE myCity\");\n```\n\nПроцедурний стиль\n\n```php\n<?php\n\nmysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n$link = mysqli_connect(\"localhost\", \"my_user\", \"my_password\", \"world\");\n\nmysqli_query($link, \"CREATE TABLE myCity LIKE City\");\n\n$query = \"INSERT INTO myCity VALUES (NULL, 'Stuttgart', 'DEU', 'Stuttgart', 617000)\";\nmysqli_query($link, $query);\n\nprintf(\"ID новой записи: %d.\\n\", mysqli_insert_id($link));\n\n/* удаление таблицы */\nmysqli_query($link, \"DROP TABLE myCity\");\n```\n\nРезультат виконання наведених прикладів:\n\n```\nID новой записи: 1.\n```\n","title":"mysqli::$insert\\_id","contentType":2,"navigation":[{"mysqli.init.md":"« mysqli::init"},{"mysqli.kill.md":"mysqli::kill »"},{"index.md":"PHP Manual"},{"class.mysqli.md":"mysqli"}]}},"__N_SSG":true}