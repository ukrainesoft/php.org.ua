- [« Типи ключів](openssl.key-types.md)
- [Прапори/Константи CMS »](openssl.cms.flags.md)

- [PHP Manual](index.md)
- [Предвизначені константи](openssl.constants.md)
- Прапори/константи PKCS7

## Прапори/константи PKCS7

Функції S/MIME використовують прапори, які визначаються як набір бітів,
який може включати одну або кілька наступних констант:

| Константа Опис |
|----------------------|-------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -----------------------------|
| **`PKCS7_TEXT`** | Додає заголовок вмісту text/plain у зашифроване або підписане повідомлення. При розшифровці або перевірці заголовки будуть отримані під час виведення. Якщо після розшифровки або перевірки отриманого повідомлення не має MIME-тип text/plain, буде помилка. |
| **`PKCS7_BINARY`** | Зазвичай вхідне повідомлення наводиться до "канонічного" формату, що ефективно при використанні CR і LF в кінці рядка: це потрібно сертифікацією S/MIME. Коли ця опція вказана, проблем із трансляцією символів кінця рядка не відбувається. Це зручно у разі обробки бінарних даних, які можуть бути не у форматі MIME. |
| **`PKCS7_NOINTERN`** | При перевірці повідомлення, сертифікати (якщо є), включені в повідомлення зазвичай перевіряються на наявність підпису. З цією опцією використовуються лише сертифікати, визначені в параметрі `extracerts` функції [openssl_pkcs7_verify()](function.openssl-pkcs7-verify.md). Інші сертифікати залишаються непідтвердженими центром сертифікації. |
| **`PKCS7_NOVERIFY`** | Не перевіряти підписувачів сертифіката підписаного повідомлення. |
| **`PKCS7_NOCHAIN`** | Не перевіряти підписувачів сертифіката по ланцюжку: тобто не використовувати сертифікати у підписаному повідомленні як неавторизовані центром сертифікації. |
| **`PKCS7_NOCERTS`** | При підписанні повідомлення сертифікат підписувача зазвичай включається в повідомлення - з даною опцією сертифікат не додається. Це дозволяє знизити розмір підписаного повідомлення, але перевіряючий повинен мати копію сертифіката підписувача, доступну локально (це не потрібно при використанні параметра `extracerts` функції [openssl_pkcs7_verify()](function.openssl-pkcs7-verify.md)). |
| **`PKCS7_NOATTR`** | Зазвичай, коли повідомлення підписано, набір атрибутів також включається час підписання і підтримуваний симетричний алгоритм. За допомогою цієї опції таке додавання не відбувається. |
| **`PKCS7_DETACHED`** | Під час підписання повідомлення використовуйте підписання у відкритому вигляді (cleartext signing) з MIME-типом "multipart/signed". Це виконується за замовчуванням, якщо не вказувати нічого в функції 'flags' [openssl_pkcs7_sign()](function.openssl-pkcs7-sign.md). Якщо вимкнути цю опцію, повідомлення буде підписано з використанням opaque signing, що є більш стійким до передачі поштою, але не може бути прочитане поштовими агентами, які не підтримують S/MIME. |
| **`PKCS7_NOSIGS`** | Не намагатись перевірити підписи у повідомлення |

**Константи PKCS7**
