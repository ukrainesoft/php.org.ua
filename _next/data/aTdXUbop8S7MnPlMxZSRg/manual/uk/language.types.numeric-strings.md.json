{"pageProps":{"page":{"slug":"language.types.numeric-strings.md","content":"## Числові рядки\n\nУ PHP рядок (string) вважається числовим, якщо його можна інтерпретувати як ціле (int) число або число з плаваючою точкою (float).\n\nФормально з PHP 8.0.0:\n\n```\nWHITESPACES      \\s*\nLNUM             [0-9]+\nDNUM             ([0-9]*[\\.]{LNUM}) | ({LNUM}[\\.][0-9]*)\nEXPONENT_DNUM    (({LNUM} | {DNUM}) [eE][+-]? {LNUM})\nINT_NUM_STRING   {WHITESPACES} [+-]? {LNUM} {WHITESPACES}\nFLOAT_NUM_STRING {WHITESPACES} [+-]? ({DNUM} | {EXPONENT_DNUM}) {WHITESPACES}\nNUM_STRING       ({INT_NUM_STRING} | {FLOAT_NUM_STRING})\n```\n\nУ PHP також є концепція *префіксною* числового рядка. Це рядок, який починається як числовий і продовжується будь-якими іншими символами.\n\n> **Зауваження** :\n> \n> Будь-який рядок, що містить букву `E` (без урахування регістру), обмежену цифрами, сприйматиметься як число, виражене у науковій нотації. Це може призвести до несподіваних результатів.\n> \n> ```php\n> <?php\n> \n> var_dump(\"0D1\" == \"000\"); // false, \"0D1\" - не наукова нотація\n> var_dump(\"0E1\" == \"000\"); // true, \"0E1\" - це 0 * (10 ^ 1) або 0\n> var_dump(\"2E1\" == \"020\"); // true, \"2E1\" - це 2 * (10 ^ 1) або 20\n> ?>\n> ```\n\n### Рядки, що використовуються в числових контекстах\n\nКоли рядок необхідно використовувати як число (наприклад арифметичні операції, декларація цілого чисельного типу, і т. д.), використовується наступний алгоритм дій:\n\n1.  Якщо рядок числовий, представляє ціле число і не перевищує максимально допустимого значення для типу int (визначеного в\\*\\*`PHP_INT_MAX`\\*\\*), вона наводиться до типу int. Інакше вона наводиться до типу float.\n2.  Якщо в заданому контексті можна використовувати префіксний числовий рядок, то, якщо початок рядка представляє ціле число і не перевищує максимально допустимого значення для типу int (визначеного в\\*\\*`PHP_INT_MAX`**), вона наводиться до типу int. Інакше вона наводиться до типу float. Також, у цьому випадку, видається помилка рівня**`E_WARNING`\\*\\*\n3.  Якщо рядок не числовий - викидається виняток[TypeError](class.typeerror.md)\n\n### Поведінка до PHP 8.0.0\n\nДо PHP 8.0.0 рядок вважався числовим лише у випадку, якщо він *починалася* із пробілових символів. Якщо вона *завершувалася* пробельними символами - вона вважалася префіксною числовою.\n\nДо PHP 8.0.0, коли рядок необхідно використовувати як число, використовувався той же алгоритм, що описаний вище, але з деякими відмінностями:\n\n-   Використання префіксного числового рядка викликало помилку рівня\\*\\*`E_NOTICE`**, а не**`E_WARNING`\\*\\*\n-   Якщо рядок не був числовим, викликалася помилка рівня\\*\\*`E_WARNING`\\*\\*, а сам рядок приводився до\n\nДо PHP 7.1.0 не викликалася помилка рівня **`E_NOTICE`**, ни\\*\\*`E_WARNING`\\*\\*\n\n```php\n<?php\n$foo = 1 + \"10.5\";                // $foo — число с плавающей точкой (11.5)\n$foo = 1 + \"-1.3e3\";              // $foo — число с плавающей точкой (-1299)\n$foo = 1 + \"bob-1.3e3\";           // TypeError начиная с PHP 8.0.0. Ранее $foo принималось за целое число (1)\n$foo = 1 + \"bob3\";                // TypeError начиная с PHP 8.0.0, Ранее $foo принималось за целое число (1)\n$foo = 1 + \"10 Small Pigs\";       // $foo — целое (11). В PHP 8.0.0 выдаётся ошибка уровня E_WARNING, а в более ранних версиях — уровня E_NOTICE\n$foo = 4 + \"10.2 Little Piggies\"; // $foo — число с плавающей точкой (14.2). В PHP 8.0.0 выдаётся ошибка уровня E_WARNING, а в более ранних версиях — уровня E_NOTICE\n$foo = \"10.0 pigs \" + 1;          // $foo — число с плавающей точкой (11). В PHP 8.0.0 выдаётся ошибка уровня E_WARNING, а в более ранних версиях — уровня E_NOTICE\n$foo = \"10.0 pigs \" + 1.0;        // $foo — число с плавающей точкой (11). В PHP 8.0.0 выдаётся ошибка уровня E_WARNING, а в более ранних версиях — уровня E_NOTICE\n?>\n```\n","title":"Числові рядки","contentType":2,"navigation":[{"language.types.string.md":"« Рядки"},{"language.types.array.md":"Масиви »"},{"index.md":"PHP Manual"},{"language.types.md":"Типи"}]}},"__N_SSG":true}