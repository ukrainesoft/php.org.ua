- [«socket_create_pair](function.socket-create-pair.md)
- [socket_export_stream »](function.socket-export-stream.md)

- [PHP Manual](index.md)
- [Функції сокету](ref.sockets.md)
- створює сокет (кінцеву точку для обміну інформацією)

# socket_create

(PHP 4 \>u003d 4.1.0, PHP 5, PHP 7, PHP 8)

socket_create — створює сокет (кінцеву точку для обміну інформацією)

### Опис

**socket_create**(int `$domain`, int `$type`, int `$protocol`):
[Socket](class.socket.md)\|false

Створює та повертає екземпляр [Socket](class.socket.md), також
називається як кінцева точка обміну інформацією. Типове мережеве
з'єднання складається з двох сокетів, один з яких виконує роль
клієнта, а інший виконує роль сервера.

### Список параметрів

`domain`
Параметр `domain` визначає сімейство протоколів, що використовуються
сокетами.

| Сімейство Опис |
|----------------|-------------------------------- -------------------------------------------------- -------------------------------------------------- ---------------------------------|
| **`AF_INET`** | Internet-протоколи IPv4. TCP та UDP – це стандартні протоколи цього сімейства протоколів. |
| **`AF_INET6`** | Інтернет-протоколи IPv6. TCP та UDP – це стандартні протоколи цього сімейства протоколів. |
| **`AF_UNIX`** | Сімейство протоколів для локального обміну даними. Висока ефективність та низькі накладні витрати роблять його чудовим видом IPC (міжпроцесної взаємодії). |

**Доступні сімейства адрес/протоколів**

`type`
Параметр `type` визначає тип обміну даними, який буде
використовуватись сокетом.

| Тип | Опис |
|----------------------|-------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- ---------------------------|
| **`SOCK_STREAM`** | Забезпечує послідовні, надійні, повнодуплексні, байтові потоки із встановленням з'єднання. Може підтримуватись механізм передачі позасмугових (out-of-band) даних. Протокол TCP заснований цьому типі сокетів. |
| **`SOCK_DGRAM`** | Підтримує датаграми (ненадійні повідомлення без встановлення з'єднання фіксованої максимальної довжини). Протокол UDP ґрунтується на цьому типі сокетів. |
| **`SOCK_SEQPACKET`** | Надає послідовну, надійну, двонаправлену передачу датаграм, що базується на з'єднаннях, з фіксованою максимальною довжиною. Споживач повинен читати весь пакет повністю за кожної ітерації читання. |
| **`SOCK_RAW`** | Надає доступ за непідготовленим (raw) мережевим протоколом. Цей спеціальний тип сокету може бути використаний для ручного створення будь-якого типу протоколу. Стандартне використання цього сокетів - виконання запитів ICMP (таких як ping). |
| **`SOCK_RDM`** | Надає надійний рівень датаграм, що не гарантує збереження порядку. Швидше за все, це сімейство протоколів не реалізовано у вашій операційній системі. |

**Доступні типи сокетів**

`protocol`
Параметр `protocol` вказує конкретний протокол у заданому сімействі
протоколів `domain`, який використовуватиметься в обміні даними з
створеним сокетом. Відповідне значення може бути отримано на ім'я
за допомогою функції [getprotobyname()](function.getprotobyname.md).
Якщо бажаний протокол TCP чи UDP, то відповідні константи
**`SOL_TCP`** та **`SOL_UDP`** також можуть бути використані.

| Назва | Опис |
|----------|-------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- --------------------|
| icmp | ICMP (Internet Control Message Protocol, протокол міжмережевих керуючих повідомлень) використовується переважно шлюзами та хостами для повідомлення про помилки передачі датаграм. Команда "ping" (присутня у більшості сучасних операційних систем) - це приклад використання протоколу ICMP. |
| udp | UDP (User Datagram Protocol, протокол користувача датаграм) - це протокол без встановлення з'єднання, ненадійний, протокол з фіксованою довжиною записів. Через ці аспекти, UDP вимагає мінімальної кількості службової інформації. |
| tcp | TCP (The Transmission Control Protocol, протокол управління передачею) - це надійний, що базується на з'єднаннях, потокоорієнтований, повнодуплексний протокол. TCP гарантує, що всі пакети даних будуть отримані в порядку, в якому вони були відправлені. Якщо будь-який пакет будь-яким чином був втрачений під час передачі даних, TCP автоматично передаватиме пакет повторно доти, поки хост призначення не підтвердить цей пакет. З метою надійності та продуктивності, реалізація протоколу TCP сама вибирає відповідні межі октету нижче рівня обміну датаграмами. Таким чином, програми, що використовують TCP, повинні надавати можливість часткової передачі записів. |

**Стандартні протоколи**

### Значення, що повертаються

Функція **socket_create()** повертає екземпляр
[Socket](class.socket.md) у разі успішного виконання, або
**`false`** у разі виникнення помилки. Код помилки може бути отриманий
за допомогою виклику функції
[socket_last_error()](function.socket-last-error.md). Ця помилка може
бути передана функції [socket_strerror()](function.socket-strerror.md)
для отримання текстового опису помилки.

### Помилки

Якщо вказано неправильний параметр `domain` або `type`, функція
**socket_create()** використовуватиме за замовчуванням значення
**`AF_INET`** та **`SOCK_STREAM`** відповідно, та додатково до
цьому видасть повідомлення **`E_WARNING`**.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- ------------------------------------|
| 8.0.0 | У разі успішного виконання, функція повертає екземпляр [Socket](class.socket.md); раніше повертався ресурс (resource). |

### Дивіться також

- [socket_accept()](function.socket-accept.md) - Приймає
з'єднання на сокеті
- [socket_bind()](function.socket-bind.md) - Прив'язує ім'я до
сокету
- [socket_connect()](function.socket-connect.md) - Починає
з'єднання з сокетом
- [socket_listen()](function.socket-listen.md) - Прослуховує
вхідні з'єднання на сокеті
- [socket_last_error()](function.socket-last-error.md) - Повертає
останню помилку на сокеті
- [socket_strerror()](function.socket-strerror.md) - Повертає
рядок, що описує помилку сокету
