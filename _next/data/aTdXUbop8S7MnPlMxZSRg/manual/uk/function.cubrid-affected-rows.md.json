{"pageProps":{"page":{"slug":"function.cubrid-affected-rows.md","content":"# cubrid\\_affected\\_rows\n\n(PECL CUBRID >= 8.3.0)\n\ncubrid\\_affected\\_rows — Кількість рядків, порушених останнім SQL-запитом\n\n### Опис\n\n```methodsynopsis\ncubrid_affected_rows(resource $conn_identifier = ?): int\n```\n\n```methodsynopsis\ncubrid_affected_rows(resource $req_identifier = ?): int\n```\n\nФункция**cubrid\\_affected\\_rows()** використовується для отримання кількості рядків, які торкнулися останнім SQL-запитом типу INSERT, DELETE або UPDATE.\n\n### Список параметрів\n\n`conn_identifier`\n\nІдентифікатор з'єднання CUBRID. Якщо не задано, то використовуватиметься останнє відкрите за допомогою [cubrid\\_connect()](function.cubrid-connect.md)соединение.\n\n`req_identifier`\n\nІдентифікатор запиту повинен бути повернутий функціями [cubrid\\_prepare()](function.cubrid-prepare.md) або [cubrid\\_execute()](function.cubrid-execute.md). Якщо не заданий, буде використано останній запит, повернутий [cubrid\\_prepare()](function.cubrid-prepare.md) або [cubrid\\_execute()](function.cubrid-execute.md)\n\n### Значення, що повертаються\n\nКількість рядків, які торкнулися останнім SQL-запитом, у разі успішного виконання.\n\n\\-1, якщо запит не був типом INSERT, DELETE або UPDATE.\n\n**`false`**, якщо ідентифікатор запиту не вказано та відсутні будь-які виконані запити.\n\n### Приклади\n\n**Приклад #1 Приклад використання** cubrid\\_affected\\_rows()\\*\\*\\*\\*\n\n```php\n<?php\n$conn = cubrid_connect('localhost', 33000, 'demodb', 'dba', '');\ncubrid_execute($conn, \"DROP TABLE IF EXISTS cubrid_test\");\ncubrid_execute($conn, \"CREATE TABLE cubrid_test (d varchar)\");\n$sql_stmt = \"INSERT INTO cubrid_test(d) VALUES('php-test')\";\n$req = cubrid_prepare($conn, $sql_stmt);\n\nfor ($i = 0; $i < 10; $i++) {\n    cubrid_execute($req);\n}\ncubrid_commit($conn);\n\n$req = cubrid_execute($conn, \"DELETE FROM cubrid_test WHERE d='php-test'\", CUBRID_ASYNC);\nvar_dump(cubrid_affected_rows());\nvar_dump(cubrid_affected_rows($conn));\nvar_dump(cubrid_affected_rows($req));\n\ncubrid_disconnect($conn);\n\nprint \"done!\";\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nRows deleted: 5\n```\n\n### Дивіться також\n\n-   [cubrid\\_execute()](function.cubrid-execute.md) \\- Виконує підготовлений SQL-оператор\n","title":"cubrid\\_affected\\_rows","contentType":2,"navigation":[{"cubridmysql.cubrid.md":"« Функції сумісності CUBRID MySQL"},{"function.cubrid-client-encoding.md":"cubrid\\_client\\_encoding »"},{"index.md":"PHP Manual"},{"cubridmysql.cubrid.md":"Функції сумісності CUBRID MySQL"}]}},"__N_SSG":true}