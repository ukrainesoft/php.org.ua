- [«deflate_add](function.deflate-add.md)
- [gzclose »](function.gzclose.md)

- [PHP Manual](index.md)
- [Функції Zlib](ref.zlib.md)
- Ініціалізувати контекст інкрементального стиску

#deflate_init

(PHP 7, PHP 8)

deflate_init - Ініціалізувати контекст інкрементального стиснення

### Опис

**deflate_init**(int `$encoding`, array `$options` u003d \[\]):
[DeflateContext](class.deflatecontext.md)\|false

Ініціалізує контекст інкрементального стиску з використанням
вказаного кодування `encoding`.

Зверніть увагу, що опція `window` задає лише розмір вікна
алгоритму, на відміну від фільтрів zlib, де однойменна опція також
використовується для встановлення використовуваного кодування; кодування має бути
встановлена за допомогою параметра 'encoding'.

Обмеження: зараз неможливо встановити інформацію заголовка
для стисненого потоку GZIP, яка встановлюється так:
підпис GZIP (`x1f\x8B`); метод стиснення (`x08` u003du003d DEFLATE); 6 нульових
байтів; поточна операційна система (`x00` u003d Windows, `\x03` u003d Unix і
тощо)

### Список параметрів

`encoding`
Одна із констант **`ZLIB_ENCODING_*`**.

`options`
Асоціативний масив, який може містити такі елементи:

`level`
Рівень стиснення в діапазоні -1.9; за замовчуванням -1.

`memory`
Рівень пам'яті стиснення діапазоні 1..9; за замовчуванням 8.

`window`
Розмір вікна zlib (логарифмічний) у діапазоні `8`..`15`; за замовчуванням
`15`. zlib змінює розмір вікна з `8` на `9`, а з zlib 1.2.8 буде
видавати попередження, якщо запитується розмір вікна рівний `8` для
**`ZLIB_ENCODING_RAW`** або **`ZLIB_ENCODING_GZIP`**.

`strategy`
Одна з констант: **`ZLIB_FILTERED`**, **`ZLIB_HUFFMAN_ONLY`**,
**`ZLIB_RLE`**, **`ZLIB_FIXED`** або **`ZLIB_DEFAULT_STRATEGY`** (за
замовчуванням).

`dictionary`
Рядок або масив рядків поточного словника (за замовчуванням
попередньо встановленого словника немає).

### Значення, що повертаються

Повертає ресурс контексту стиснення (`zlib.deflate`) або **`false`**
у разі виникнення помилки.

### Помилки

Якщо в options була передана некоректна опція або контекст не може
бути створено, то буде викликана помилка рівня **`E_WARNING`**.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- -------------------------------------------------- ----|
| 8.0.0 | У разі успішного виконання, функція повертає екземпляр [DeflateContext](class.deflatecontext.md); раніше, повертався ресурс (resource). |

### Дивіться також

- [deflate_add()](function.deflate-add.md) - Інкрементальне стиснення
даних
- [inflate_init()](function.inflate-init.md) - Ініціалізація
контексту інкрементального розпакування
