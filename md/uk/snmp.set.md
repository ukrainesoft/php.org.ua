- [«SNMP::getnext](snmp.getnext.md)
- [SNMP::setSecurity »](snmp.setsecurity.md)

- [PHP Manual](index.md)
- [SNMP](class.snmp.md)
- Встановлює значення об'єкта SNMP

# SNMP::set

(PHP 5 \>u003d 5.4.0, PHP 7, PHP 8)

SNMP::set — Встановлює значення об'єкта SNMP

### Опис

public **SNMP::set**(array\|string `$objectId`, array\|string `$type`,
array\|string `$value`): bool

Запитує віддалений агент SNMP, що встановлює значення одного або
декількох об'єктів SNMP, вказаних у `objectId`.

### Список параметрів

`objectId`
Ідентифікатор об'єкта SNMP

Коли кількість OID в масиві object_id більша, ніж max_oids, метод
набору властивостей об'єкта повинен буде використовувати кілька запитів
виконання запитаних оновлень значень. У цьому випадку перевірки типу
і значення виконуються для кожного фрагмента, тому другий або
наступні запити можуть завершитися помилкою через неправильний тип
або значення запитаного OID. Щоб повідомити про це, з'являється
попередження, коли кількість OID у масиві object_id перевищує
max_oids.

`type`
MIB визначає тип ідентифікатора кожного об'єкта. Він має бути вказаний
як один символ з наступного списку.

| | |
|-----|----------------------|
| u003d | Тип, що приймається MIB |
| i | INTEGER |
| u | INTEGER |
| s | STRING |
| x | HEX STRING |
| d | DECIMAL STRING |
| n | NULLOBJ |
| o | OBJID |
| t | TIMETICKS |
| a | IPADDRESS |
| b | BITS |

**types**

Якщо при компіляції бібліотеки SNMP було визначено опцію
**`OPAQUE_SPECIAL_TYPES`**, то також можуть бути використані такі
типи:

| | |
|-----|----------------|
| U | unsigned int64 |
| I | signed int64 |
| F | float |
| D | double |

**types**

Більшість цих значень використовують явний тип ASN.1. 's', 'x', 'd'
і 'b' - це різні способи вказівки значення OCTET STRING, а
беззнаковий тип u також використовується для обробки значень Gauge32.

Якщо MIB-файли були завантажені в MIB-дерево за допомогою "snmp_read_mib" або
були вказані у конфігураційному файлі libsnmp, то для вказівки параметра
`type` можна використовувати нотацію 'u003d', т.к. тип усіх ідентифікаторів
об'єктів буде автоматично рахований з MIB.

Зверніть увагу, що є два способи встановлення змінної типу BITS,
наприклад, "SYNTAX BITS {telnet(0), ftp(1), http(2), icmp(3), snmp(4),
ssh(5), https(6)}":

- За допомогою типу "b" та списку бітових чисел. Не рекомендується
використовувати цей спосіб, т.к. GET-запит для того ж OID поверне, до
Наприклад, 0xF8.
- За допомогою типу "x" та шістнадцяткового числа, але без (!) звичайного
префіксу "0x".

Докладніше дивіться у розділі з прикладами.

`value`
Нове значення.

### Значення, що повертаються

Повертає **`true`** у разі успішного виконання або **`false`** у
у разі виникнення помилки.

### Помилки

Цей метод за промовчанням не генерує виняток. Щоб включити
генерацію виключення SNMPException у разі виникнення деяких помилок
даної бібліотеки необхідно встановити параметр `exceptions_enabled`
класу SNMP у відповідне значення. Докладніше дивіться в [поясненні
параметра
`SNMP::$exceptions_enabled`](class.snmp.md#snmp.props.exceptions-enabled).

### Приклади

**Приклад #1 Встановити одиночний ідентифікатор об'єкта SNMP**

`<?php $sessionu003du003dnew SNMP(SNMP::VERSION_2C, "127.0.0.1", "private"); $session->set('SNMPv2-MIB::sysContact.0', 's', "Nobody");?> `

**Приклад #2 Встановити кілька значень за допомогою одного дзвінка
**SNMP::set()****

`<?php $sessionu003du003dnew SNMP(SNMP::VERSION_2C, "127.0.0.1", "private"); $session->set(array('SNMPv2-MIB::sysContact.0', 'SNMPv2-MIB::sysLocation.0'), array('s', 's'), array("Nobody", "Nowhere "));// або $session->set(array('SNMPv2-MIB::sysContact.0', 'SNMPv2-MIB::sysLocation.0'), 's', array("Nobody", "Nowhere "));?> `

**Приклад #3 Використання **SNMP::set()** для встановлення ідентифікатора
об'єкта BITS SNMP**

`<?php $sessionu003du003dnew SNMP(SNMP::VERSION_2C, "127.0.0.1", "private"); $session->set('FOO-MIB::bar.42', 'b', '0 1 2 3 4');// або  $session->set('FOO-MIB::bar.42', 'x', 'F0');?> `

### Дивіться також

- [SNMP::get()](snmp.get.md) - Отримує об'єкт SNMP
