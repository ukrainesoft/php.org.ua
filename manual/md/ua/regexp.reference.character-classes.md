- [« Метасимвол крапка](regexp.reference.dot.md)
- [Альтернативний вибір»](regexp.reference.alternation.md)

- [PHP Manual](index.md)
- [Опис синтаксису Perl-сумісних регулярних
виразів](reference.pcre.pattern.syntax.md)
- Символьні класи

## Символьні класи

Відкриваюча квадратна дужка оголошує початок символьного класу,
завершується закриває квадратною дужкою. Символ '\] не має
спеціального значення, і у випадку, якщо квадратна дужка, що закриває
необхідна як член символьного класу, вона має бути першим символом
безпосередньо після відкриття квадратної дужки (якщо використовується
метасимвол '^', то безпосередньо після нього), або екрануватися при
допомоги зворотного сліша.

Символьний клас відповідає одиночному символу рядка, що обробляється,
причому сам символ повинен утримуватися в наборі, що визначається класом. В
у випадку, якщо першим символом опису класу є '^', логіка роботи
інвертується: клас відповідає одиночному символу, який не
міститься в наборі, що визначається класом. Якщо символ '^' необхідний як
член класу, його не слід поміщати першим символом в описі класу
або необхідно екранувати за допомогою зворотного сліша.

Наприклад, символьний клас [aeiou] відповідає будь-який голосної літери
у нижньому регістрі, тоді як \[^aeiou\] відповідає будь-якому
символу, який не є голосною літерою нижнього регістру. Слід
розуміти, що символ '^' лише зручний інструмент для опису
символів, не використовуваних у зіставленні, це твердження, оскільки
він все ж таки займає символ в оброблюваному рядку, і не збігається, якщо
Поточна позиція порівняння знаходиться в кінці рядка.

У випадку, якщо реєструється незалежне зіставлення, будь-яка
літера символьного класу відповідає як своєму верхньому, так і
нижнього регістру. Таким чином, символьний клас \[aeiou\] відповідає
як 'A', і 'a'. Аналогічно, клас \[^aeiou\] не відповідає
'A', ні 'a', тоді як у реєстрозалежному режимі збіг би
відбулося.

Усередині символьного класу символ перекладу рядка "
" не має
спеціального значення, незалежно від наявності модифікаторів
[PCRE_DOTALL](reference.pcre.pattern.modifiers.md) та
[PCRE_MULTILINE](reference.pcre.pattern.modifiers.md). Символьні
класи, побудовані на запереченні, наприклад \[^a\], завжди відповідають
символ перекладу рядка.

Символ мінус '-' (дефіс) усередині класу використовується для завдання
символьний діапазон. Наприклад, \[d-m\] відповідає будь-якому символу,
що знаходиться між 'd' і 'm', включаючи самі символи 'd' та 'm'. В разі,
якщо '-' необхідний, як член класу, він повинен перебувати в такій
позиції, в якій він не може інтерпретуватися як діапазон (як
правило, це перший і останній символ опису класу), або
екрануватися за допомогою зворотного сліша.

Неприпустимо використовувати закриваючу квадратну дужку "\" як
межі символьного діапазону. Наприклад шаблон '\[W-\]46\]' буде
інтерпретований як символьний клас, що складається з двох символів ("W" та
"-"), за якими слідує рядок "46\]", таким чином шаблон буде
відповідати рядкам "W46\]" або "-46\]". Щоб все ж таки використовувати
символ '\]' в описі діапазону, його необхідно екранувати за допомогою
зворотного слєша, наприклад шаблон [W-\\]46\] буде інтерпретований як
символьний клас, що складається із символьного діапазону разом із двома
наступними символами '4' та '6'. Такого ж результату можна досягти
використовуючи шістнадцяткове або вісімкове уявлення символу '\]'.

Для побудови символьних діапазонів використовується ASCII уявлення
символів. Таким чином, прикордонні символи можна задавати
безпосередньо у числовому поданні, наприклад, [-]. В
у випадку, якщо виконується реєстронезалежний пошук, символи, описані в
діапазоні, також будуть відповідати символам обох регістрів. До
Наприклад, діапазони \[W-c\] і \[\]\[\^\_\`wxyzabc\] еквівалентні (в
у разі реєстронезалежного пошуку). Наприклад, якщо встановлено локаль
"fr" (Франція) можна використовувати \[\xc8-\xcb\] для завдання відповідності
ударному 'E' в обох регістрах.

Загальні типи символів \d, \D, \s, \S, \w, і W також можуть використовуватися
у символьних класах, додаючи при цьому до класу ті символи, яким
відповідають. Наприклад, клас [dABCDEF] відповідає будь-який
шістнадцятковій цифрі. Символ '^' може використовуватися спільно з
загальним типом, взятим у верхньому регістрі, для вказівки більш вузького набору
символів. Наприклад, клас \[^\W\_\] відповідає будь-якій літері або цифрі,
але не символу підкреслення.

Усі не буквенно-цифрові символи, крім \, -, ^ (спочатку) і
завершального '\]', не є спеціальними символами, але використання
екрануючого слюша перед ними не нашкодить. Символ кінця шаблону завжди
є особливим випадком і завжди повинен бути проекранований усередині
вирази.

Perl підтримує нотацію POSIX для класів символів. Це включає
використання імен, укладених у `[:` та `:]`, у свою чергу
укладених у квадратні дужки. PCRE також підтримує цей запис.
Наприклад, `[01[:alpha:]%]` збігається з "0", "1", будь-яким алфавітним
символом або "%". Підтримуються такі імена класів:

| | |
|----------|-------------------------------------- -----------|
| `alnum` | літери та цифри |
| 'alpha' | літери |
| `ascii` | символи з кодами 0 - 127 |
| `blank` | тільки пропуск або символ табуляції |
| `cntrl` | керуючі символи
| `digit` | десяткові цифри (те саме, що і d) |
| `graph` | друковані символи, крім пропуску |
| `Lower` | малі літери |
| `print` | друковані символи, включаючи пробіл |
| `Punct` | друковані символи, крім літер та цифр |
| `space` | пробельные символи(майже те, що й \s) |
| `upper` | великі літери |
| `word` | символи "слова" (те саме, що і \w) |
| `xdigit` | шістнадцяткові цифри |

**Символьні класи**

Клас пробельних символів (space) - це горизонтальна табуляція (HT,
9), переведення рядка (LF, 10), вертикальна табуляція (VT, 11), розрив
сторінки (FF, 12), повернення каретки (CR, 13) та пробіл (32). Врахуйте, що
цей список включає вертикальну табуляцію (VT, код 11). Це відрізняє
"space" від `\s`, який не включає цей символ (для сумісності з
Perl).

Назва `word` - це модуль Perl, а `blank` - модуль GNU, починаючи з
Версія Perl 5.8. Інший модуль Perl – це заперечення, яке вказується
символом `^` після двокрапки. Наприклад, `[12[:^digit:]]` збігається з "1",
"2", або з будь-якою нецифрою.

У режимі UTF-8, символи зі значеннями, що перевищують 128, не збігатимуться
з одним із символьних класів POSIX. Починаючи з libpcre 8.10 деякі
символьні класи змінені, щоб використовувати властивості символів
Unicode, у разі згадане обмеження не застосовується. Читайте
[» Керівництво PCRE(3)](http://www.pcre.org/pcre.txt) для подробиць.

Властивості символів Unicode можуть виникнути всередині класу.
Вони можуть бути частиною діапазону. Символ мінус (дефіс), після
символьний клас Unicode буде збігатися буквально. Спроба закінчити
діапазон за допомогою властивості символу Unicode викликає попередження.
