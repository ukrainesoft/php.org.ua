{"pageProps":{"page":{"slug":"function.oci-fetch-object.md","content":"# oci\\_fetch\\_object\n\n(PHP 5, PHP 7, PHP 8, PECL OCI8 >= 1.1.0)\n\noci\\_fetch\\_object — Повертає наступний рядок із результату запиту як об'єкт\n\n### Опис\n\n```methodsynopsis\noci_fetch_object(resource $statement, int $mode = OCI_ASSOC | OCI_RETURN_NULLS): stdClass|false\n```\n\nПовертає об'єкт, що містить наступний рядок із результату запиту. Імена властивостей об'єкта відповідають іменам стовпців у рядку. Ця функція зазвичай викликається в циклі доки не повертає **`false`** коли більше немає лав.\n\nДля отримання детальнішої інформації щодо відображення типів даних модуля OCI8 зверніться до [типів даних, що підтримуються драйвером](oci8.datatypes.md)\n\n### Список параметрів\n\n`statement`\n\nКоректний ідентифікатор виразу OCI8, отриманий з [oci\\_parse()](function.oci-parse.md) та виконаний функцією [oci\\_execute()](function.oci-execute.md), або ідентифікатор виразу `REF CURSOR`\n\n### Значення, що повертаються\n\nПовертає об'єкт. Кожна властивість об'єкта відповідає іменам стовпців у рядку. Якщо в результаті `запиту` більше немає рядів, то повертає **`false`**\n\nБудь-який стовпець `LOB` повертається як дескриптор LOB.\n\nСтовпці `DATE` повертаються у вигляді рядків, форматованих відповідно до поточних форматів дати. Стандартний формат може бути змінений за допомогою змінних оточення Oracle, таких як `NLS_LANG` або за допомогою попередньо запущеної `ALTER SESSION SET NLS_DATE_FORMAT` команди.\n\nВам не слід забувати про те, що Oracle повертає імена полів у верхньому регістрі, тому імена атрибутів об'єкта будуть також у верхньому регістрі. Використовуйте функцію [var\\_dump()](function.var-dump.md) по відношенню до отриманого об'єкта для доступу до атрибутів.\n\nЗначення атрибутів відповідають **`null`** для будь-яких `NULL` полів.\n\n### Приклади\n\n**Приклад #1 Приклад використання** oci\\_fetch\\_object()\\*\\*\\*\\*\n\n```php\n<?php\n\n/*\n  Перед запуском создайте таблицу:\n    CREATE TABLE mytab (id NUMBER, description VARCHAR2(30));\n    INSERT INTO mytab (id, description) values (1, 'Fish and Chips');\n    COMMIT;\n*/\n\n$conn = oci_connect('hr', 'welcome', 'localhost/XE');\nif (!$conn) {\n    $e = oci_error();\n    trigger_error(htmlentities($e['message'], ENT_QUOTES), E_USER_ERROR);\n}\n\n$stid = oci_parse($conn, 'SELECT id, description FROM mytab');\noci_execute($stid);\n\nwhile (($row = oci_fetch_object($stid)) != false) {\n    // Используйте имена атрибутов в верхнем регистре для каждого столбца Oracle\n    echo $row->ID . \"<br>\\n\";\n    echo $row->DESCRIPTION . \"<br>\\n\";\n}\n\n// Выведет:\n//    1\n//    Fish and Chips\n\noci_free_statement($stid);\noci_close($conn);\n\n?>\n```\n\n**Приклад #2 Приклад використання** oci\\_fetch\\_object()\\*\\* з назвами стовпців у різних регістрах\\*\\*\n\n```php\n<?php\n\n/*\nПеред запуском создайте таблицу с именем столбца в различных регистрах:\n    CREATE TABLE mytab (id NUMBER, \"MyDescription\" VARCHAR2(30));\n    INSERT INTO mytab (id, \"MyDescription\") values (1, 'Iced Coffee');\n    COMMIT;\n*/\n\n$conn = oci_connect('hr', 'welcome', 'localhost/XE');\nif (!$conn) {\n    $e = oci_error();\n    trigger_error(htmlentities($e['message'], ENT_QUOTES), E_USER_ERROR);\n}\n\n$stid = oci_parse($conn, 'SELECT id, \"MyDescription\" FROM mytab');\noci_execute($stid);\n\nwhile (($row = oci_fetch_object($stid)) != false) {\n    // Использование имён атрибутов в верхнем регистре для каждого столбца Oracle\n    echo $row->ID . \"<br>\\n\";\n    // Использование точного написания для имени столбца с различными регистрами\n    echo $row->MyDescription . \"<br>\\n\";\n}\n\n// Выведет:\n//    1\n//    Iced Coffee\n\noci_free_statement($stid);\noci_close($conn);\n\n?>\n```\n\n**Приклад #3 Приклад використання** oci\\_fetch\\_object()**с LOB**\n\n```php\n<?php\n\n/*\n  Перед запуском создайте таблицу\n    CREATE TABLE mytab (id NUMBER, description CLOB);\n    INSERT INTO mytab (id, description) values (1, 'A very long string');\n    COMMIT;\n*/\n\n$conn = oci_connect('hr', 'welcome', 'localhost/XE');\nif (!$conn) {\n    $e = oci_error();\n    trigger_error(htmlentities($e['message'], ENT_QUOTES), E_USER_ERROR);\n}\n\n$stid = oci_parse($conn, 'SELECT id, description FROM mytab');\noci_execute($stid);\n\nwhile (($row = oci_fetch_object($stid)) != false) {\n    echo $row->ID . \"<br>\\n\";\n    // Таким образом будет выведено первые 11 байт из DESCRIPTION\n    echo $row->DESCRIPTION->read(11) . \"<br>\\n\";\n}\n\n// Выведет:\n//    1\n//    A very long\n\noci_free_statement($stid);\noci_close($conn);\n\n?>\n```\n\n### Дивіться також\n\n-   [oci\\_fetch()](function.oci-fetch.md) \\- Вибирає наступний рядок із результату в буфер\n-   [oci\\_fetch\\_all()](function.oci-fetch-all.md) \\- Вибирає всі рядки з результату запиту до двомірного масиву\n-   [oci\\_fetch\\_assoc()](function.oci-fetch-assoc.md) \\- Повертає наступний рядок із результату запиту у вигляді асоціативного масиву\n-   [oci\\_fetch\\_array()](function.oci-fetch-array.md) \\- Повертає наступний рядок із результату запиту у вигляді асоціативного чи нумерованого масиву\n-   [oci\\_fetch\\_row()](function.oci-fetch-row.md) \\- Повертає наступний рядок із результату запиту у вигляді нумерованого масиву\n","title":"oci\\_fetch\\_object","contentType":2,"navigation":[{"function.oci-fetch-assoc.md":"« oci\\_fetch\\_assoc"},{"function.oci-fetch-row.md":"oci\\_fetch\\_row »"},{"index.md":"PHP Manual"},{"ref.oci8.md":"OCI8 Функції"}]}},"__N_SSG":true}