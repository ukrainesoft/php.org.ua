{"pageProps":{"page":{"slug":"pdostatement.rowcount.md","content":"# PDOStatement::rowCount\n\n(PHP 5 >= 5.1.0, PHP 7, PHP 8, PECL pdo >= 0.1.0)\n\nPDOStatement::rowCount — Повертає кількість рядків, порушених останнім SQL-запитом\n\n### Опис\n\n```methodsynopsis\npublic PDOStatement::rowCount(): int\n```\n\n**PDOStatement::rowCount()** повертає кількість рядків, які торкнулися під час виконання останнього запиту DELETE, INSERT чи UPDATE, запущеного відповідним об'єктом `PDOStatement`\n\nДля операторів, які створюють набори результатів, таких як `SELECT`, поведінка не визначена і може бути різною для кожного драйвера. Деякі бази даних можуть повертати кількість рядків, створених цим оператором (наприклад, MySQL у буферизованому режимі), але така поведінка не гарантується для всіх баз даних і не повинна використовуватися в програмах, що переносяться.\n\n> **Зауваження** :\n> \n> Цей метод завжди повертає \"0\" (нуль) з драйвером SQLite, а з драйвером PostgreSQL лише при встановленні атрибута оператора **`PDO::ATTR_CURSOR`** рівним **`PDO::CURSOR_SCROLL`**\n\n### Список параметрів\n\nЦя функція не має параметрів.\n\n### Значення, що повертаються\n\nПовертає кількість рядків.\n\n### Помилки\n\nВидає помилку рівня **`E_WARNING`**, якщо атрибуту **`PDO::ATTR_ERRMODE`**установлено значение**`PDO::ERRMODE_WARNING`**\n\nВикидає виняток [PDOException](class.pdoexception.md), якщо атрибуту **`PDO::ATTR_ERRMODE`**установлено значение**`PDO::ERRMODE_EXCEPTION`**\n\n### Приклади\n\n**Приклад #1 Отримання кількості віддалених рядків**\n\n**PDOStatement::rowCount()** повертає кількість рядків, змінених виразами DELETE, INSERT чи UPDATE.\n\n```php\n<?php\n/* Удалим все строки из таблицы FRUIT */\n$del = $dbh->prepare('DELETE FROM fruit');\n$del->execute();\n\n/* Выведем число удалённых строк */\nprint \"Количество удалённых строк:\\n\";\n$count = $del->rowCount();\nprint \"Удалено $count строк.\\n\";\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\nКоличество удалённых строк:\nУдалено 9 строк.\n```\n\n**Приклад #2 Підрахунок рядків, що повертаються виразом SELECT**\n\nДля большинства СУБД**PDOStatement::rowCount()** не повертає кількість рядків, які торкнулися SELECT запитом. Замість цього методу запустіть через [PDO::query()](pdo.query.md) вираз SELECT COUNT(\\*) з тим самим текстом запиту. Потім методом [PDOStatement::fetchColumn()](pdostatement.fetchcolumn.md) ви отримаєте число рядків, що збігаються.\n\n```php\n<?php\n$sql = \"SELECT COUNT(*) FROM fruit WHERE calories > 100\";\n$res = $conn->query($sql);\n$count = $res->fetchColumn();\n\nprint \"Совпадающих записей: \" .  $count;\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\nСовпадающих записей: 2\n```\n\n### Дивіться також\n\n-   [PDOStatement::columnCount()](pdostatement.columncount.md) \\- Повертає кількість стовпців у результуючому наборі\n-   [PDOStatement::fetchColumn()](pdostatement.fetchcolumn.md) \\- Повертає дані одного стовпця наступного рядка результуючого набору\n-   [PDO::query()](pdo.query.md) \\- готує та виконує вираз SQL без заповнювачів\n","title":"PDOStatement::rowCount","contentType":2,"navigation":[{"pdostatement.nextrowset.md":"« PDOStatement::nextRowset"},{"pdostatement.setattribute.md":"PDOStatement::setAttribute »"},{"index.md":"PHP Manual"},{"class.pdostatement.md":"PDOStatement"}]}},"__N_SSG":true}