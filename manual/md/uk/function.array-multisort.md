- [«array_merge](function.array-merge.md)
- [array_pad »](function.array-pad.md)

- [PHP Manual](index.md)
- [Функції для роботи з масивами](ref.array.md)
- Сортує кілька масивів або багатовимірні масиви

#array_multisort

(PHP 4, PHP 5, PHP 7, PHP 8)

array_multisort — Сортує кілька масивів або багатовимірні масиви

### Опис

**array_multisort**(
array `&$array1`,
[mixed](language.types.declarations.md#language.types.declarations.mixed)
`$array1_sort_order` u003d SORT_ASC,
[mixed](language.types.declarations.md#language.types.declarations.mixed)
`$array1_sort_flags` u003d SORT_REGULAR,
[mixed](language.types.declarations.md#language.types.declarations.mixed)
`...$rest`
): bool

Функція **array_multisort()** може бути використана для сортування
відразу декількох масивів або одного багатовимірного масиву відповідно
з однією чи декількома розмірностями.

Асоціативні (string) ключі будуть збережені, але числові ключі будуть
переіндексовані.

> **Примітка**:
>
> Якщо обидва порівнювані значення еквівалентні, вони зберігають свій
> Початковий порядок. До PHP 8.0.0 їх відносний порядок
> відсортованому масиві був визначений.

> **Примітка**:
>
> Скидає внутрішній покажчик масиву перший елемент.

### Список параметрів

`array1`
Сортується масив (array).

`array1_sort_order`
Порядок для сортування вищезгаданого аргументу типу array. Або
**`SORT_ASC`** для сортування за зростанням, або **`SORT_DESC`** для
сортування за спаданням.

Цей аргумент може змінюватися місцями з `array1_sort_flags` або взагалі
бути пропущеним. В цьому випадку мається на увазі значення **`SORT_ASC`**.

`array1_sort_flags`
Налаштування сортування для вищезгаданого аргументу array:

Прапор способу сортування:

- **`SORT_REGULAR`** - звичайне порівняння елементів (без зміни
типів)
- **`SORT_NUMERIC`** - порівняння елементів як чисел
- **`SORT_STRING`** - порівняння елементів як рядків
- **`SORT_LOCALE_STRING`** - порівняння елементів як рядків, враховуючи
поточний локаль. Використовується локаль, яку можна міняти за допомогою
функції [setlocale()](function.setlocale.md)
- **`SORT_NATURAL`** - порівняння елементів як рядків з використанням
алгоритму "natural order", як у функції
[natsort()](function.natsort.md)
- **`SORT_FLAG_CASE`** - може бути об'єднаний (бінарне АБО) з
**`SORT_STRING`** або **`SORT_NATURAL`** для сортування без урахування
регістру

Цей аргумент може змінюватися місцями з `array1_sort_order` або взагалі
бути пропущеним. У цьому випадку мається на увазі значення
**`SORT_REGULAR`**.

`rest`
Додаткові масиви, необов'язково наступні після порядку сортування
та прапори. Порівнюються тільки елементи відповідні таким же
елементам у попередніх масивах. Іншими словами, проводиться
сортування у лексикографічному порядку.

### Значення, що повертаються

Повертає **`true`** у разі успішного виконання або **`false`** у
у разі виникнення помилки.

### Приклади

**Приклад #1 Сортування кількох масивів**

` <?php$ar1 u003d array(10, 100, 100, 0);$ar2 u003d array(1, 3, 2, 4);array_multisort($ar1, $ar2);var_dump($ar1);var_dump($ ar2);?> `

У наведеному вище прикладі, після того, як буде здійснена
сортування, перший масив міститиме 0, 10, 100, 100. Другий - 4,
1, 2, 3. Елементи другого масиву, що відповідають ідентичним елементам
першого (100 та 100), також будуть відсортовані.

array(4) {
[0]u003d> int(0)
[1]u003d> int(10)
[2]u003d> int(100)
[3]u003d> int(100)
}
array(4) {
[0]u003d> int(4)
[1]u003d> int(1)
[2]u003d> int(2)
[3]u003d> int(3)
}

**Приклад #2 Сортування багатовимірного масиву**

`<?php$ar u003d array(                                               SORT_ASC, SORT_STRING,                 $ar[1], SORT_NUMERIC, SORT_DESC);var_dump($ar);?> `

У наведеному вище прикладі, після сортування, перший масив буде
містити "10", 100, 100, 11, "a" (його елементи були відсортовані в
зростаючому порядку), а другий масив міститиме 1, 3, "2", 2, 1
(Елементи відсортовані як числа, у порядку зменшення).

array(2) {
[0]u003d> array(5) {
[0]u003d> string(2) "10"
[1]u003d> int(100)
[2]u003d> int(100)
[3]u003d> int(11)
[4]u003d> string(1) "a"
}
[1]u003d> array(5) {
[0]u003d> int(1)
[1]u003d> int(3)
[2]u003d> string(1) "2"
[3]u003d> int(2)
[4]u003d> int(1)
}
}

**Приклад #3 Сортування результатів із бази даних**

У цьому прикладі, кожен елемент масиву `data` є рядом
таблиці. Такий тип даних типовий записів бази даних.

Зразкові дані:

# том | видання
volume | edition
-------+--------
67 | 2
86 | 1
85 | 6
98 | 2
86 | 6
67 | 7

Дані представлені як масиву з ім'ям `data`. Зазвичай їх можна
отримати, наприклад, за допомогою циклу з функції
[mysqli_fetch_assoc()](mysqli-result.fetch-assoc.md).

` <?php$data[] u003d array('volume' u003d> 67, 'edition' u003d> 2);$data[] u003d array('volume' u003d> 86, 'edition' u003d> 1);$data [] u003d array('volume' u003d> 85, 'edition' u003d> 6);$data[] u003d array('volume' u003d> 98, 'edition' u003d> 2);$data[] u003d array(' volume' u003d> 86, 'edition' u003d> 6);$data[] u003d array('volume' u003d> 67, 'edition' u003d> 7);?> `

У нашому прикладі ми будемо сортувати по `volume` у спадному порядку, а
по `edition` - у зростаючому.

У нас є масив рядків, але **array_multisort()** потрібен масив
стовпців, тому спочатку ми використовуємо наступний код для отримання
стовпців, а потім виконаємо сортування.

` <?php// Отримання списку стовпцівforeach ($data as $key u003d> $row) {    $volume[$key]  u003d $row['volume']; $edition[$key] u003d $row['edition'];}// Ви можете використовувати array_column() замість вказаного вище коду$volume u003d array_column($data, 'volume');$edition u003d'day ');// Сортуємо дані по volume по зменшенню і по edition по зростанню// Добавляємо $data в якості останнього параметра, для Сортування по C|

Тепер дані відсортовані і виглядатимуть так:

volume | edition
-------+--------
98 | 2
86 | 1
86 | 6
85 | 6
67 | 2
67 | 7

**Приклад #4 Сортування без урахування регістру**

Обидві константи **`SORT_STRING`** та **`SORT_REGULAR`** враховують регістр
при сортуванні, рядки, що починаються з великої літери, будуть виставлені
раніше рядків, що починаються з малої літери.

Для виконання реєстронезалежного сортування, необхідно використовувати
копію вихідного масиву приведену до нижнього регістру.

` <?php$array u003d array('Alpha', 'atomic', 'Beta', 'bank');$array_lowercase u003d array_map('strtolower', $array);array_multisort($array_lowercase, SORT_AS );print_r($array);?> `

Результат виконання цього прикладу:

Array
(
[0] u003d> Alpha
[1] u003d> atomic
[2] u003d> bank
[3] u003d> Beta
)

### Дивіться також

- [usort()](function.usort.md) - Сортує масив за значеннями
використовуючи функцію користувача для порівняння елементів
- [Порівняння функцій сортування масивів](array.sorting.md)
