- [« Контекстні опції та параметри](context.md)
- [Опції контексту HTTP»] (context.http.md)

- [PHP Manual](index.md)
- [Контекстні опції та параметри](context.md)
- Список контекстних опцій сокету

# Контекстні опції сокету

Контекстні опції сокету — Список контекстних опцій сокету

### Опис

Контекстні опції доступні для всіх обгорток, які працюють через
сокети, такі як `tcp`, `http` та `ftp`.

### Опції

`bindto`
Використовується для вказівки IP-адреси (IPv4 або IPv6) або номера порту,
які PHP буде використовувати для підключення до мережі. Синтаксис
виглядає наступним чином: `ip:port` для адреси IPv4, та `[ip]:port` для
IPv6 адреси. Установка IP або порту в `0` дозволить системі самої
вибрати потрібний IP або порт.

> **Примітка**:
>
> Оскільки під час звичайної роботи FTP створює 2 з'єднання з сокетами,
> номер порту може бути заданий з допомогою даної опції.

`backlog`
Використовується для обмеження вихідних з'єднань у черзі з'єднань
сокет.

> **Примітка**:
>
> Використовується тільки для
> [stream_socket_server()](function.stream-socket-server.md).

`ipv6_v6only`
Перевизначає значення стандартної ОС для відображення IPv4 в IPv6.

> **Примітка**:
>
> Це важливо у разі спроби окремо слухати IPv4 адреси, тоді
> як задана прив'язка до `[::]`.
>
> Застосовується тільки до
> [stream_socket_server()](function.stream-socket-server.md).

`so_reuseport`
Дозволяє множинну прив'язку до однієї і тієї ж пари IP:порт, навіть з
різних процесів.

> **Примітка**:
>
> Застосовується тільки до
> [stream_socket_server()](function.stream-socket-server.md).

`so_broadcast`
Дозволяє посилати та приймати дані у/від широкомовних адрес.

> **Примітка**:
>
> Застосовується тільки до
> [stream_socket_server()](function.stream-socket-server.md).

`tcp_nodelay`
Встановлення цієї опції в **`true`** зробить `SOL_TCP,NO_DELAYu003d1`
відповідно, таким чином відключення алгоритму TCP Nagle.

### Список змін

| Версія | Опис |
|--------|--------------------------|
| 7.1.0 | Додано `tcp_nodelay`. |
| 7.0.1 | Додано `ipv6_v6only`. |

### Приклади

**Приклад #1 Приклад використання `bindto`**

`<?php// Сполука з мережею, використовуючи IP '192.168.0.100'$opts u003d array(    'socket' u003d> array(  10u003d1000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000.0000000000000.008) сетью, используя IP '192.168.0.100' и порт '7000'$opts u003d array(    'socket' u003d> array(        'bindto' u003d> '192.168.0.100:7000',    ),);// Соединение с сетью, используя IPv6 адреса '2001:db8::1'// і порт '7000'$opts u003d array(   'socket' u003d> array(         'bindto' u003d>> | ;// З'єднання з мережею через порт '7000'$opts u003d array(   'socket' u003d> array(        'bindto' u003d> '0:700... $opts);//......і застосовуємо його для отримання данихecho file_get_contents('http://www.example.com', false, $context);?> `
