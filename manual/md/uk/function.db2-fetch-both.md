- [«db2_fetch_assoc](function.db2-fetch-assoc.md)
- [db2_fetch_object »](function.db2-fetch-object.md)

- [PHP Manual](index.md)
- [Функції IBM DB2](ref.ibm-db2.md)
- Повертає масив, індексований як на ім'я стовпця, так і на
позиції, що представляє рядок у наборі результатів

#db2_fetch_both

(PECL ibm_db2 \>u003d 1.0.0)

db2_fetch_both — Повертає масив, індексований як на ім'я
стовпця, так і за позицією, що представляє рядок у наборі результатів

### Опис

**db2_fetch_both**(resource `$stmt`, int `$row_number` u003d -1): array

Повертає масив, індексований як на ім'я стовпця, так і на
позиції, що представляє рядок у наборі результатів. Зверніть увагу,
що рядок, що повертається **db2_fetch_both()**, вимагає більше пам'яті,
ніж масиви з одним індексом, що повертаються
[db2_fetch_assoc()](function.db2-fetch-assoc.md) або
[db2_fetch_array()](function.db2-fetch-array.md).

### Список параметрів

`stmt`
Допустимий ресурс `stmt`, що містить набір результатів.

`row_number`
Запитує конкретний рядок за індексом (починається з 1) із набору
результатів. Передача параметра призводить до попередження PHP, якщо в
Набір результатів використовується курсор "forward-only".

### Значення, що повертаються

Повертає асоціативний масив зі значеннями стовпців,
проіндексованими як на ім'я стовпця, так і за індексом стовпця
(починаючи з 0). Масив представляє наступний або запитаний рядок у
набір результатів. Повертає **`false`**, якщо у наборі результатів не
залишилося рядків або якщо рядок, запитаний `row_number`, не існує
у наборі результатів.

### Приклади

**Приклад #1 Перебір курсором "forward-only"**

Якщо ви викликаєте **db2_fetch_both()** без певного номера рядка,
він автоматично отримує наступний рядок у наборі результатів. В
наступному прикладі доступ до стовпців у повертається масиві
здійснюється як на ім'я стовпця, і по числовому індексу.

` <?php$sql u003d "SELECT id, name, breed, weight FROM animals ORDER BY breed";$stmt u003d db2_prepare($conn, $sql);$result u003d db2_execute($stm ($stmt)) {    printf ("%-5d %-16s %-32s %10s
",        $row['ID'], $row[0], $row['BREED'], $row[3]);}?> `

Результат виконання цього прикладу:

0 Pook cat 3.20
5 Rickety Ride goat 9.70
2 Smarty horse 350.00

**Приклад #2 Отримання певних рядків за допомогою **db2_fetch_both()**
з курсору, що прокручується**

Якщо у вашому наборі результатів використовується курсор, що прокручується, ви
Ви можете викликати **db2_fetch_both()** з певним номером рядка. В
наступний приклад витягується кожен другий рядок у наборі результатів,
починаючи з другого рядка.

` <?php$sql u003d "SELECT id, name, breed, weight FROM animals ORDER BY breed";$result u003d db2_exec($stmt, $sql, array('cursor' u003d> DB2_SCR while($row u003d db2_fetch_both($result, $i)) {    printf ("%-5d %-16s %-32s %10s
",        $row[0], $row['NAME'], $row[2], $row['WEIGHT']);    $i u003d $i + 2;}?> `

Результат виконання цього прикладу:

0 Pook cat 3.20
5 Rickety Ride goat 9.70
2 Smarty horse 350.00

### Дивіться також

- [db2_fetch_array()](function.db2-fetch-array.md) - Повертає
масив, індексований за положенням стовпця, що представляє рядок
у наборі результатів
- [db2_fetch_assoc()](function.db2-fetch-assoc.md) - Повертає
масив, індексований на ім'я стовпця, що представляє рядок в
наборі результатів
- [db2_fetch_object()](function.db2-fetch-object.md) - Повертає
об'єкт з властивостями, що становлять стовпці у вибраному рядку
- [db2_fetch_row()](function.db2-fetch-row.md) - Встановлює
покажчик набору результатів на наступний рядок або запитаний
рядок
- [db2_result()](function.db2-result.md) - Повертає один стовпець
з рядка у наборі результатів
