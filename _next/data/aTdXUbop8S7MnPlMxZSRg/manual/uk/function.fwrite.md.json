{"pageProps":{"page":{"slug":"function.fwrite.md","content":"# fwrite\n\n(PHP 4, PHP 5, PHP 7, PHP 8)\n\nfwrite — Бінарно-безпечний запис до файлу\n\n### Опис\n\n```methodsynopsis\nfwrite(resource $stream, string $data, ?int $length = null): int|false\n```\n\n**fwrite()** записує вміст `data` у файловий потік `stream`\n\n### Список параметрів\n\n`stream`\n\nВказівник (resource) на файл, який зазвичай створюється за допомогою функції [fopen()](function.fopen.md)\n\n`data`\n\nРядок, що записується.\n\n`length`\n\nЯкщо параметр `length` є цілим числом (int), запис зупиниться після того, як `length` байтів будуть записані або буде досягнуто кінець рядка `data`, дивлячись, що станеться раніше.\n\n### Значення, що повертаються\n\n**fwrite()** повертає кількість записаних байт або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Помилки\n\nФункция**fwrite()** видає помилку рівня \\*\\*`E_WARNING`\\*\\*в случае возникновения ошибки.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.0.0 | Параметр`length` тепер припускає значення **`null`** |\n\n### Приклади\n\n**Приклад #1 Простий приклад використання **fwrite()****\n\n```php\n<?php\n$filename = 'test.txt';\n$somecontent = \"Добавить это к файлу\\n\";\n\n// Вначале давайте убедимся, что файл существует и доступен для записи.\nif (is_writable($filename)) {\n\n    // В нашем Прикладе мы открываем $filename в режиме \"записи в конец\".\n    // Таким образом, смещение установлено в конец файла и\n    // наш $somecontent допишется в конец при использовании fwrite().\n    if (!$fp = fopen($filename, 'a')) {\n         echo \"Не могу открыть файл ($filename)\";\n         exit;\n    }\n\n    // Записываем $somecontent в наш открытый файл.\n    if (fwrite($fp, $somecontent) === FALSE) {\n        echo \"Не могу произвести запись в файл ($filename)\";\n        exit;\n    }\n\n    echo \"Ура! Записали ($somecontent) в файл ($filename)\";\n\n    fclose($fp);\n\n} else {\n    echo \"Файл $filename недоступен для записи\";\n}\n?>\n```\n\n### Примітки\n\n> **Зауваження** :\n> \n> Запис у мережевий потік може припинитися до запису всіх даних. Це можна контролювати за допомогою перевірки значення функції, що повертається. **fwrite()** :\n> \n> ```php\n> <?php\n> function fwrite_stream($fp, $string) {\n>     for ($written = 0; $written < strlen($string); $written += $fwrite) {\n>         $fwrite = fwrite($fp, substr($string, $written));\n>         if ($fwrite === false) {\n>             return $written;\n>         }\n>     }\n>     return $written;\n> }\n> ?>\n> ```\n\n> **Зауваження** :\n> \n> У системах, що розрізняють двійкові та текстові файли (наприклад, Windows), файл повинен бути відкритий, використовуючи прапор 'b' в кінці аргументу mode функції [fopen()](function.fopen.md)\n\n> **Зауваження** :\n> \n> Якщо дескриптор `stream` був відкритий функцією [fopen()](function.fopen.md) в режимі \"додавання в кінець\", то дзвінки **fwrite()** будуть атомарними (за винятком випадку, якщо розмір `data` перевищить розмір блоку файлової системи на деяких платформах, і поки файл зберігається на локальній файловій системі). Тобто немає необхідності блокувати ресурс за допомогою [flock()](function.flock.md) перед викликом **fwrite()**, і всі дані будуть записані без переривань.\n\n> **Зауваження** :\n> \n> При повторному записі файлового покажчика, дані будуть додані в кінець вмісту файлу:\n> \n> ```php\n> <?php\n> $fp = fopen('data.txt', 'w');\n> fwrite($fp, '1');\n> fwrite($fp, '23');\n> fclose($fp);\n> \n> //Вміст 'data.txt' тепер 123, а не 23!\n> ?>\n> ```\n\n### Дивіться також\n\n-   [fread()](function.fread.md) \\- Бінарно-безпечне читання файлу\n-   [fopen()](function.fopen.md) \\- Відкриває файл або URL\n-   [fsockopen()](function.fsockopen.md) \\- Відкриває з'єднання з інтернет-сокетом або доменним сокетом Unix\n-   [popen()](function.popen.md) \\- Відкриває файловий покажчик процесу\n-   [file\\_get\\_contents()](function.file-get-contents.md) \\- Читає вміст файлу в рядок\n-   [pack()](function.pack.md) \\- Упакувати дані у бінарний рядок\n","title":"fwrite","contentType":2,"navigation":[{"function.ftruncate.md":"« ftruncate"},{"function.glob.md":"glob »"},{"index.md":"PHP Manual"},{"ref.filesystem.md":"Функції файлової системи"}]}},"__N_SSG":true}