- [«imagetruecolortopalette](function.imagetruecolortopalette.md)
- [imagettftext »](function.imagettftext.md)

- [PHP Manual](index.md)
- [Функції GD та функції для роботи із зображеннями](ref.image.md)
- Отримання параметрів рамки, що обрамляє текст написаний TrueType
шрифтом

#imagettfbbox

(PHP 4, PHP 5, PHP 7, PHP 8)

imagettfbbox — Отримання параметрів рамки тексту, що обрамляє
TrueType шрифтом

### Опис

**imagettfbbox**(
float `$size`,
float `$angle`,
string `$font_filename`,
string `$string`,
array `$options` u003d \[\]
): array\|false

Ця функція розраховує та повертає параметри рамки навколо TrueType
тексту в пікселі.

> **Примітка**:
>
> До PHP 8.0.0 [imageftbbox()](function.imageftbbox.md) - це
> розширений варіант **imagettfbbox()** який додатково
> підтримує `extrainfo`. Починаючи з PHP 8.0.0, **imagettfbbox()**
> є псевдонімом [imageftbbox()](function.imageftbbox.md).

### Список параметрів

`size`
Розмір шрифту у типографських пунктах.

`angle`
Кут у градусах у якому буде виміряний `string`.

`fontfile`
Шлях до TrueType шрифту, який ви хочете використовувати.

Залежно від того, яка бібліотека GD використовується в PHP, *якщо
`fontfile` не починається з символу `/`, то до імені файлу буде додано
`.ttf`* та бібліотека намагатиметься шукати це ім'я файлу за
певному бібліотекою шляху шрифтів.

При використанні бібліотеки GD версії нижче 2.0.18, як
розділювача шляхів для різних файлів шрифтів використовується `пробіл`, а не
крапка з комою. Ненавмисне використання цієї особливості
призведе до попередження: `Warning: Could not find/open font`.
Єдиним коректним рішенням для цих версій бібліотек буде
переміщення файлів шрифтів у директорію, що не містить пробілів.

У багатьох випадках, коли шрифт знаходиться в тому ж каталозі, що і скрипт
PHP допоможе наступний трюк.

` <?php// Установка змінної оточення для GDputenv('GDFONTPATHu003d' . realpath('.'));// Ім'я шрифту для використання (зверніть указ, f| > `

> **Примітка**:
>
> Зверніть увагу, що [open_basedir](ini.core.md#ini.open-basedir)
> *не* застосовується до `fontfile`.

`string`
Вимірюваний рядок.

### Значення, що повертаються

**imagettfbbox()** повертає масив з 8 елементів, що представляють
координати чотирьох точок – вершин рамки навколо тексту. У разі помилки
функція поверне **`false`**.

| ключ | вміст |
|------|---------------------------------------|
| 0 | нижній лівий кут X координата |
| 1 | нижній лівий кут Y координата |
| 2 | нижній правий кут X координата |
| 3 | нижній правий кут Y координата |
| 4 | верхній правий кут, координата X |
| 5 | верхній правий кут, координата Y |
| 6 | верхній лівий кут X координата |
| 7 | верхній лівий кут Y координата |

Точки розраховані щодо тексту *text* та незалежно від кута
`angle`. Тобто верхній лівий означає верхній лівий кут, якщо
дивитися на текст горизонтально.

### Список змін

| Версія | Опис |
|--------|------------------------------|
| 8.0.0 | Доданий параметр `options`. |

### Приклади

**Приклад #1 Приклад використання **imagettfbbox()****

`<?php// створення зображення 300x150$im u003d imagecreatetruecolor(300, 150);$black u003d imagecolorallocate($im, 0, 0, 0);$white u003d imagecolorallocate(5, 5,5 / Білий фонimagefilledrectangle($im, 0, 0, 299, 299, $white);// Шлях к файлу шрифту$font u003d './arial.ttf';// створюємо рамку для    , $font, 'Powered by PHP ' . phpversion());// наші координати X і Y$x u003d $bbox[0] + (imagesx($im) / 2) - ($b - 25;$y u003d $bbox[1] + (imagesy($im) / 2) - ($bbox[5] / 2) - 5;// Пишемо текстimagettftext($im, 10, 45, $ y, $black, $font, 'Powered by PHP ' . phpversion());// створюємо іншу рамку для іншого тексту$bbox u003d imagettfbbox(10, 45, $font, ' // задаємо координати так, щоб текст йшов відразу за першою написом$x u003d $bbox[0] + (imagesx($im) / 2) - ($bbox[4] / 2 | $                                      | 1] + (imagesy($im) / 2) - ($bbox[5] / 2) - 5;// Пишемо другу написimagettftext($im, 10, 45, $x, $y, $black, 'and Zend Engine ' . zend_versio n());// Висновок в браузерheader('Content-Type:image/png');imagepng($im);imagedestroy($im);?> `

### Примітки

> **Примітка**: Ця функція доступна лише у випадку, якщо PHP був
> скомпільований за допомогою freetype (**--with-freetype-diru003dDIR**)

### Дивіться також

- [imagettftext()](function.imagettftext.md) - Малювання тексту на
зображенні шрифтом TrueType
- [imageftbbox()](function.imageftbbox.md) - Визначення меж
тексту, що виводиться шрифтом freetype2
