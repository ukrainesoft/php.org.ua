{"pageProps":{"page":{"slug":"mysqli.store-result.md","content":"# mysqli::store\\_result\n\n# mysqli\\_store\\_result\n\n(PHP 5, PHP 7, PHP 8)\n\nmysqli::store\\_result -- mysqli\\_store\\_result — Надсилає на клієнта результуючий набір останнього запиту.\n\n### Опис\n\nОб'єктно-орієнтований стиль\n\n```methodsynopsis\npublic mysqli::store_result(int $mode = 0): mysqli_result|false\n```\n\nПроцедурний стиль\n\n```methodsynopsis\nmysqli_store_result(mysqli $mysql, int $mode = 0): mysqli_result|false\n```\n\nНадає результуючий набір останнього запиту на з'єднанні `mysql`. Подальша робота з цим набором здійснюється функцією [mysqli\\_data\\_seek()](mysqli-result.data-seek.md)\n\n### Список параметрів\n\n`mysql`\n\nТільки для процедурного стилю: об'єкт [mysqli](class.mysqli.md), який повернула функція [mysqli\\_connect()](function.mysqli-connect.md)или функция[mysqli\\_init()](mysqli.init.md)\n\n`mode`\n\nОпція, що встановлюється. Починаючи з PHP 8.1 параметр ні на що не впливає. Може мати одне з наступних значень:\n\n**Допустимі варіанти**\n\n| Имя | Опис |\n| --- | --- |\n| **`MYSQLI_STORE_RESULT_COPY_DATA`** | Копіює результати з внутрішнього буфера mysqlnd в отримані змінні PHP. За умовчанням mysqlnd використовує посилання, запобігаючи копіюванню та дублювання результатів у пам'яті. У деяких випадках, наприклад, якщо результати містять багато невеликих рядів, копіювання може зменшити загальне споживання пам'яті, оскільки змінні PHP, що містять результат, можна звільняти раніше (доступно лише при використанні mysqlnd) |\n\n### Значення, що повертаються\n\nПовертає буферизований об'єкт результату запиту або \\*\\*`false`\\*\\*в случае ошибки.\n\n> **Зауваження** :\n> \n> **mysqli\\_store\\_result()** повертає \\*\\*`false`\\*\\*якщо запит не повертає результуючої таблиці (наприклад, у разі вираження INSERT). Також функція поверне \\*\\*`false`\\*\\*якщо дані з результуючого набору не вдалося прочитати. Наявність помилки можна перевірити функцією [mysqli\\_error()](mysqli.error.md), яка у разі поверне непустий рядок; [mysqli\\_errno()](mysqli.errno.md) поверне ненульове значення; і [mysqli\\_field\\_count()](mysqli.field-count.md) також поверне ненульове значення. Також можливою причиною повернення **`false`** після успішного виклику [mysqli\\_query()](mysqli.query.md) може бути занадто великий результуючий набір (бракує пам'яті для його розміщення). Якщо функція [mysqli\\_field\\_count()](mysqli.field-count.md) повертає ненульове значення, тож запит повернув непустий результуючий набір.\n\n### Помилки\n\nЯкщо сповіщення про помилки mysqli включено (**`MYSQLI_REPORT_ERROR`**) та запитана операція не вдалася, видається попередження. Якщо, крім того, встановлено режим **`MYSQLI_REPORT_STRICT`**, натомість буде викинуто виняток [mysqli\\_sql\\_exception](class.mysqli-sql-exception.md)\n\n### Приклади\n\nСмотрите[mysqli\\_multi\\_query()](mysqli.multi-query.md)\n\n### Примітки\n\n> **Зауваження** :\n> \n> Навіть попри гарну практику очищати пам'ять, зайняту результатами запитів, за допомогою функції [mysqli\\_free\\_result()](mysqli-result.free.md), якщо **mysqli\\_store\\_result()** передає великий результуючий набір, може стати проблемою.\n\n### Дивіться також\n\n-   [mysqli\\_real\\_query()](mysqli.real-query.md) \\- Виконання SQL запиту\n-   [mysqli\\_use\\_result()](mysqli.use-result.md) \\- Готує результуючий набір на сервері для використання\n","title":"mysqli::store\\_result","contentType":2,"navigation":[{"mysqli.stmt-init.md":"« mysqli::stmt\\_init"},{"mysqli.thread-id.md":"mysqli::$thread\\_id »"},{"index.md":"PHP Manual"},{"class.mysqli.md":"mysqli"}]}},"__N_SSG":true}