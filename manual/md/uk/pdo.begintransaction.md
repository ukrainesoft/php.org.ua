- [«PDO](class.pdo.md)
- [PDO::commit »](pdo.commit.md)

- [PHP Manual](index.md)
- [PDO](class.pdo.md)
- Ініціалізація транзакції

# PDO::beginTransaction

(PHP 5 u003d 5.1.0, PHP 7, PHP 8, PECL pdo u003d 0.1.0)

PDO::beginTransaction — Ініціалізація транзакції

### Опис

public **PDO::beginTransaction**(): bool

Вимикає режим автоматичної фіксації транзакції. У той час як режим
автоматичної фіксації вимкнено, зміни, внесені до бази даних
через об'єкт екземпляра PDO, не застосовуються, поки ви не завершите
транзакцію, викликавши [PDO::commit()](pdo.commit.md). Виклик
[PDO::rollBack()](pdo.rollback.md) відкотить усі зміни в базі даних
та поверне з'єднання до режиму автоматичної фіксації.

Деякі бази даних, включаючи MySQL, автоматично виконують неявну
фіксацію, коли вирази мови опису даних (DDL), такі як DROP
TABLE або CREATE TABLE, що знаходяться всередині транзакції. Неявна фіксація
запобігтиме вам відкату будь-яких змін, зроблених у цій транзакції.

### Список параметрів

Ця функція не має параметрів.

### Значення, що повертаються

Повертає **`true`** у разі успішного виконання або **`false`** у
у разі виникнення помилки.

### Помилки

Викидає [PDOException](class.pdoexception.md), якщо транзакція вже
стартувала або якщо драйвер не підтримує транзакції.

> **Примітка**: Виняток буде викликано, навіть якщо атрибут
> **`PDO::ATTR_ERRMODE`** не виставлений у **`PDO::ERRMODE_EXCEPTION`**.

### Приклади

**Приклад #1 Відкат транзакції**

Наступний приклад починає транзакцію і виконує два вирази, що
змінює базу даних до відкату змін. У MySQL, проте,
вираз DROP TABLE автоматично фіксує транзакцію так, що жодна
із змін транзакції не відкочується.

` <?php/* Початок транзакції, відключення автоматичної фіксації */$dbh->beginTransaction();/* Зміна схеми бази даних і даних */$sth u003d $dbh->exec| | u003d $dbh->exec("UPDATE dessert    SETSET name u003d 'hamburger'"); > `

### Дивіться також

- [PDO::commit()](pdo.commit.md) - Фіксує транзакцію
- [PDO::rollBack()](pdo.rollback.md) - Відкат транзакції
- [Транзакції та автоматична фіксація](pdo.transactions.md)
