{"pageProps":{"page":{"slug":"function.ldap-control-paged-result.md","content":"# ldap\\_control\\_paged\\_result\n\n(PHP 5 >= 5.4.0, PHP 7)\n\nldap\\_control\\_paged\\_result — Надіслати серверу LDAP дані для використання посторінкового отримання результату\n\n**Увага**\n\nФункція була оголошена *застарілої* в PHP 7.4.0 та *ВИДАЛЕНО* у PHP 8.0.0. Замість неї слід використовувати параметр `controls`в[ldap\\_search()](function.ldap-search.md)Смотрите также [Керуючі об'єкти LDAP](ldap.controls.md) для отримання додаткової інформації.\n\n### Опис\n\n```methodsynopsis\nldap_control_paged_result(    resource $link,    int $pagesize,    bool $iscritical = false,    string $cookie = \"\"): bool\n```\n\nДозволяє працювати з LDAP у посторінковому режимі, шляхом надсилання бажаних налаштувань (розмір сторінки, куки і т.д.)\n\n### Список параметрів\n\n`link`\n\nРесурс LDAP, який повертається функцією [ldap\\_connect()](function.ldap-connect.md)\n\n`pagesize`\n\nКількість записів на сторінку.\n\n`iscritical`\n\nВизначає, чи є посторінковий режим критичним чи ні. Якщо **`true`** і якщо сервер не підтримує посторінкову роботу, пошук поверне порожній результат.\n\n`cookie`\n\nНепрозора структура, що посилається сервером ([ldap\\_control\\_paged\\_result\\_response()](function.ldap-control-paged-result-response.md)\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.0.0 | Функцію було видалено. |\n| 7.4.0 | Функцію оголошено застарілою. |\n\n### Приклади\n\nПриклад нижче демонструє вилучення першої сторінки результату пошуку з використанням розміру сторінки, що дорівнює одному запису.\n\n**Приклад #1 Посторінкова робота з LDAP**\n\n```php\n<?php\n     // $ds - идентификатор соединения (смотрите ldap_connect)\n     ldap_set_option($ds, LDAP_OPT_PROTOCOL_VERSION, 3);\n\n     $dn        = 'ou=example,dc=org';\n     $filter    = '(|(sn=Doe*)(givenname=John*))';\n     $justthese = array('ou', 'sn', 'givenname', 'mail');\n\n     // разрешаем постраничную работу с размером страницы равному одной записи.\n     ldap_control_paged_result($ds, 1);\n\n     $sr = ldap_search($ds, $dn, $filter, $justthese);\n\n     $info = ldap_get_entries($ds, $sr);\n\n     echo $info['count'] . ' записей возвращено' . PHP_EOL;\n```\n\nПриклад нижче демонструє вилучення першої сторінки результату пошуку з використанням розміру сторінки, що дорівнює ста записам.\n\n**Приклад #2 Посторінкова робота з LDAP**\n\n```php\n<?php\n     // $ds - идентификатор соединения (смотрите ldap_connect)\n     ldap_set_option($ds, LDAP_OPT_PROTOCOL_VERSION, 3);\n\n     $dn        = 'ou=example,dc=org';\n     $filter    = '(|(sn=Doe*)(givenname=John*))';\n     $justthese = array('ou', 'sn', 'givenname', 'mail');\n\n     // разрешаем постраничную работу с размером страницы равному ста записям.\n     $pageSize = 100;\n\n     $cookie = '';\n     do {\n         ldap_control_paged_result($ds, $pageSize, true, $cookie);\n\n         $result  = ldap_search($ds, $dn, $filter, $justthese);\n         $entries = ldap_get_entries($ds, $result);\n\n         foreach ($entries as $e) {\n             echo $e['dn'] . PHP_EOL;\n         }\n\n         ldap_control_paged_result_response($ds, $result, $cookie);\n\n     } while($cookie !== null && $cookie != '');\n```\n\n### Примітки\n\n> **Зауваження** :\n> \n> Посторовий режим з'явився у версії протоколу LDAPv3.\n\n### Дивіться також\n\n-   [ldap\\_control\\_paged\\_result\\_response()](function.ldap-control-paged-result-response.md) \\- Отримати вказівник на поточну сторінку результуючого набору LDAP\n-   [» RFC2696 : Керуючий модуль LDAP для простих маніпуляцій результатом, що посторінково повертається](http://www.faqs.org/rfcs/rfc2696)\n","title":"ldap\\_control\\_paged\\_result","contentType":2,"navigation":[{"function.ldap-control-paged-result-response.md":"« ldap\\_control\\_paged\\_result\\_response"},{"function.ldap-count-entries.md":"ldap\\_count\\_entries »"},{"index.md":"PHP Manual"},{"ref.ldap.md":"Функції LDAP"}]}},"__N_SSG":true}