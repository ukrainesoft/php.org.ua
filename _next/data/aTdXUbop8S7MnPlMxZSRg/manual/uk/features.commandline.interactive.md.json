{"pageProps":{"page":{"slug":"features.commandline.interactive.md","content":"## Інтерактивна консоль\n\nМодуль CLI SAPI надає інтерактивну консоль, використовуючи опцію **\\-a**, якщо PHP був скомпільований з опцією **\\--with-readline**. Починаючи з PHP PHP 7.1.0, інтерактивна консоль також доступна на Windows, якщо [модуль readline](book.readline.md) включений.\n\nВикористовуючи інтерактивну консоль, можна ввести та виконати безпосередньо PHP-код.\n\n**Приклад #1 Запуск коду в інтерактивній консолі**\n\n$ php -a Interactive shell\n\nphp > echo 5+8; 13 php > function addTwo($n) php > { php { return $n + 2; php { } php > var\\_dump(addtwo(2)); int(4) php >\n\nІнтерактивна консоль також автодоповнює (за допомогою клавіші Tab) імена функцій, констант, класів, змінних, виклики статичних методів та константи класів.\n\n**Приклад #2 Автодоповнення по Tab**\n\nПодвійне натискання клавіші Tab за наявності кількох варіантів доповнення покаже список цих варіантів:\n\nphp > strp\\[TAB\\]\\[TAB\\] strpbrk strpos strptime php > strp\n\nКоли є тільки одне доповнення, одиночне натискання Tab доповнить текст, що залишився, на тому ж рядку:\n\nphp > strpt\\[TAB\\]ime(\n\nДодаток також працює для імен, які були оголошені протягом даної інтерактивної сесії:\n\nphp > $fooThisIsAReallyLongVariableName = 42; php > $foo\\[TAB\\]ThisIsAReallyLongVariableName\n\nІнтерактивна консоль зберігає історію команд, для доступу до якої можна використовувати стрілки вгору та вниз. Історія зберігається у файлі ~/.php\\_history.\n\nМодуль CLI SAPI надає дві нові налаштування у php.ini: `cli.pager`и`cli.prompt`Настройка`cli.pager` дозволяє використовувати зовнішню програму (таку як less) для посторінкового перегляду даних замість їх прямого виведення на екран. Налаштування `cli.prompt` дозволяє задавати запрошення `php >` на введення команди.\n\nТакож можна встановлювати налаштування php.ini в інтерактивній консолі за допомогою спеціального скорочення.\n\n**Приклад #3 Встановлення налаштування php.ini в інтерактивній консолі**\n\nНастройка`cli.prompt` :\n\nphp > #cli.prompt=hello world :> hello world :>\n\nВикористовуючи зворотні апострофи можна задати PHP-код, який виконається у запрошенні на введення команди:\n\nphp > #cli.prompt=\\`echo date('H:i:s');\\` php > 15:49:35 php > echo 'hi'; hi 15:49:43 php > sleep(2); 15:49:45 php >\n\nВстановлення less для посторінкового виведення даних:\n\nphp > #cli.pager=less php > phpinfo(); (output displayed in less) php >\n\nНастройка`cli.prompt` підтримує кілька керуючих послідовностей:\n\n**Керуючі послідовності `cli.prompt`**\n\n| Управляющая последовательность | Опис |\n| --- | --- |\n| `\\e` | Використовується для додавання кольорів до запрошення на введення команди. Приклад: `\\e[032m\\v \\e[031m\\b \\e[34m\\> \\e[0m` |\n| `\\v` | Версія PHP. |\n| `\\b` | Відображає, в якій частині PHP ми знаходимося. Для прикладу `/*` показує, що ми перебуваємо у багаторядковому коментарі. Зовнішня область видимості позначається як `php` |\n| `\\>` | Вказує запрошення символ. За промовчанням це символ `>`але можна змінити, коли оболонка знаходиться всередині незакритого блоку або рядка. Можливі символи: `' \" { ( >` |\n\n> **Зауваження** :\n> \n> Файли, підключені за допомогою опцій [auto\\_prepend\\_file](ini.core.md#ini.auto-prepend-file) і [auto\\_append\\_file](ini.core.md#ini.auto-append-file) обробляються в цьому режимі з деякими обмеженнями, наприклад функції повинні бути оголошені до їх використання.\n\n## Інтерактивний режим\n\nЯкщо модуль readline недоступний, то PHP 8.1.0 виклик файлу CLI SAPI з параметром **\\-a** забезпечував інтерактивний режим. У цьому режимі передбачається, що повний PHP скрипт передається через STDIN, а після завершення скрипт оцінюється за допомогою `CRTL+d`(POSIX) или`CTRL+z`с последующим`ENTER` (Windows). По суті це те саме, що й виклик CLI SAPI без параметра **\\-a**option.\n\nПочинаючи з PHP 8.1.0, виклик CLI SAPI з параметром **\\-a** завершується помилкою, якщо модуль readline недоступний.\n","title":"Інтерактивна консоль","contentType":2,"navigation":[{"features.commandline.io-streams.md":"« Потоки введення/виводу"},{"features.commandline.webserver.md":"Вбудований веб-сервер"},{"index.md":"PHP Manual"},{"features.commandline.md":"Робота з PHP з командного рядка"}]}},"__N_SSG":true}