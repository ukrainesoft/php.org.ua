{"pageProps":{"page":{"slug":"function.libxml-get-errors.md","content":"# libxml\\_get\\_errors\n\n(PHP 5 >= 5.1.0, PHP 7, PHP 8)\n\nlibxml\\_get\\_errors — Отримання масиву помилок, що відбулися.\n\n### Опис\n\n```methodsynopsis\nlibxml_get_errors(): array\n```\n\nОтримання масиву помилок, що відбулися.\n\n### Список параметрів\n\nЦя функція не має параметрів.\n\n### Значення, що повертаються\n\nПовертає масив об'єктів [LibXMLError](class.libxmlerror.md)якщо в буфері є помилки, або порожній масив в іншому випадку.\n\n### Приклади\n\n**Приклад #1 Приклад використання** libxml\\_get\\_errors()\\*\\*\\*\\*\n\nЦей приклад демонструє, як створити простий обробник помилок libxml.\n\n```php\n<?php\n\nlibxml_use_internal_errors(true);\n\n$xmlstr = <<< XML\n<?xml version='1.0' standalone='yes'?>\n<movies>\n <movie>\n  <titles>PHP: Behind the Parser</title>\n </movie>\n</movies>\nXML;\n\n$doc = simplexml_load_string($xmlstr);\n$xml = explode(\"\\n\", $xmlstr);\n\nif ($doc === false) {\n    $errors = libxml_get_errors();\n\n    foreach ($errors as $error) {\n        echo display_xml_error($error, $xml);\n    }\n\n    libxml_clear_errors();\n}\n\n\nfunction display_xml_error($error, $xml)\n{\n    $return  = $xml[$error->line - 1] . \"\\n\";\n    $return .= str_repeat('-', $error->column) . \"^\\n\";\n\n    switch ($error->level) {\n        case LIBXML_ERR_WARNING:\n            $return .= \"Warning $error->code: \";\n            break;\n         case LIBXML_ERR_ERROR:\n            $return .= \"Error $error->code: \";\n            break;\n        case LIBXML_ERR_FATAL:\n            $return .= \"Fatal Error $error->code: \";\n            break;\n    }\n\n    $return .= trim($error->message) .\n               \"\\n  Line: $error->line\" .\n               \"\\n  Column: $error->column\";\n\n    if ($error->file) {\n        $return .= \"\\n  File: $error->file\";\n    }\n\n    return \"$return\\n\\n--------------------------------------------\\n\\n\";\n}\n\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\n<titles>PHP: Behind the Parser</title>\n----------------------------------------------^\nFatal Error 76: Opening and ending tag mismatch: titles line 4 and title\n  Line: 4\n  Column: 46\n\n--------------------------------------------\n```\n\n### Дивіться також\n\n-   [libxml\\_get\\_last\\_error()](function.libxml-get-last-error.md) \\- Вилучення останньої помилки з libxml\n-   [libxml\\_clear\\_errors()](function.libxml-clear-errors.md) \\- Очищення буфера помилок libxml\n","title":"libxml\\_get\\_errors","contentType":2,"navigation":[{"function.libxml-disable-entity-loader.md":"« libxml\\_disable\\_entity\\_loader"},{"function.libxml-get-external-entity-loader.md":"libxml\\_get\\_external\\_entity\\_loader »"},{"index.md":"PHP Manual"},{"ref.libxml.md":"Функції libxml"}]}},"__N_SSG":true}