{"pageProps":{"page":{"slug":"phar.converttoexecutable.md","content":"# Phar::convertToExecutable\n\n(PHP 5 >= 5.3.0, PHP 7, PHP 8, PECL phar >= 2.0.0)\n\nPhar::convertToExecutable — Конвертує phar-архів в інший формат файлу.\n\n### Опис\n\n```methodsynopsis\npublic Phar::convertToExecutable(?int $format = null, ?int $compression = null, ?string $extension = null): ?Phar\n```\n\n> **Зауваження** :\n> \n> Для коректної роботи з об'єктами [Phar](class.phar.md) цьому методу необхідне встановлення значення php.ini `phar.readonly`в . В іншому випадку, буде викинуто виняток [PharException](class.pharexception.md)\n\nЦей метод використовується для конвертування phar-архіву в інший формат файлу. Наприклад, він може бути використаний для створення виконуваного phar-архіву, заснованого на tar, з виконуваного phar-архіву, заснованого на zip, або виконуваного phar-архіву з форматом файлу phar. Крім того, цей метод може бути використаний для стиснення цілого архіву, що базується на tar або phar.\n\nЯкщо не було вказано жодних змін, то даний метод викине виняток [BadMethodCallException](class.badmethodcallexception.md)\n\nУ разі успішного виконання цей метод створює на диску новий архів та повертає об'єкт [Phar](class.phar.md). Старий архів не видаляється з диска, це має бути зроблено вручну після завершення процесу.\n\n### Список параметрів\n\n`format`\n\nЗначенням цього параметра має бути одна з констант: `Phar::PHAR` `Phar::TAR`или`Phar::ZIP`Если значение установлено в\\*\\*`null`\\*\\*, то існуючий формат файлу буде збережено.\n\n`compression`\n\nЗначенням цього параметра має бути одна з констант: `Phar::NONE` для відсутності стиску всього архіву, `Phar::GZ`для сжатия, основанного на zlib, или`Phar::BZ2`для bzip-сжатия.\n\n`extension`\n\nЦей параметр використовується для перевизначення розширення файлу за промовчанням для конвертованого архіву. Зверніть увагу, що всі phar-архіви, що базуються на tar або zip, повинні містити `.phar` у розширенні файлу щоб вони могли бути оброблені як phar-архів.\n\nУ разі конвертації архіву, заснованого на phar, розширеннями за умовчанням є `.phar` `.phar.gz`и`.phar.bz2`, Залежно від зазначеного стиснення. У разі конвертації phar-архіву, заснованого на tar, розширеннями за замовчуванням є `.phar.tar` `.phar.tar.gz`и`.phar.tar.bz2`. Для архівів, що базуються на zip, розширенням за умовчанням є `.zip`\n\n### Значення, що повертаються\n\nЦей метод повертає об'єкт [Phar](class.phar.md) в успішного виконання та \\*\\*`null`\\*\\*в случае возникновения ошибки.\n\n### Помилки\n\nЦей метод викидає виняток [BadMethodCallException](class.badmethodcallexception.md) у таких випадках: при неможливості стиснення; якщо було передано невідомий алгоритм стиснення; у запитаному архіві було включено буферизацію за допомогою [Phar::startBuffering()](phar.startbuffering.md) і не була завершена за допомогою [Phar::stopBuffering()](phar.stopbuffering.md)Если поддержка записи отключена, то будет брошено исключение[UnexpectedValueException](class.unexpectedvalueexception.md). У разі виникнення будь-яких проблем у процесі створення phar викидається виняток [PharException](class.pharexception.md)\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.0.0 | `format` `compression`и`extension` тепер допускають значення null. |\n\n### Приклади\n\n**Приклад #1 Приклад використання** Phar::convertToExecutable()\\*\\*\\*\\*\n\nВикористання Phar::convertToExecutable():\n\n```php\n<?php\ntry {\n    $tarphar = new Phar('myphar.phar.tar');\n    // конвертировать архив в формат phar\n    // обратите внимание, что myphar.phar.tar *не* будет удалён\n    $phar = $tarphar->convertToExecutable(Phar::PHAR); // будет создан myphar.phar\n    $phar->setStub($phar->createDefaultStub('cli.php', 'web/index.php'));\n    // будет создан myphar.phar.tgz\n    $compressed = $phar->convertToExecutable(Phar::TAR, Phar::GZ, '.phar.tgz');\n} catch (Exception $e) {\n    // обработка ошибок\n}\n?>\n```\n\n### Дивіться також\n\n-   [Phar::convertToData()](phar.converttodata.md) \\- Конвертує phar-архів в tar-або zip-файл, що не виконується.\n-   [PharData::convertToExecutable()](phardata.converttoexecutable.md) \\- Конвертація tar/zip-архіву з даними в phar-архів, що запускається\n-   [PharData::convertToData()](phardata.converttodata.md) \\- Конвертація phar-архіву в tar/zip-архів, що не запускається.\n","title":"Phar::convertToExecutable","contentType":2,"navigation":[{"phar.converttodata.md":"« Phar::convertToData"},{"phar.copy.md":"Phar::copy »"},{"index.md":"PHP Manual"},{"class.phar.md":"Phar"}]}},"__N_SSG":true}