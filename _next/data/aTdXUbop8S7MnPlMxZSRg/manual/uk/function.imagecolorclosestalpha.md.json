{"pageProps":{"page":{"slug":"function.imagecolorclosestalpha.md","content":"# imagecolorclosestalpha\n\n(PHP 4 >= 4.0.6, PHP 5, PHP 7, PHP 8)\n\nimagecolorclosestalpha — Отримання індексу кольору найближчого до заданого з урахуванням прозорості\n\n### Опис\n\n```methodsynopsis\nimagecolorclosestalpha(    GdImage $image,    int $red,    int $green,    int $blue,    int $alpha): int\n```\n\nПовертає індекс кольору на панелі зображення, \"найближчого\" до заданого RGB значення, а також `alpha` рівнем.\n\n### Список параметрів\n\n`image`\n\nОб'єкт [GdImage](class.gdimage.md), що повертається однією з функцій створення зображень, наприклад, такий як [imagecreatetruecolor()](function.imagecreatetruecolor.md)\n\n`red`\n\nЗначення червоного компонента кольору.\n\n`green`\n\nЗначення зеленого компонента кольору.\n\n`blue`\n\nЗначення синього компонента кольору.\n\n`alpha`\n\nЗначение в диапазоне от до`127`. . означає непрозорість, `127` означає абсолютну прозорість.\n\nПараметри кольору можуть бути цілими в діапазоні від 0 до 255, або шістнадцятковими в діапазоні від 0x00 до 0xFF.\n\n### Значення, що повертаються\n\nПовертає індекс кольору на панелі зображення, найближчого до заданого.\n\n### Приклади\n\n**Приклад #1 Пошук набору кольорів зображення**\n\n```php\n<?php\n// Создание изображения и преобразование его в палитровое\n$im = imagecreatefrompng('figures/imagecolorclosest.png');\nimagetruecolortopalette($im, false, 255);\n\n// Цвета для поиска  (RGB)\n$colors = array(\n    array(254, 145, 154, 50),\n    array(153, 145, 188, 127),\n    array(153, 90, 145, 0),\n    array(255, 137, 92, 84)\n);\n\n// Проход по каждому цвету и поиск ближайшего к нему в палитре.\n// Возврат номера по порядку, RGB искомого цвета и найденное RGB соответствие\nforeach($colors as $id => $rgb)\n{\n    $result = imagecolorclosestalpha($im, $rgb[0], $rgb[1], $rgb[2], $rgb[3]);\n    $result = imagecolorsforindex($im, $result);\n    $result = \"({$result['red']}, {$result['green']}, {$result['blue']}, {$result['alpha']})\";\n\n    echo \"#$id: Поиск ($rgb[0], $rgb[1], $rgb[2], $rgb[3]); Ближайшее сходство: $result.\\n\";\n}\n\nimagedestroy($im);\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\n#0: Поиск (254, 145, 154, 50); Ближайшее сходство: (252, 150, 148, 0).\n#1: Поиск (153, 145, 188, 127); Ближайшее сходство: (148, 150, 196, 0).\n#2: Поиск (153, 90, 145, 0); Ближайшее сходство: (148, 90, 156, 0).\n#3: Поиск (255, 137, 92, 84); Ближайшее сходство: (252, 150, 92, 0).\n```\n\n### Дивіться також\n\n-   [imagecolorexactalpha()](function.imagecolorexactalpha.md) \\- Отримання індексу заданого кольору та альфа компонента\n-   [imagecolorclosest()](function.imagecolorclosest.md) \\- Отримання індексу кольору найближчого до заданого\n-   [imagecolorclosesthwb()](function.imagecolorclosesthwb.md) \\- Отримання індексу кольору, що має заданий тон, білизну та затемнення\n","title":"imagecolorclosestalpha","contentType":2,"navigation":[{"function.imagecolorclosest.md":"« imagecolorclosest"},{"function.imagecolorclosesthwb.md":"imagecolorclosesthwb »"},{"index.md":"PHP Manual"},{"ref.image.md":"Функції GD та функції для роботи із зображеннями"}]}},"__N_SSG":true}