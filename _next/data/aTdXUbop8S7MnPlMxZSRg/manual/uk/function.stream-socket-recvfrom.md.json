{"pageProps":{"page":{"slug":"function.stream-socket-recvfrom.md","content":"# stream\\_socket\\_recvfrom\n\n(PHP 5, PHP 7, PHP 8)\n\nstream\\_socket\\_recvfrom — Отримує дані із сокету, підключеного чи ні\n\n### Опис\n\n```methodsynopsis\nstream_socket_recvfrom(    resource $socket,    int $length,    int $flags = 0,    ?string &$address = null): string|false\n```\n\n**stream\\_socket\\_recvfrom()** приймає дані з віддаленого сокету розміром до `length`байт.\n\n### Список параметрів\n\n`socket`\n\nВіддалений сокет.\n\n`length`\n\nКоличество байт для получения из параметра`socket`\n\n`flags`\n\nЗначение параметра`flags` може бути будь-якою комбінацією з наступного:\n\n<table class=\"doctable table\"><caption><strong>Можливі значення для параметра <code class=\"parameter\">flags</code></strong></caption><tbody class=\"tbody\"><tr><td><strong><code>STREAM_OOB</code></strong></td><td>Обробляти дані OOB (<code class=\"literal\">out-of-band</code>).&lt; /td&gt;</td></tr><tr><td><strong><code>STREAM_PEEK</code></strong></td><td>Отримувати дані з сокету, але не витрачати буфер. Наступні виклики функцій <span class=\"function\"><a href=\"function.fread.md\" class=\"function\">fread()</a></span> або <span class=\"function\"><strong>stream_socket_recvfrom()</strong></span> отримають ті самі дані.</td></tr></tbody></table>\n\n`address`\n\nЕсли указан параметр`address`, він буде заповнений адресою віддаленого сокету.\n\n### Значення, що повертаються\n\nПовертає прочитані дані у вигляді рядка або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Приклад використання функції** stream\\_socket\\_recvfrom()\\*\\*\\*\\*\n\n```php\n<?php\n/* Открывает серверный сокет на 1234-м порту на localhost */\n$server = stream_socket_server('tcp://127.0.0.1:1234');\n\n/* Принимает соединение */\n$socket = stream_socket_accept($server);\n\n/* Получает пакет (обычный размер MTU 1500) OOB-данных */\necho \"Получены данные OOB (Out-Of-Band): '\" . stream_socket_recvfrom($socket, 1500, STREAM_OOB) . \"'\\n\";\n\n/* Получить обычные данные, но не расходовать их. */\necho \"Данные: '\" . stream_socket_recvfrom($socket, 1500, STREAM_PEEK) . \"'\\n\";\n\n/* Получить тот же самый пакет снова, но в этот раз удалить его из буфера данных. */\necho \"Данные: '\" . stream_socket_recvfrom($socket, 1500) . \"'\\n\";\n\n/* Закрыть сокет */\nfclose($socket);\nfclose($server);\n?>\n```\n\n### Примітки\n\n> **Зауваження** :\n> \n> Якщо отримане повідомлення довжиною більше, ніж параметр `length`, зайві байти можуть бути пропущені в залежності від типу сокету, з якого отримано повідомлення (наприклад, UDP).\n\n> **Зауваження** :\n> \n> Виклики функції **stream\\_socket\\_recvfrom()** на потоках, заснованих на сокетах, після викликів потокових функцій, що базуються на буферах (таких як [fread()](function.fread.md) або [stream\\_get\\_line()](function.stream-get-line.md)) читають дані безпосередньо із сокету та пропускають потоковий буфер.\n\n### Дивіться також\n\n-   [stream\\_socket\\_sendto()](function.stream-socket-sendto.md) \\- Надсилає повідомлення до сокету, незалежно від того, під'єднаний він чи ні\n-   [stream\\_socket\\_client()](function.stream-socket-client.md) \\- Відкрити з'єднання з інтернет-сокетом або доменним сокетом Unix\n-   [stream\\_socket\\_server()](function.stream-socket-server.md) \\- Створює інтернет-сокет або доменний сокет Unix\n","title":"stream\\_socket\\_recvfrom","contentType":2,"navigation":[{"function.stream-socket-pair.md":"« stream\\_socket\\_pair"},{"function.stream-socket-sendto.md":"stream\\_socket\\_sendto »"},{"index.md":"PHP Manual"},{"ref.stream.md":"Функції для роботи з потоками"}]}},"__N_SSG":true}