{"pageProps":{"page":{"slug":"function.imap-open.md","content":"# imap\\_open\n\n(PHP 4, PHP 5, PHP 7, PHP 8)\n\nimap\\_open — Відкриває потік IMAP до поштової скриньки\n\n### Опис\n\n```methodsynopsis\nimap_open(    string $mailbox,    string $user,    string $password,    int $flags = 0,    int $retries = 0,    array $options = []): IMAP\\Connection|false\n```\n\nВідкриває потік IMAP до `mailbox`\n\nЦя функція також може використовуватися для відкриття потоку до серверів POP3 та NNTP, але частина функцій та особливостей працюватиме лише з серверами IMAP.\n\n### Список параметрів\n\n`mailbox`\n\nІм'я поштової скриньки складається з сервера та шляху до поштової скриньки на ньому. Спеціальне ім'я `INBOX` використовується для поштової скриньки поточного користувача. Імена поштових скриньок, що містять міжнародні символи, крім вхідних у друкований простір ASCII, повинні бути закодовані за допомогою [imap\\_utf7\\_encode()](function.imap-utf7-encode.md)\n\n**Увага**\n\nЯкщо [imap.enable\\_insecure\\_rsh](imap.configuration.md#ini.imap.enable-insecure-rsh) не вимкнено, то передача в цей параметр не перевірених даних *не безпечна*\n\nСерверна частина, укладена у фігурні дужки '{' і '}', складається з імені або IP-адреси сервера, опціонального порту (попереднього двокрапкою) та опціональних специфікацій протоколу (попередніх слешем '/').\n\nСерверна частина є обов'язковою у всіх параметрах поштової скриньки.\n\nВсі імена, що починаються з `{` є віддаленими іменами і мають такий синтаксис `\"{\" remote_system_name [\":\" port] [flags] \"}\" [mailbox_name]`где:\n\n-   `remote_system_name`\\- Повне доменне ім'я сервера, або IP-адресу у квадратних дужках.\n-   `port`\\- Необов'язковий параметр. Визначає порт сервера\n-   `flags`\\- опціональні прапори, дивись таблицю нижче\n-   `mailbox_name`\\- Ім'я поштової скриньки. За замовчуванням INBOX\n\n**Опціональні прапори**\n\n| Флаг | Опис |\n| --- | --- |\n| `/service=`*service* | сервіс доступу до поштової скриньки. За замовчуванням \"imap\" |\n| `/user=`*user* | ім'я користувача для входу на сервер |\n| `/authuser=`*user* | віддалений користувач для автентифікації; якщо вказано, то це буде той користувач, пароль якого використовується (наприклад administrator) |\n| `/anonymous` | віддалений доступ під анонімним користувачем |\n| `/debug` | записувати телеметрію протоколу до спеціального лог-файлу програми |\n| `/secure` | не передавати пароль через мережу у вигляді зашифрованого тексту |\n| `/imap` `/imap2` `/imap2bis` `/imap4` `/imap4rev1` | еквівалентно `/service=imap` |\n| `/pop3` | еквівалентно `/service=pop3` |\n| `/nntp` | еквівалентно `/service=nntp` |\n| `/norsh` | не використовувати rsh або ssh для встановлення переавторизованої сесії IMAP |\n| `/ssl` | використовувати `SSL` для шифрування сесії |\n| `/validate-cert` | перевіряти сертифікати серверів TLS/SSL (поведінка за замовчуванням) |\n| `/novalidate-cert` | не перевіряти сертифікати від серверів TLS/SSL. корисно для серверів із самопідписаним сертифікатом |\n| `/tls` | примусово використовувати `start-TLS` для шифрування сесії та відкидати з'єднання з серверами, що його не підтримують |\n| `/notls` | не застосовувати `start-TLS` для шифрування сесії, навіть якщо сервер його підтримує |\n| `/readonly` | запит відкриття в режимі \"тільки читання\" (тільки IMAP; ігнорується для NNTP та видає помилку для SMTP та POP3) |\n\n`user`\n\nІм'я користувача\n\n`password`\n\nПароль користувача `user`\n\n`flags`\n\n`flags` - бітова маска з однієї або кількох констант:\n\n-   \\*\\*`OP_READONLY`\\*\\*- відкрити поштову скриньку лише для читання\n-   \\*\\*`OP_ANONYMOUS`\\*\\*- не використовувати та не оновлювати .newsrc для новин (тільки NNTP)\n-   \\*\\*`OP_HALFOPEN`\\*\\*- відкрити з'єднання, але не підключатися до поштової скриньки ім'я IMAP і NNTP.\n-   \\*\\*`CL_EXPUNGE`\\*\\*- автоматично видаляти всі позначені для видалення повідомлення під час закриття поштової скриньки (див.[imap\\_delete()](function.imap-delete.md) і [imap\\_expunge()](function.imap-expunge.md)) .\n-   \\*\\*`OP_DEBUG`\\*\\*- домовленості щодо протоколу налагодження\n-   \\*\\*`OP_SHORTCACHE`\\*\\*- коротке кешування (тільки`elt`) .\n-   \\*\\*`OP_SILENT`\\*\\*- не передавати події (внутрішнє використання)\n-   \\*\\*`OP_PROTOTYPE`\\*\\*- Повернути прототип драйвера\n-   \\*\\*`OP_SECURE`\\*\\*- не здійснювати безпечну автентифікацію\n\n`retries`\n\nМаксимальна кількість спроб з'єднання\n\n`options`\n\nПараметри для з'єднання. Для встановлення одного або декількох параметрів з'єднання можна використовувати такі (рядки) ключі:\n\n-   `DISABLE_AUTHENTICATOR`\\- забороняє властивості автентифікації\n\n### Значення, що повертаються\n\nУ разі успішного виконання повертає екземпляр [IMAP\\\\Connection](class.imap-connection.md)или\\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.1.0 | Повертає екземпляр [IMAP\\\\Connection](class.imap-connection.md); раніше повертався ресурс ([resource](language.types.resource.md) |\n\n### Приклади\n\n**Приклад #1 Різні способи використання **imap\\_open()****\n\n```php\n<?php\n// Для подключения к серверу IMAP, работающему на порту 143 на локальной машине, сделать следующее:\n$mbox = imap_open(\"{localhost:143}INBOX\", \"user_id\", \"password\");\n\n// Для подключения к серверу POP3, работающему на порту 110 на локальной машине, использовать:\n$mbox = imap_open (\"{localhost:110/pop3}INBOX\", \"user_id\", \"password\");\n\n// Для подключения к серверу SSL IMAP или POP3, добавить /ssl после протокола\n// specification:\n$mbox = imap_open (\"{localhost:993/imap/ssl}INBOX\", \"user_id\", \"password\");\n\n// Для подключения к серверу SSL IMAP или POP3 с самоподписанным сертификатом,\n// добавить /ssl/novalidate-cert после спецификации протокола:\n$mbox = imap_open (\"{localhost:995/pop3/ssl/novalidate-cert}\", \"user_id\", \"password\");\n\n// Для подключения к серверу NNTP, работающему на порту 119 на локальной машине, использовать:\n$nntp = imap_open (\"{localhost:119/nntp}comp.test\", \"\", \"\");\n// Для подключения к удалённому серверу, заменить \"localhost\" на имя или\n// IP-адрес сервера, к которому вы хотите подключиться.\n?>\n```\n\n**Приклад #2 Приклад використання** imap\\_open()\\*\\*\\*\\*\n\n```php\n<?php\n$mbox = imap_open(\"{imap.example.org:143}\", \"username\", \"password\");\n\necho \"<h1>Почтовые ящики</h1>\\n\";\n$folders = imap_listmailbox($mbox, \"{imap.example.org:143}\", \"*\");\n\nif ($folders == false) {\n    echo \"Неудачный вызов<br />\\n\";\n} else {\n    foreach ($folders as $val) {\n        echo $val . \"<br />\\n\";\n    }\n}\n\necho \"<h1>Заголовки в INBOX</h1>\\n\";\n$headers = imap_headers($mbox);\n\nif ($headers == false) {\n    echo \"Неудачный вызов<br />\\n\";\n} else {\n    foreach ($headers as $val) {\n        echo $val . \"<br />\\n\";\n    }\n}\n\nimap_close($mbox);\n?>\n```\n\n### Дивіться також\n\n-   [imap\\_close()](function.imap-close.md) \\- Закриває потік IMAP\n","title":"imap\\_open","contentType":2,"navigation":[{"function.imap-num-recent.md":"« imap\\_num\\_recent"},{"function.imap-ping.md":"imap\\_ping »"},{"index.md":"PHP Manual"},{"ref.imap.md":"Функції IMAP"}]}},"__N_SSG":true}