{"pageProps":{"page":{"slug":"function.fileperms.md","content":"# fileperms\n\n(PHP 4, PHP 5, PHP 7, PHP 8)\n\nfileperms — Повертає інформацію про права на файл\n\n### Опис\n\n```methodsynopsis\nfileperms(string $filename): int|false\n```\n\nПовертає інформацію про права доступу до файлу.\n\n### Список параметрів\n\n`filename`\n\nШлях до файлу.\n\n### Значення, що повертаються\n\nПовертає права доступу на вказаний файл у числовому вигляді. Молодші біти цього значення такі ж, як і біти прав доступу для використання функції [chmod()](function.chmod.md), однак, на більшості платформ, що повертається значення буде також включати інформацію про тип файлу, який передано як параметр `filename`. Приклади нижче демонструють як перевірити значення, що повертається, на наявність певних прав і типу файлу на POSIX-системах, включаючи Linux і macOS.\n\nДля локальних файлів, що повертається значення є частиною структури `st_mode`, яка повертається функцією С-бібліотеки [stat()](function.stat.md). Які в точності біти встановлені може змінюватись від платформи до платформи. Рекомендується пошукати документацію до вашої платформи, якщо потрібна обробка бітів значення, що повертається, що не належать до прав доступу.\n\nПовертає \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Помилки\n\nУ разі невдалого завершення роботи генерується помилка рівня **`E_WARNING`**\n\n### Приклади\n\n**Приклад #1 Відображення прав доступу у вигляді восьмеричного числа**\n\n```php\n<?php\necho substr(sprintf('%o', fileperms('/tmp')), -4);\necho substr(sprintf('%o', fileperms('/etc/passwd')), -4);\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\n1777\n0644\n```\n\n**Приклад #2 Відображення повних прав доступу**\n\n```php\n<?php\n$perms = fileperms('/etc/passwd');\n\nswitch ($perms & 0xF000) {\n    case 0xC000: // сокет\n        $info = 's';\n        break;\n    case 0xA000: // символическая ссылка\n        $info = 'l';\n        break;\n    case 0x8000: // обычный\n        $info = 'r';\n        break;\n    case 0x6000: // файл блочного устройства\n        $info = 'b';\n        break;\n    case 0x4000: // каталог\n        $info = 'd';\n        break;\n    case 0x2000: // файл символьного устройства\n        $info = 'c';\n        break;\n    case 0x1000: // FIFO канал\n        $info = 'p';\n        break;\n    default: // неизвестный\n        $info = 'u';\n}\n\n// Владелец\n$info .= (($perms & 0x0100) ? 'r' : '-');\n$info .= (($perms & 0x0080) ? 'w' : '-');\n$info .= (($perms & 0x0040) ?\n            (($perms & 0x0800) ? 's' : 'x' ) :\n            (($perms & 0x0800) ? 'S' : '-'));\n\n// Группа\n$info .= (($perms & 0x0020) ? 'r' : '-');\n$info .= (($perms & 0x0010) ? 'w' : '-');\n$info .= (($perms & 0x0008) ?\n            (($perms & 0x0400) ? 's' : 'x' ) :\n            (($perms & 0x0400) ? 'S' : '-'));\n\n// Мир\n$info .= (($perms & 0x0004) ? 'r' : '-');\n$info .= (($perms & 0x0002) ? 'w' : '-');\n$info .= (($perms & 0x0001) ?\n            (($perms & 0x0200) ? 't' : 'x' ) :\n            (($perms & 0x0200) ? 'T' : '-'));\n\necho $info;\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\n-rw-r--r--\n```\n\n### Примітки\n\n> **Зауваження**: Результати цієї функції кешуються Більш детальну інформацію дивіться у розділі [clearstatcache()](function.clearstatcache.md)\n\n**Підказка**\n\nПочинаючи з PHP 5.0.0, ця функція також може бути використана з *деякими* обгортками url. Список обгорток, що підтримуються сімейством функцій [stat()](function.stat.md), смотрите в разделе[Підтримувані протоколи та обгортки](wrappers.md)\n\n### Дивіться також\n\n-   [chmod()](function.chmod.md) \\- Змінює режим доступу до файлу\n-   [is\\_readable()](function.is-readable.md) \\- Визначає існування файлу і чи він доступний для читання\n-   [stat()](function.stat.md) \\- Повертає інформацію про файл\n","title":"fileperms","contentType":2,"navigation":[{"function.fileowner.md":"« fileowner"},{"function.filesize.md":"filesize »"},{"index.md":"PHP Manual"},{"ref.filesystem.md":"Функції файлової системи"}]}},"__N_SSG":true}