{"pageProps":{"page":{"slug":"pdo.commit.md","content":"# PDO::commit\n\n(PHP 5 >= 5.1.0, PHP 7, PHP 8, PECL pdo >= 0.1.0)\n\nPDO::commit - Фіксує транзакцію\n\n### Опис\n\n```methodsynopsis\npublic PDO::commit(): bool\n```\n\nФіксує транзакцію, повертаючи з'єднання з базою даних у режим автоматичної фіксації доти, доки наступний виклик [PDO::beginTransaction()](pdo.begintransaction.md) не розпочне нову транзакцію.\n\n### Список параметрів\n\nЦя функція не має параметрів.\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Помилки\n\nВикликає виняток [PDOException](class.pdoexception.md)якщо немає активної транзакції.\n\n> **Зауваження**: Виняток буде викликано, навіть якщо атрибут **`PDO::ATTR_ERRMODE`** не виставлений у **`PDO::ERRMODE_EXCEPTION`**\n\n### Приклади\n\n**Приклад #1 Фіксація звичайної транзакції**\n\n```php\n<?php\n/* Начало транзакции, отключение автоматической фиксации */\n$dbh->beginTransaction();\n\n/* Вставка множества записей по принципу \"все или ничего\" */\n$sql = 'INSERT INTO fruit\n    (name, colour, calories)\n    VALUES (?, ?, ?)';\n\n$sth = $dbh->prepare($sql);\n\nforeach ($fruits as $fruit) {\n    $sth->execute(array(\n        $fruit->name,\n        $fruit->colour,\n        $fruit->calories,\n    ));\n}\n\n/* Фиксация изменений */\n$dbh->commit();\n\n/* Соединение с базой данных снова в режиме автоматической фиксации */\n?>\n```\n\n**Приклад #2 Фіксація DDL-транзакції**\n\n```php\n<?php\n/* Начало транзакции, отключение автоматической фиксации */\n$dbh->beginTransaction();\n\n/* Изменение схемы базы данных */\n$sth = $dbh->exec(\"DROP TABLE fruit\");\n\n/* Фиксация изменений */\n$dbh->commit();\n\n/* Соединение с базой данных снова в режиме автоматической фиксации */\n?>\n```\n\n> **Зауваження**: Не всі бази даних дозволяють транзакціям працювати з DDL-виразами: в деяких генеруються помилки, тоді як в інших (включаючи MySQL) транзакція автоматично фіксується після першого DDL-виразу, що зустрівся.\n\n### Дивіться також\n\n-   [PDO::beginTransaction()](pdo.begintransaction.md) \\- Ініціалізація транзакції\n-   [PDO::rollBack()](pdo.rollback.md) \\- Відкат транзакції\n-   [Транзакції та автоматична фіксація](pdo.transactions.md)\n","title":"PDO::commit","contentType":2,"navigation":[{"pdo.begintransaction.md":"« PDO::beginTransaction"},{"pdo.construct.md":"PDO::\\_\\_construct »"},{"index.md":"PHP Manual"},{"class.pdo.md":"PDO"}]}},"__N_SSG":true}