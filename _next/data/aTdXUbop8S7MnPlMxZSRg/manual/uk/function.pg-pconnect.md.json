{"pageProps":{"page":{"slug":"function.pg-pconnect.md","content":"# pg\\_pconnect\n\n(PHP 4, PHP 5, PHP 7, PHP 8)\n\npg\\_pconnect — Відкриває постійне з'єднання з сервером PostgreSQL\n\n### Опис\n\n```methodsynopsis\npg_pconnect(string $connection_string, int $flags = 0): PgSql\\Connection|false\n```\n\n**pg\\_pconnect()** встановлює з'єднання з базою даних PostgreSQL. Повертає екземпляр [PgSql\\\\Connection](class.pgsql-connection.md), необхідний роботи більшості функцій PostgreSQL.\n\nПри повторному виклику функції **pg\\_pconnect()** з тими ж значеннями параметрів `connection_string` функція поверне існуюче підключення. Щоб примусово створити нове з'єднання, необхідно надіслати рядок підключення функції **`PGSQL_CONNECT_FORCE_NEW`** як параметр `flags`\n\nМожливість створення постійних підключень регулюється директивою [pgsql.allow\\_persistent](pgsql.configuration.md#ini.pgsql.allow-persistent) файл php.ini. Щоб увімкнути, встановіть значення \"On\" (за замовчуванням). Максимальна кількість постійних з'єднань задається директивою [pgsql.max\\_persistent](pgsql.configuration.md#ini.pgsql.max-persistent) файлу php.ini (за замовчуванням –1, не обмежено). Кількість будь-яких можливих підключень встановлюється директивою [pgsql.max\\_links](pgsql.configuration.md#ini.pgsql.max-links)файла php.ini.\n\n[pg\\_close()](function.pg-close.md) не закриває з'єднання, відкриті функцією **pg\\_pconnect()**\n\n### Список параметрів\n\n`connection_string`\n\nРядок `connection_string` може бути порожнім рядком або містити кілька параметрів розділених пробілами. Кожен параметр вказується як `keyword = value`. Прогалини навколо знака однаково необов'язкові. Порожні рядки як значення або значення, що містять пробіли, відокремлюються одинарними лапками, як наприклад, `keyword = 'a value'`. Для завдання одинарних лапок і зворотних слішів як значення їх необхідно екранувати зворотним слешем, тобто \\\\' і \\\\\\\\\n\nСписок основних ключових слів: `host` `hostaddr` `port` `dbname`(значение по умолчанию для параметра`user` `user` `password` `connect_timeout` `options` `tty` (ігнорується), `sslmode` `requiressl`(устарело в связи с использованием параметра`sslmode`), и`service`. Які з цих аргументів будуть опрацьовані, залежить від версії PostgreSQL.\n\n`flags`\n\nЕсли в функцию передана константа\\*\\*`PGSQL_CONNECT_FORCE_NEW`\\*\\*, буде створюватися нове підключення, навіть якщо `connection_string` ідентична рядку існуючого підключення.\n\n### Значення, що повертаються\n\nЕкземпляр [PgSql\\\\Connection](class.pgsql-connection.md) у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.1.0 | Повертає екземпляр [PgSql\\\\Connection](class.pgsql-connection.md); раніше повертався ресурс ([resource](language.types.resource.md) |\n\n### Приклади\n\n**Приклад #1 Приклад використання** pg\\_pconnect()\\*\\*\\*\\*\n\n```php\n<?php\n$dbconn = pg_pconnect(\"dbname=mary\");\n//подключиться к базе \"mary\"\n\n$dbconn2 = pg_pconnect(\"host=localhost port=5432 dbname=mary\");\n// подключиться к базе \"mary\" на хосте \"localhost\", порт \"5432\"\n\n$dbconn3 = pg_pconnect(\"host=sheep port=5432 dbname=mary user=lamb password=foo\");\n//подключиться к базе \"mary\" на хосте \"sheep\", используя имя пользователя и пароль\n\n$conn_string = \"host=sheep port=5432 dbname=test user=lamb password=bar\";\n$dbconn4 = pg_pconnect($conn_string);\n//подключиться к базе \"test\" на хосте \"sheep\", используя имя пользователя и пароль\n?>\n```\n\n### Дивіться також\n\n-   [pg\\_connect()](function.pg-connect.md) \\- Відкриває з'єднання з базою даних PostgreSQL\n-   [Постійні з'єднання з базою даних](features.persistent-connections.md)\n","title":"pg\\_pconnect","contentType":2,"navigation":[{"function.pg-parameter-status.md":"« pg\\_parameter\\_status"},{"function.pg-ping.md":"pg\\_ping »"},{"index.md":"PHP Manual"},{"ref.pgsql.md":"Функції PostgreSQL"}]}},"__N_SSG":true}