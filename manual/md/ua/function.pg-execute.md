- [« pg_escape_string](function.pg-escape-string.md)
- [pg_fetch_all_columns »](function.pg-fetch-all-columns.md)

- [PHP Manual](index.md)
- [Функції PostgreSQL](ref.pgsql.md)
- Запускає виконання раніше підготовленого параметризованого
запиту та чекає результат

#pg_execute

(PHP 5 \>u003d 5.1.0, PHP 7, PHP 8)

pg_execute — Запускає виконання раніше підготовленого
параметризованого запиту та чекає результат

### Опис

**pg_execute**([PgSql\Connection](class.pgsql-connection.md)
`$connection` u003d ?, string `$stmtname`, array `$params`):
[PgSql\Result](class.pgsql-result.md)\|false

Запускає виконання раніше підготовленого параметризованого запиту та
чекає на результат.

**pg_execute()** аналог функції
[pg_query_params()](function.pg-query-params.md), тільки замість рядка
із запитом приймає ім'я попередньо підготовленого SQL-запиту. Це
дозволяє багаторазово виконувати один раз створені запити з різними
параметрами. Сам запит повинен бути заздалегідь підготовлений у поточній
сесії. **pg_execute()** підтримується PostgreSQL версії 7.4 та вище.
Функція не працюватиме на з'єднаннях із сервером ранніх версій.

Аргументи функції ті ж, що й у
[pg_query_params()](function.pg-query-params.md), за винятком імені
попередньо складеного запиту, який передається замість рядка з
запитом.

### Список параметрів

`connection`
Примірник [PgSql\Connection](class.pgsql-connection.md). Якщо
`connection` не вказано, використовується стандартне з'єднання.
З'єднання за замовчуванням - це останнє з'єднання, виконане з
за допомогою функцій [pg_connect()](function.pg-connect.md) або
[pg_pconnect()](function.pg-pconnect.md).

**Увага**
Починаючи з версії PHP 8.1.0, використання стандартного з'єднання
застаріло.

`stmtname`
Ім'я підготовленого для виконання запиту. Якщо передано порожній рядок
"", буде виконано безіменний запит. Ім'я та вміст запиту повинні
бути підготовлені функцією [pg_prepare()](function.pg-prepare.md),
[pg_send_prepare()](function.pg-send-prepare.md) або за допомогою
SQL-команди `PREPARE`.

`params`
Масив значень параметрів запиту для заміни псевдозмінних $1, $2 та
і т.д. у вихідному рядку запиту. Кількість елементів масиву має
точно співпадати з кількістю псевдозмінних.

**Увага**
Елементи масиву будуть перетворені на рядки.

### Значення, що повертаються

Примірник [PgSql\Result](class.pgsql-result.md) у разі успішного
виконання або **`false`** у разі виникнення помилки.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- -------------------------------------------------- -----------------------|
| 8.1.0 | Повертає екземпляр [PgSql\Result](class.pgsql-result.md); раніше повертався ресурс ([resource](language.types.resource.md)). |
| 8.1.0 | Параметр `connection` тепер чекає на екземпляр [PgSql\Connection](class.pgsql-connection.md); раніше очікувався ресурс ([resource](language.types.resource.md)). |

### Приклади

**Приклад #1 Приклад використання **pg_execute()****

`<?php// Підключення до бази даних "mary"$dbconn u003d pg_connect("dbnameu003dmary");// Підготовка запиту$result u003d pg_prepare($dbconn, "my_query", '  ');// Запуск запиту на виконання. Варто відзначити, що немає необхідності екранувати // спецсимволи в рядку "Joe's Widgets" $ result u003d u003d pg_execute ($ dbconn, " my_query ", / array ( " Joe's " ); $result u003d pg_execute($dbconn, "my_query", array("Clothes Clothes Clothes"));?> `

### Дивіться також

- [pg_prepare()](function.pg-prepare.md) - Надсилає запит на
створення параметризованого SQL висловлювання і чекає на його завершення
- [pg_send_prepare()](function.pg-send-prepare.md) - Надсилає запит
створення параметризованого SQL-вираження, не чекаючи його
завершення
- [pg_query_params()](function.pg-query-params.md) - Посилає
параметризований запит на сервер, параметри передаються окремо від
тексту SQL запиту
