{"pageProps":{"page":{"slug":"function.oci-set-db-operation.md","content":"# oci\\_set\\_db\\_operation\n\n(PHP 7 >= 7.2.14, PHP 8, PHP 7 >= 7.3.1, PHP 8, PECL OCI8 >= 2.2.0)\n\noci\\_set\\_db\\_operation — Задає операцію бази даних\n\n### Опис\n\n```methodsynopsis\noci_set_db_operation(resource $connection, string $action): bool\n```\n\nВстановлює DBOP для трасування Oracle.\n\nІм'я операції бази даних реєструється в базі даних при наступному \"циклічному шляху\" (round-trip) з PHP до бази даних, як правило, при виконанні виразу SQL.\n\nОперація бази даних може згодом вимагатися з уявлень адміністрування бази даних, таких як `V$SQL_MONITOR`\n\nФункция**oci\\_set\\_db\\_operation()** доступна, якщо oci8 використовує клієнтські бібліотеки Oracle версії 12 (або новіші) та базу даних Oracle 12 (або новіші).\n\n### Список параметрів\n\n`connection`\n\nІдентифікатор з'єднання Oracle, що повертається [oci\\_connect()](function.oci-connect.md) [oci\\_pconnect()](function.oci-pconnect.md), или[oci\\_new\\_connect()](function.oci-new-connect.md)\n\n`action`\n\nКористувальницький рядок.\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Встановлення DBOP**\n\n```php\n<?php\n\n$c = oci_connect('hr', 'welcome', 'localhost/XE');\n\n// Записать операцию\noci_set_db_operation($c, 'main query');\n\n// Код, вызывающий циклический путь, наПриклад запрос:\n$s = oci_parse($c, 'select * from dual');\noci_execute($s);\noci_fetch_all($s, $res);\n\nsleep(30);\n\n?>\n```\n\n```\n// Во время выполнения скрипта администратор может видеть выполняемые операции\n// с базой данных.\n\nsqlplus system/welcome\nSQL> select dbop_name from v$sql_monitor;\n```\n\n### Примітки\n\n**Застереження**\n\n# Порада щодо повного сканування таблиці (roundtrip)\n\nДеякі, але не всі функції OCI8 викликають повне сканування таблиці (roundtrip). Повне сканування таблиць немає для тих запитів, у яких включено кешування результатів у базі даних.\n\n### Дивіться також\n\n-   [oci\\_set\\_action()](function.oci-set-action.md) \\- Вказує ім'я для дії\n-   [oci\\_set\\_module\\_name()](function.oci-set-module-name.md) \\- Задає ім'я модулю\n-   [oci\\_set\\_client\\_info()](function.oci-set-client-info.md) \\- Задає інформацію про клієнта\n-   [oci\\_set\\_client\\_identifier()](function.oci-set-client-identifier.md) \\- задає ідентифікатор клієнта\n","title":"oci\\_set\\_db\\_operation","contentType":2,"navigation":[{"function.oci-set-client-info.md":"« oci\\_set\\_client\\_info"},{"function.oci-set-edition.md":"oci\\_set\\_edition »"},{"index.md":"PHP Manual"},{"ref.oci8.md":"OCI8 Функції"}]}},"__N_SSG":true}