{"pageProps":{"page":{"slug":"migration72.new-features.md","content":"## Нові можливості\n\n### Новий тип object\n\nБуло введено новий тип, object, який може використовуватися в параметрах, що передаються (контраваріантність) і повертаються значеннях (коваріантність) для будь-яких об'єктів.\n\n```php\n<?php\n\nfunction test(object $obj) : object\n{\n    return new SplQueue();\n}\n\ntest(new stdClass());\n```\n\n### Завантаження модуля на ім'я\n\nДля підвантажуваних модулів більше не потрібно вказувати розширення файлу (`.so`для Unix или`.dll` для Windows). Це допускається у файлі php.ini, а також функції [dl()](function.dl.md)\n\n### Дозволено перевизначення абстрактних методів\n\nАбстрактні методи тепер можна перевизначити, якщо абстрактний клас успадковується від іншого абстрактного класу.\n\n```php\n<?php\n\nabstract class A\n{\n    abstract function test(string $s);\n}\nabstract class B extends A\n{\n    // переопределён - всё ещё сохраняя контравариантность для параметров и ковариантность для возвращаемых значений\n    abstract function test($s) : int;\n}\n```\n\n### [Sodium](book.sodium.md) тепер є основним модулем\n\nСучасна криптографічна бібліотека Sodium тепер стала основним модулем PHP (як модуль sodium).\n\nСмотрите раздел[Sodium](book.sodium.md) для отримання повної інформації.\n\n### Додано хешування пароля за допомогою Argon2\n\nБуло додано алгоритм Argon2 в [API хешування пароля](book.password.md), де доступні такі константи:\n\n-   **`PASSWORD_ARGON2I`**\n-   **`PASSWORD_ARGON2_DEFAULT_MEMORY_COST`**\n-   **`PASSWORD_ARGON2_DEFAULT_TIME_COST`**\n-   **`PASSWORD_ARGON2_DEFAULT_THREADS`**\n\n### Розширені типи рядків для [PDO](book.pdo.md)\n\nТип рядка PDO був розширений для підтримки національних наборів символів при емуляції запитів, що готуються. Додані нові константи:\n\n-   **`PDO::PARAM_STR_NATL`**\n-   **`PDO::PARAM_STR_CHAR`**\n-   **`PDO::ATTR_DEFAULT_STR_PARAM`**\n\nЦі константи використовують у побітовому `OR` з константою **`PDO::PARAM_STR`** :\n\n```php\n<?php\n\n$db->quote('über', PDO::PARAM_STR | PDO::PARAM_STR_NATL);\n```\n\n### Додаткова налагоджувальна інформація при емуляції запитів, що готуються [PDO](book.pdo.md)\n\nМетод[PDOStatement::debugDumpParams()](pdostatement.debugdumpparams.md) було оновлено, щоб увімкнути SQL до відправки в БД, де буде показаний повний необроблений запит (включаючи замінені параметри зі своїми пов'язаними значеннями). Це було додано для допомоги у налагодженні емуляції запитів, що готуються (і тому це буде доступно тільки при включеній емуляції підготовлюваних запитів).\n\n### Підтримка розширених операцій на [LDAP](book.ldap.md)\n\nБуло додано підтримку EXOP модуль LDAP. Стали доступні такі функції та константи:\n\n-   [ldap\\_parse\\_exop()](function.ldap-parse-exop.md)\n-   [ldap\\_exop()](function.ldap-exop.md)\n-   [ldap\\_exop\\_passwd()](function.ldap-exop-passwd.md)\n-   [ldap\\_exop\\_whoami()](function.ldap-exop-whoami.md)\n-   **`LDAP_EXOP_START_TLS`**\n-   **`LDAP_EXOP_MODIFY_PASSWD`**\n-   **`LDAP_EXOP_REFRESH`**\n-   **`LDAP_EXOP_WHO_AM_I`**\n-   **`LDAP_EXOP_TURN`**\n\n### Информация об адресе в модуле[сокетів](book.sockets.md)\n\nМодуль сокетів має можливість шукати адресну інформацію, а також підключатися до неї, зв'язуватися з нею і пояснювати її. Для цього були додані такі чотири функції:\n\n-   [socket\\_addrinfo\\_lookup()](function.socket-addrinfo-lookup.md)\n-   [socket\\_addrinfo\\_connect()](function.socket-addrinfo-connect.md)\n-   [socket\\_addrinfo\\_bind()](function.socket-addrinfo-bind.md)\n-   [socket\\_addrinfo\\_explain()](function.socket-addrinfo-explain.md)\n\n### Розширення типу параметра\n\nТипи параметрів із перевизначених методів та реалізацій інтерфейсів тепер можуть бути опущені. Це все ще відповідає LSP, оскільки параметри типів є контраваріантними.\n\n```php\n<?php\n\ninterface A\n{\n    public function Test(array $input);\n}\n\nclass B implements A\n{\n    public function Test($input){} // тип параметра не указан $input\n}\n```\n\n### Дозволена завершальна кома для згрупованих просторів імен\n\nЗавершальна кома тепер може бути додана до синтаксису угруповання use, що з'явився в PHP 7.0.\n\n```php\n<?php\n\nuse Foo\\Bar\\{\n    Foo,\n    Bar,\n    Baz,\n};\n```\n\n### Поддержка[proc\\_nice()](function.proc-nice.md)для Windows\n\nФункция[proc\\_nice()](function.proc-nice.md) тепер підтримується у Windows.\n\n### Поддержка порядка байт в[pack()](function.pack.md) і [unpack()](function.unpack.md)\n\nФункції [pack()](function.pack.md) і [unpack()](function.unpack.md) тепер підтримують типи float та double як у прямому, так і у зворотному порядку байт.\n\n### Улучшения в модуле[EXIF](book.exif.md)\n\nМодуль EXIF ​​оновлено для підтримки більшої кількості форматів. Це означає, що специфічні теги правильно обробляються при розборі зображень функцією [exif\\_read\\_data()](function.exif-read-data.md). Нові формати, що підтримуються:\n\n-   Samsung\n-   DJI\n-   Panasonic\n-   Sony\n-   Pentax\n-   Minolta\n-   Sigma/Foveon\n-   AGFA\n-   Kyocera\n-   Ricoh\n-   Epson\n\nФункції [exif\\_read\\_data()](function.exif-read-data.md) і [exif\\_thumbnail()](function.exif-thumbnail.md) тепер приймають потоки як свої перші аргументи.\n\n### Нова функціональність у [PCRE](book.pcre.md)\n\n-   Доданий модифікатор`J`для встановлення PCRE\\_DUPNAMES.\n\n### [SQLite3](book.sqlite3.md) дозволяє записувати BLOB\n\nТепер [SQLite3::openBlob()](sqlite3.openblob.md) вміє відкривати поля типу BLOB для запису. Раніше для таких полів було доступне лише читання.\n\n### Зворотні дзвінки [Oracle OCI8](book.oci8.md)Transparent Application Failover\n\nДобавлена поддержка[зворотних викликів Oracle Database Transparent Application Failover (TAF)](oci8.taf.md). TAF дозволяє програмам PHP OCI8 автоматично перепідключатися до попередньо налаштованої бази даних при порушенні з'єднання. Нова підтримка зворотного дзвінка TAF дозволяє програмам відстежувати та контролювати перепідключення під час відновлення.\n\n### Улучшения в модуле[ZIP](book.zip.md)\n\nДодано підтримку читання та запису зашифрованих архівів (потрібно libzip 1.2.0).\n\nКласс[ZipArchive](class.ziparchive.md) тепер реалізує інтерфейс [Countable](class.countable.md)\n\nПоток`zip://` тепер приймає контекстну опцію `'password'`\n","title":"Нові можливості","contentType":2,"navigation":[{"migration72.md":"« Міграція з PHP 7.1.x на PHP 7.2.x"},{"migration72.new-functions.md":"Нові функції »"},{"index.md":"PHP Manual"},{"migration72.md":"Міграція з PHP 7.1.x на PHP 7.2.x"}]}},"__N_SSG":true}