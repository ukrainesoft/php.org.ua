- [«Змінені функції](migration71.changed-functions.md)
- [Підтримка Windows»](migration71.windows-support.md)

- [PHP Manual](index.md)
- [Міграція з PHP 7.0.x на PHP 7.1.x](migration71.md)
- Інші зміни

## Інші зміни

### Зауваження та попередження при виконанні арифметичних операцій з некоректними рядками

Нові помилки рівнів **`E_WARNING`** та **`E_NOTICE`** були додані за
використання некоректних рядків з операторами, які чекають на число (`+`
`-``*``/``**``%``<<``>>``|``&``^`) та їх еквівалентами з
привласненням. Помилка рівня **`E_NOTICE`** видається, коли рядок
починається з цифр, але далі містить не цифрові символи, і помилка
рівня **`E_WARNING`** видається тоді, коли рядок взагалі не містить
цифр.

`<?php'1b' + 'щось'; `

Результат виконання цього прикладу:

Notice: A non well formed numeric value encountered in %s on line %d
Warning: A non-numeric value %s on line %d

### Попередження при переповненні екранованої вісімкової послідовності

Раніше 3-октетний вісімковий рядок переповнювався нікому нічого
повідомляючи. Тепер при переповненні буде викликана помилка рівня
**`E_WARNING`**.

`<?phpvar_dump("@"); `

Результат виконання цього прикладу:

Warning: Octal escape sequence overflow @ is greater than � in %s on line %d
string(1) "@"

### Виправлена неузгодженість `$this`

У той час як `$this` вважається спеціальною змінною в PHP, їй не
вистачало спеціальних перевірок, що її не використовують як змінну
та не перевизначили. Тепер використовувати `$this` як
користувальницької змінної заборонено. Також заборонено надавати їй
значення та використовувати у глобальному просторі імен.

### Генерація ідентифікаторів сесій без хешування

Ідентифікатори сесій більше не хешуються під час створення. Разом з
цим видалені наступні чотири параметри з файлу ini:

- `session.entropy_file`
- `session.entropy_length`
- `session.hash_function`
- `session.hash_bits_per_character`

І додані два інші:

- `session.sid_length` – визначає довжину ідентифікатора сесії. за
замовчуванням використовується 32 символи для забезпечення зворотного
сумісності.
- `session.sid_bits_per_character` - визначає кількість біт на
кожен символ ідентифікатора (тобто можна збільшити кількість
доступні для використання в ідентифікаторі символів). Для зворотньої
сумісності за замовчуванням використовується 4 біти.

### Зміни в обробці INI-файлів

`precision`
Якщо встановлено -1, то буде використано режим dtoa. Значення по
замовчуванням 14.

`serialize_precision`
Якщо встановлено -1, то буде використано режим dtoa. Тепер значення
за замовчуванням -1.

`gd.jpeg_ignore_warning`
Значення за промовчанням для цього налаштування `php.ini` змінено на 1, так
що, за замовчуванням, попередження libjpeg ігноруватимуться.

`opcache.enable_cli`
У PHP 7.1.2 значення за промовчанням для цього налаштування `php.ini` змінено
на 1 (включено), а в PHP 7.1.7 повернуто значення 0 (вимкнено)

### Генерація ідентифікаторів сесій лише за допомогою CSPRNG

Ідентифікатори сесій тепер створюються лише за допомогою CSPRNG.

### Більш інформативне повідомлення [TypeError](class.typeerror.md), якщо припустимо **`null`**

Тепер виняток [TypeError](class.typeerror.md) для перевірок типу
arg_info надає більш інформативне повідомлення про помилку. Якщо тип
параметра або значення, що повертається може бути **`null`** (або має
значення **`null`** за замовчуванням або має тип, що обнулюється), то тепер в
повідомленні буде згадано "must be...or null" або "must...or be
null."
