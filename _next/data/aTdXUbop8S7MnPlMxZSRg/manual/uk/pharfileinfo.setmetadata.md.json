{"pageProps":{"page":{"slug":"pharfileinfo.setmetadata.md","content":"# PharFileInfo::setMetadata\n\n(PHP 5 >= 5.3.0, PHP 7, PHP 8, PECL phar >= 1.0.0)\n\nPharFileInfo::setMetadata — Встановлення метаданих для файлу\n\n### Опис\n\n```methodsynopsis\npublic PharFileInfo::setMetadata(mixed $metadata): void\n```\n\n**PharFileInfo::setMetadata()** слід використовувати для збереження метаданих конкретного файлу, які не можна зберігати всередині самого файлу, оскільки, якщо даних багато, або в принципі багато файлів з метаданими - це сповільнює завантаження phar-архіву. Важливо пам'ятати, що архіви з коробки підтримують права на файли і їх можна задати за допомогою методу [PharFileInfo::chmod()](pharfileinfo.chmod.md). Так як ця функціональність змінює phar-архів, необхідно, щоб опція [phar.readonly](phar.configuration.md#ini.phar.readonly) було відключено, інакше внести зміни до архіву [Phar](class.phar.md) не вийде. На архіви [PharData](class.phardata.md) обмеження на запис не поширюється.\n\nМетадані файлів можна використовувати, наприклад, для вказівки, які права треба призначити файлу під час експорту його на диск, або для вказівки MIME-типу, який він повертає. Загалом - будь-яка корисна інформація, якій не місце всередині файлу.\n\n### Список параметрів\n\n`metadata`\n\nБудь-яка змінна PHP, що містить необхідну інформацію\n\n### Значення, що повертаються\n\nФункція не повертає значення після виконання.\n\n### Приклади\n\n**Приклад #1 Приклад використання** PharFileInfo::setMetadata()\\*\\*\\*\\*\n\n```php\n<?php\n// удалим, на всякий случай\n@unlink('brandnewphar.phar');\ntry {\n    $p = new Phar(dirname(__FILE__) . '/brandnewphar.phar', 0, 'brandnewphar.phar');\n    $p['file.txt'] = 'hello';\n    $p['file.txt']->setMetadata(array('user' => 'bill', 'mime-type' => 'text/plain'));\n    var_dump($p['file.txt']->getMetaData());\n} catch (Exception $e) {\n    echo 'Не удалось создать/изменить phar: ', $e;\n}\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\narray(2) {\n  [\"user\"]=>\n  string(4) \"bill\"\n  [\"mime-type\"]=>\n  string(10) \"text/plain\"\n}\n```\n\n### Дивіться також\n\n-   [PharFileInfo::hasMetadata()](pharfileinfo.hasmetadata.md) \\- Перевірити, чи є у файлу метадані\n-   [PharFileInfo::getMetadata()](pharfileinfo.getmetadata.md) \\- Отримати метадані, пов'язані з файлом\n-   [PharFileInfo::delMetadata()](pharfileinfo.delmetadata.md) \\- Видалити метадані файлу\n-   [Phar::setMetadata()](phar.setmetadata.md) \\- Встановити метадані phar-архіву\n-   [Phar::hasMetadata()](phar.hasmetadata.md) \\- Перевірити, чи містить phar-архів глобальні метадані\n-   [Phar::getMetadata()](phar.getmetadata.md) \\- Витягти метадані phar-архіву\n","title":"PharFileInfo::setMetadata","contentType":2,"navigation":[{"pharfileinfo.iscompressed.md":"« PharFileInfo::isCompressed"},{"class.pharexception.md":"PharException »"},{"index.md":"PHP Manual"},{"class.pharfileinfo.md":"PharFileInfo"}]}},"__N_SSG":true}