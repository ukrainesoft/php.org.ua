{"pageProps":{"page":{"slug":"function.yaml-parse.md","content":"# yaml\\_parse\n\n(PECL yaml >= 0.4.0)\n\nyaml\\_parse — Розбирає потік YAML\n\n### Опис\n\n```methodsynopsis\nyaml_parse(    string $input,    int $pos = 0,    int &$ndocs = ?,    array $callbacks = null): mixed\n```\n\nКонвертує весь потік YAML або його частину і записує змінну.\n\n### Список параметрів\n\n`input`\n\nРядок для парсингу як потік YAML.\n\n`pos`\n\nДокумент для розбору (`-1` для всіх документів, для первого документа, ...).\n\n`ndocs`\n\nЯкщо `ndocs` знайдено, тоді він буде замінений на кількість документів у потоці YAML.\n\n`callbacks`\n\nОбробники вмісту для вузлів YAML. Асоціативний масив (array), ключі якого є тегами YAML, а значення callback-функціями ([callable](language.types.callable.md)), які їх оброблятимуть. Докладніше цей механізм описаний у розділі [callback-функції розбору](yaml.callbacks.parse.md)\n\n### Значення, що повертаються\n\nПовертає значення, закодоване в `input`, у відповідному типі PHP або \\*\\*`false`\\*\\*в случае возникновения ошибки. Если параметр`pos`равен`-1`, буде повернено масив, що містить один запис для кожного документа, знайденого в потоці.\n\n### Приклади\n\n**Приклад #1 Приклад використання** yaml\\_parse()\\*\\*\\*\\*\n\n```php\n<?php\n$yaml = <<<EOD\n---\ninvoice: 34843\ndate: \"2001-01-23\"\nbill-to: &id001\n  given: Chris\n  family: Dumars\n  address:\n    lines: |-\n      458 Walkman Dr.\n              Suite #292\n    city: Royal Oak\n    state: MI\n    postal: 48046\n    site: zxibit.esy.es\nship-to: *id001\nproduct:\n- sku: BL394D\n  quantity: 4\n  description: Basketball\n  price: 450\n- sku: BL4438H\n  quantity: 1\n  description: Super Hoop\n  price: 2392\ntax: 251.420000\ntotal: 4443.520000\ncomments: Late afternoon is best. Backup contact is Nancy Billsmer @ 338-4338.\n...\nEOD;\n\n$parsed = yaml_parse($yaml);\nvar_dump($parsed);\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\narray(8) {\n  [\"invoice\"]=>\n  int(34843)\n  [\"date\"]=>\n  string(10) \"2001-01-23\"\n  [\"bill-to\"]=>\n  &array(3) {\n    [\"given\"]=>\n    string(5) \"Chris\"\n    [\"family\"]=>\n    string(6) \"Dumars\"\n    [\"address\"]=>\n    array(4) {\n      [\"lines\"]=>\n      string(34) \"458 Walkman Dr.\n        Suite #292\"\n      [\"city\"]=>\n      string(9) \"Royal Oak\"\n      [\"state\"]=>\n      string(2) \"MI\"\n      [\"postal\"]=>\n      int(48046)\n    }\n  }\n  [\"ship-to\"]=>\n  &array(3) {\n    [\"given\"]=>\n    string(5) \"Chris\"\n    [\"family\"]=>\n    string(6) \"Dumars\"\n    [\"address\"]=>\n    array(4) {\n      [\"lines\"]=>\n      string(34) \"458 Walkman Dr.\n        Suite #292\"\n      [\"city\"]=>\n      string(9) \"Royal Oak\"\n      [\"state\"]=>\n      string(2) \"MI\"\n      [\"postal\"]=>\n      int(48046)\n    }\n  }\n  [\"product\"]=>\n  array(2) {\n    [0]=>\n    array(4) {\n      [\"sku\"]=>\n      string(6) \"BL394D\"\n      [\"quantity\"]=>\n      int(4)\n      [\"description\"]=>\n      string(10) \"Basketball\"\n      [\"price\"]=>\n      int(450)\n    }\n    [1]=>\n    array(4) {\n      [\"sku\"]=>\n      string(7) \"BL4438H\"\n      [\"quantity\"]=>\n      int(1)\n      [\"description\"]=>\n      string(10) \"Super Hoop\"\n      [\"price\"]=>\n      int(2392)\n    }\n  }\n  [\"tax\"]=>\n  float(251.42)\n  [\"total\"]=>\n  float(4443.52)\n  [\"comments\"]=>\n  string(68) \"Late afternoon is best. Backup contact is Nancy Billsmer @ 338-4338.\"\n}\n```\n\n### Примітки\n\n**Увага**\n\nОбробляти неперевірене введення користувача, у разі коли для вузлів YAML, що використовують тег `!php/object`, разрешено использование функции[unserialize()](function.unserialize.md), Вкрай небезпечно. Цю поведінку можна вимкнути за допомогою ini-налаштування `yaml.decode_php`\n\n### Дивіться також\n\n-   [yaml\\_parse\\_file()](function.yaml-parse-file.md) \\- Розбирає YAML-потік із файлу\n-   [yaml\\_parse\\_url()](function.yaml-parse-url.md) \\- Розбирає YAML-потік із URL\n-   [yaml\\_emit()](function.yaml-emit.md) \\- Повертає YAML-подання значення\n","title":"yaml\\_parse","contentType":2,"navigation":[{"function.yaml-parse-url.md":"« yaml\\_parse\\_url"},{"book.yaf.md":"Yaf »"},{"index.md":"PHP Manual"},{"ref.yaml.md":"Функції Yaml"}]}},"__N_SSG":true}