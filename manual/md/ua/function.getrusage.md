- [«getopt](function.getopt.md)
- [ini_alter»] (function.ini-alter.md)

- [PHP Manual](index.md)
- [Опції PHP/інформаційні функції](ref.info.md)
- Отримує інформацію про використання поточного ресурсу

# getrusage

(PHP 4, PHP 5, PHP 7, PHP 8)

getrusage — Отримує інформацію про використання поточного ресурсу

### Опис

**getrusage**(int `$mode` u003d 0): array\|false

Це інтерфейс до **getrusage(2)**. Функція отримує дані, що повертаються
із системного виклику.

### Список параметрів

`mode`
Якщо аргумент `mode` дорівнює 1, getrusage буде викликано
**`RUSAGE_CHILDREN`**.

### Значення, що повертаються

Повертає асоціативний масив, що містить дані, повернуті з
системного дзвінка. Імена елементів відповідають документованим
імен полів. Повертає **`false`** у разі виникнення помилки.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- ----|
| 7.0.0 | Додана підтримка цієї функції у Windows. |

### Приклади

**Приклад #1 Приклад використання **getrusage()****

` <?php$dat u003d getrusage();echo $dat["ru_oublock"]; // кількість операцій висновку блокаecho $dat["ru_inblock"]; // кількість операцій прийому блокаecho $dat["ru_msgsnd"]; // кількість направлених повідомлень IPCecho $dat["ru_msgrcv"]; // кількість прийнятих повідомлень IPCecho $dat["ru_maxrss"]; // найбільший розмір встановленої резидентної пам'ятіecho $dat["ru_ixrss"]; // сумарне значення розміру розділеної пам'ятіecho $dat["ru_idrss"]; // сумарне значення розміру неподілених данихecho $dat["ru_minflt"]; // кількість виправлених сторінок (легка помилка сторінки)echo $dat["ru_majflt"]; // кількість помилкових сторінок (важка помилка сторінки)echo $dat["ru_nsignals"]; // кількість отриманих сигналівecho $dat["ru_nvcsw"]; // кількість узгоджених перемикань контекстуecho $dat["ru_nivcsw"]; // кількість неузгоджених перемикань контекстуecho $dat["ru_nswap"]; // кількість своповecho $dat["ru_utime.tv_usec"]; // час на завдання користувача (user time) (мікросекунди)echo $dat["ru_utime.tv_sec"]; // час на завдання користувача (user time) (секунди)echo $dat["ru_stime.tv_usec"]; // час на системні завдання (system time) (мікросекунди)?> `

### Примітки

> **Примітка**:
>
> У Windows **getrusage()** повертає лише таке:
>
> - ``ru_stime.tv_sec''
> - ``ru_stime.tv_usec''
> - ``ru_utime.tv_sec''
> - ``ru_utime.tv_usec''
> - ``ru_majflt'` (тільки якщо `mode` - **`RUSAGE_SELF`**)
> - ``ru_maxrss'` (тільки якщо `mode` - **`RUSAGE_SELF`**)
>
> Якщо **getrusage()** викликана з `mode` рівним `1`
> (**`RUSAGE_CHILDREN`**), то буде збиратися інформація щодо
> використання ресурсів потоками (що означає, що всередині функція
> викликатиметься з **`RUSAGE_THREAD`**).

> **Примітка**:
>
> У BeOS 2000 повертається тільки наступне:
>
> - ``ru_stime.tv_sec''
> - ``ru_stime.tv_usec''
> - ``ru_utime.tv_sec''
> - ``ru_utime.tv_usec''

### Дивіться також

- Сторінка системної документації **getrusage(2)**
