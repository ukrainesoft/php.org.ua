{"pageProps":{"page":{"slug":"function.mqseries-connx.md","content":"# mqseries\\_connx\n\n(PECL mqseries >= 0.10.0)\n\nmqseries\\_connx — MQSeries MQCONNX\n\n### Опис\n\n```methodsynopsis\nmqseries_connx(    string $qManagerName,    array &$connOptions,    resource &$hconn,    resource &$compCode,    resource &$reason): void\n```\n\nФункция**mqseries\\_connx()** (MQCONNX) відкриває з'єднання з менеджером черг. Вона повертає обробник з'єднання, який використовується всіма іншими функціями модуля.\n\nВиклик функції **mqseries\\_connx()** аналогічний виклику [mqseries\\_conn()](function.mqseries-conn.md) (MQCONN), за винятком того, що MQCONNX дозволяє встановити опції, що визначають режим роботи з менеджером.\n\n### Список параметрів\n\n`qManagerName`\n\nІм'я менеджера черг.\n\nІм'я менеджера черг, з яким встановлюється з'єднання.\n\n`connOps`\n\nОпції, що визначають роботу функцій\n\nДивіться структуру MQCNO.\n\n`hConn`\n\nОброблювач з'єднання.\n\nЄ відкрите з'єднання з менеджером черг.\n\n`compCode`\n\nКод завершення.\n\n`reason`\n\nКод причини, що кваліфікує compCode.\n\n### Значення, що повертаються\n\nФункція не повертає значення після виконання.\n\n### Приклади\n\n**Приклад #1 Приклад використання** mqseries\\_connx()\\*\\*\\*\\*\n\n```php\n<?php\n    $mqcno = array(\n        'Version' => MQSERIES_MQCNO_VERSION_2,\n        'Options' => MQSERIES_MQCNO_STANDARD_BINDING,\n        'MQCD' => array('ChannelName' => 'MQNX9420.CLIENT',\n        'ConnectionName' => 'localhost',\n        'TransportType' => MQSERIES_MQXPT_TCP)\n    );\n\n    mqseries_connx('MQNX9420', $mqcno, $conn, $comp_code,$reason);\n    if ($comp_code !== MQSERIES_MQCC_OK) {\n        printf(\"Connx CompCode:%d Reason:%d Text:%s<br>\\n\", $comp_code, $reason, mqseries_strerror($reason));\n        exit;\n    }\n\n?>\n```\n\n**Приклад #2 Приклад використання** mqseries\\_connx()\\*\\* з використанням SSL та URL відповідача OCSP\\*\\*\n\n```php\n<?php\n    $mqcno = array(\n        'Version' => 4, //MQCNO_VERSION_4\n        'Options' => MQSERIES_MQCNO_STANDARD_BINDING,\n        'MQCD' => array(\n            'Version' => 7, //MQCD_VERSION_7\n            'ConnectionName' => 'localhost',\n            'TransportType' => MQSERIES_MQXPT_TCP,\n            'ChannelName' => 'CONNECTIONCHANNEL',\n            'SSLCipherSpec' => 'NULL_SHA'\n        ),\n        'MQSCO' => array(\n            'KeyRepository' => '/var/mqm/qmgrs/QUEUEMGR/ssl/key', //Local path where the SSL key repository can be found\n            'MQAIR' => array(\n                'Version' => 2, //MQAIR_VERSION_2\n                'AuthInfoType' => 2, //MQAIT_OCSP\n                'OCSPResponderURL' => 'http://dummy.OCSP.responder'\n            )\n        )\n    );\n\n    mqseries_connx('QUEUEMGR', $mqcno, $conn, $comp_code,$reason);\n    if ($comp_code !== MQSERIES_MQCC_OK) {\n        printf(\"Connx CompCode:%d Reason:%d Text:%s<br>\\n\", $comp_code, $reason, mqseries_strerror($reason));\n        exit;\n    }\n\n?>\n```\n\n### Дивіться також\n\n-   [mqseries\\_disc()](function.mqseries-disc.md) \\- MQSeries MQDISC\n","title":"mqseries\\_connx","contentType":2,"navigation":[{"function.mqseries-conn.md":"« mqseries\\_conn"},{"function.mqseries-disc.md":"mqseries\\_disc »"},{"index.md":"PHP Manual"},{"ref.mqseries.md":"Функції mqseries"}]}},"__N_SSG":true}