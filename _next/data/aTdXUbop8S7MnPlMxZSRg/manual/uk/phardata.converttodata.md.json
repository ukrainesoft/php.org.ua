{"pageProps":{"page":{"slug":"phardata.converttodata.md","content":"# PharData::convertToData\n\n(PHP 5 >= 5.3.0, PHP 7, PHP 8, PECL phar >= 2.0.0)\n\nPharData::convertToData — Конвертація phar-архіву в tar/zip-архів, що не запускається.\n\n### Опис\n\n```methodsynopsis\npublic PharData::convertToData(?int $format = null, ?int $compression = null, ?string $extension = null): ?PharData\n```\n\nЦей метод використовується для перетворення tar/zip-архіву, що не запускається, в інший формат, що не запускається.\n\nЯкщо не вказано жодних змін, то буде викинуто виняток [BadMethodCallException](class.badmethodcallexception.md). Цей метод можна використовувати для перетворення tar-архіву на zip-архів і навпаки. Незважаючи на те, що можна змінити стиск для tar-архіву за допомогою цього методу, для цих цілей краще використовувати метод [PharData::compress()](phardata.compress.md)\n\nУ разі успішного виконання буде створено новий архів на диску та повернуто об'єкт [PharData](class.phardata.md). Старий архів не видалятиметься.\n\n### Список параметрів\n\n`format`\n\nОдна из констант:`Phar::TAR`или`Phar::ZIP`. Якщо поставити як **`null`**, то буде використано поточний формат.\n\n`compression`\n\nОдна из констант:`Phar::NONE` (Для відключення стиснення всього архіву), `Phar::GZ`(для zlib-сжатия),`Phar::BZ2`(для bzip-сжатия).\n\n`extension`\n\nЦей параметр використовується для явної вказівки на розширення нового архіву. Зверніть увагу, що для архівів, що не запускаються, в жодному разі не можна допускати появу підрядка. `.phar`в любом месте имени файла.\n\nПо умолчанию для tar-архивов используются расширения:`.tar` `.tar.gz`и`.tar.bz2`. Для zip-архівів: `.zip`\n\n### Значення, що повертаються\n\nМетод повертає об'єкт [PharData](class.phardata.md)или\\*\\*`null`\\*\\*в случае возникновения ошибки.\n\n### Помилки\n\nМетод викидає виняток [BadMethodCallException](class.badmethodcallexception.md) коли не може зробити стискування, коли заданий невідомий метод стиснення, для архіву включена буферизація за допомогою [Phar::startBuffering()](phar.startbuffering.md), та не відключена за допомогою [Phar::stopBuffering()](phar.stopbuffering.md)Исключение[PharException](class.pharexception.md) викидається за будь-яких проблем створення phar-архіву.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.0.0 | `format` `compression`и`extension` тепер допускають значення null. |\n\n### Приклади\n\n**Приклад #1 Приклад використання** PharData::convertToData()\\*\\*\\*\\*\n\nВикористання PharData::convertToData():\n\n```php\n<?php\ntry {\n    $tarphar = new PharData('myphar.tar');\n    // обратите внимание, что myphar.tar *не* удаляется\n    // создаём myphar.zip\n    $zip = $tarphar->convertToData(Phar::ZIP);\n    // создаём myphar.tbz\n    $tgz = $zip->convertToData(Phar::TAR, Phar::BZ2, '.tbz');\n    // создаём myphar.phar.tgz\n    $phar = $tarphar->convertToData(Phar::PHAR); // выбрасывает исключение\n} catch (Exception $e) {\n    // обработка ошибок\n}\n?>\n```\n\n### Дивіться також\n\n-   [Phar::convertToExecutable()](phar.converttoexecutable.md) \\- Конвертує phar-архів в інший формат файлу, що виконується.\n-   [Phar::convertToData()](phar.converttodata.md) \\- Конвертує phar-архів в tar-або zip-файл, що не виконується.\n-   [PharData::convertToExecutable()](phardata.converttoexecutable.md) \\- Конвертація tar/zip-архіву з даними в phar-архів, що запускається\n","title":"PharData::convertToData","contentType":2,"navigation":[{"phardata.construct.md":"« PharData::\\_\\_construct"},{"phardata.converttoexecutable.md":"PharData::convertToExecutable »"},{"index.md":"PHP Manual"},{"class.phardata.md":"PharData"}]}},"__N_SSG":true}