{"pageProps":{"page":{"slug":"function.db2-conn-errormsg.md","content":"# db2\\_conn\\_errormsg\n\n(PECL ibm\\_db2 >= 1.0.0)\n\ndb2\\_conn\\_errormsg — Повертає останнє повідомлення про помилку підключення та значення SQLCODE\n\n### Опис\n\n```methodsynopsis\ndb2_conn_errormsg(?resource $connection = null): string\n```\n\nПовертає повідомлення про помилку та значення SQLCODE, що є причиною, через яку остання спроба підключення до бази даних завершилася невдачею. Оскільки [db2\\_connect()](function.db2-connect.md) повертає **`false`** у разі невдалої спроби підключення, не потрібно передавати жодних параметрів у **db2\\_conn\\_errormsg()** для отримання відповідного повідомлення про помилку та значення SQLCODE.\n\nОднак, якщо з'єднання було успішним, але згодом стало недійсним, можна передати параметр `connection`, щоб отримати відповідне повідомлення про помилку та значення SQLCODE для конкретного з'єднання.\n\n### Список параметрів\n\n`connection`\n\nРесурс підключення, пов'язаний із підключенням, яке спочатку було успішним, але згодом стало недійсним.\n\n### Значення, що повертаються\n\nПовертає рядок, що містить повідомлення про помилку та значення SQLCODE, отримане внаслідок невдалої спроби підключення. Якщо при останній спробі помилок не виникло, **db2\\_conn\\_errormsg()** повертає порожній рядок.\n\n### Приклади\n\n**Приклад #1 Отримання повідомлення про помилку, повернутий у разі невдалої спроби підключення**\n\nУ цьому прикладі показано, як повернути повідомлення про помилку та значення SQLCODE після навмисної передачі неприпустимих параметрів [db2\\_connect()](function.db2-connect.md)\n\n```php\n<?php\n$conn = db2_connect('badname', 'baduser', 'badpassword');\nif (!$conn) {\n    print db2_conn_errormsg();\n}\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\n[IBM][CLI Driver] SQL1013N  The database alias name\nor database name \"BADNAME\" could not be found.  SQLSTATE=42705\n SQLCODE=-1013\n```\n\n### Дивіться також\n\n-   [db2\\_conn\\_error()](function.db2-conn-error.md) \\- Повертає рядок, що містить значення SQLSTATE, повернене останньою спробою підключення\n-   [db2\\_connect()](function.db2-connect.md) \\- Повертає з'єднання з базою даних\n-   [db2\\_stmt\\_error()](function.db2-stmt-error.md) \\- Повертає рядок, що містить SQLSTATE, повернутий SQL-оператором\n-   [db2\\_stmt\\_errormsg()](function.db2-stmt-errormsg.md) \\- Повертає рядок, що містить останнє повідомлення про помилку SQL-виразу\n","title":"db2\\_conn\\_errormsg","contentType":2,"navigation":[{"function.db2-conn-error.md":"« db2\\_conn\\_error"},{"function.db2-connect.md":"db2\\_connect »"},{"index.md":"PHP Manual"},{"ref.ibm-db2.md":"Функції IBM DB2"}]}},"__N_SSG":true}