{"pageProps":{"page":{"slug":"zmqcontext.getsocket.md","content":"# ZMQContext::getSocket\n\n(PECL zmq >= 0.5.0)\n\nZMQContext::getSocket — Створює новий сокет\n\n### Опис\n\n```methodsynopsis\npublic ZMQContext::getSocket(int $type, string $persistent_id = null, callable $on_new_socket = null): ZMQSocket\n```\n\nМетод створення сокету з контексту. Якщо контекст не є постійним, то параметр `persistent_id` буде проігноровано та сокет буде непостійним. Функція, задана в `on_new_socket` буде викликана тільки якщо буде створено нову структуру сокету, що лежить в основі.\n\n### Список параметрів\n\n`type`\n\nКонстанта\\*\\*`ZMQ::SOCKET_*`\\*\\*задає тип сокету.\n\n`persistent_id`\n\nЕсли задан параметр`persistent_id`, то сокет зберігатиметься між запитами.\n\n`on_new_socket`\n\nCallback-функція, яка буде викликана під час створення нової структури сокету. Функція не буде викликана, якщо використовується постійний контекст. Функція приймає як аргументи ZMQSocket і persistent\\_id.\n\n### Значення, що повертаються\n\nПовертає об'єкт [ZMQSocket](class.zmqsocket.md)\n\n### Помилки\n\nВикидає **ZMQSocketException**в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Приклад використання** ZMQContext()\\*\\*\\*\\*\n\nОснови\n\n```php\n<?php\n/* Создаём новый контекст */\n$context = new ZMQContext();\n\n/* Создаём новый сокет */\n$socket = $context->getSocket(ZMQ::SOCKET_REQ, 'my sock');\n\n/* Соединяемся с сокетом */\n$socket->connect(\"tcp://example.com:1234\");\n\n/* Посылаем запрос */\n$socket->send(\"Hello there\");\n\n/* Получаем ответ */\n$message = $socket->recv();\necho \"Received message: {$message}\\n\";\n?>\n```\n","title":"ZMQContext::getSocket","contentType":2,"navigation":[{"zmqcontext.getopt.md":"« ZMQContext::getOpt"},{"zmqcontext.ispersistent.md":"ZMQContext::isPersistent »"},{"index.md":"PHP Manual"},{"class.zmqcontext.md":"ZMQContext"}]}},"__N_SSG":true}