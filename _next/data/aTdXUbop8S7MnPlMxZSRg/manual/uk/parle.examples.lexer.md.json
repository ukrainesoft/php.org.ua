{"pageProps":{"page":{"slug":"parle.examples.lexer.md","content":"## Приклади використання лексера\n\n**Приклад #1 Токенізація списку цілих чисел через кому**\n\n```php\n<?php\n\nuse Parle\\Token;\nuse Parle\\Lexer;\nuse Parle\\LexerException;\n\n/* name => id */\n$token = array(\n        \"COMMA\" => 1,\n        \"CRLF\" => 2,\n        \"DECIMAL\" => 3,\n);\n/* id => name */\n$tokenIdToName = array_flip($token);\n\n$lex = new Lexer;\n$lex->push(\"[\\x2c]\", $token[\"COMMA\"]);\n$lex->push(\"[\\r][\\n]\", $token[\"CRLF\"]);\n$lex->push(\"[\\d]+\", $token[\"DECIMAL\"]);\n$lex->build();\n\n$in = \"0,1,2\\r\\n3,42,5\\r\\n6,77,8\\r\\n\";\n\n$lex->consume($in);\n\ndo {\n        $lex->advance();\n        $tok = $lex->getToken();\n\n        if (Token::UNKNOWN == $tok->id) {\n                throw new LexerException(\"Неизвестный токен '{$tok->value}' по смещению {$lex->marker}.\");\n        }\n\n        echo \"ТОКЕН: \", $tokenIdToName[$tok->id], PHP_EOL;\n} while (Token::EOI != $tok->id);\n```\n\n**Приклад #2 Токенізувати оператор присвоєння**\n\n```php\n<?php\n\nuse Parle\\{Token, Lexer};\n\n$lex = new Lexer;\n\n$lex->push(\"\\$[a-zA-Z_][a-zA-Z0-9_]*\", 1);\n$lex->push(\"=\", 2);\n$lex->push(\"\\d+\", 3);\n$lex->push(\";\", 4);\n\n$lex->build();\n\n$lex->consume('$x = 42; $y = 24;');\n\n\ndo {\n    $lex->advance();\n    $tok = $lex->getToken();\n    var_dump($tok);\n} while (Token::EOI != $tok->id);\n```\n","title":"Приклади використання лексера","contentType":2,"navigation":[{"parle.examples.md":"« Приклади"},{"parle.examples.parser.md":"Приклад використання парсера »"},{"index.md":"PHP Manual"},{"parle.examples.md":"Приклади"}]}},"__N_SSG":true}