{"pageProps":{"page":{"slug":"function.ibase-set-event-handler.md","content":"# ibase\\_set\\_event\\_handler\n\n(PHP 5, PHP 7 < 7.4.0)\n\nibase\\_set\\_event\\_handler — Реєструє callback-функцію, яка буде викликатись при публікації подій\n\n### Опис\n\n```methodsynopsis\nibase_set_event_handler(callable $event_handler, string $event_name, string ...$even_names): resource\n```\n\n```methodsynopsis\nibase_set_event_handler(    resource $connection,    callable $event_handler,    string $event_name,    string ...$event_names): resource\n```\n\nФункція реєструє функцію PHP в якості обробника подій для зазначених подій.\n\n### Список параметрів\n\n`event_handler`\n\nCallback-функція викликається з ім'ям події та ресурсом посилання як аргументи кожного разу, коли одна із зазначених подій публікується базою даних.\n\nCallback-функція має повертати **`false`**, якщо обробник події має бути скасовано. Будь-яке інше значення, що повертається, ігнорується. Функція ухвалює до 15 аргументів події.\n\n`event_name`\n\nНайменування події.\n\n`event_names`\n\nДозволено максимум 15 подій.\n\n### Значення, що повертаються\n\nЗначення, що повертається, є ресурсом події. Цей ресурс можна використовувати для звільнення обробника подій за допомогою [ibase\\_free\\_event\\_handler()](function.ibase-free-event-handler.md)\n\n### Приклади\n\n**Приклад #1 Приклад використання** ibase\\_set\\_event\\_handler()\\*\\*\\*\\*\n\n```php\n<?php\n\nfunction event_handler($event_name, $link)\n{\n    if ($event_name == \"NEW ORDER\") {\n        // обрабатываем новый заказ\n        ibase_query($link, \"UPDATE orders SET status='handled'\");\n    } else if ($event_name == \"DB_SHUTDOWN\") {\n        // отменяем обработчик событий\n        return false;\n    }\n}\n\nibase_set_event_handler($link, \"event_handler\", \"NEW_ORDER\", \"DB_SHUTDOWN\");\n?>\n```\n\n### Дивіться також\n\n-   [ibase\\_free\\_event\\_handler()](function.ibase-free-event-handler.md) \\- скасовує зареєстрований обробник події\n-   [ibase\\_wait\\_event()](function.ibase-wait-event.md) \\- Чекаємо, поки подія буде опублікована в базі даних\n","title":"ibase\\_set\\_event\\_handler","contentType":2,"navigation":[{"function.ibase-service-detach.md":"« ibase\\_service\\_detach"},{"function.ibase-trans.md":"ibase\\_trans »"},{"index.md":"PHP Manual"},{"ref.ibase.md":"Функції Firebird/InterBase"}]}},"__N_SSG":true}