{"pageProps":{"page":{"slug":"function.gc-status.md","content":"# gc\\_status\n\n(PHP 7 >= 7.3.0, PHP 8)\n\ngc\\_status — Повертає інформацію про поточний статус збирача сміття.\n\n### Опис\n\n```methodsynopsis\ngc_status(): array\n```\n\nПовертає інформацію про поточний статус збирача сміття.\n\n### Список параметрів\n\nЦя функція не має параметрів.\n\n### Значення, що повертаються\n\nПовертає асоціативний масив із такими елементами:\n\n-   `\"runs\"`\n-   `\"collected\"`\n-   `\"threshold\"`\n-   `\"roots\"`\n-   `\"running\"`\n-   `\"protected\"`\n-   `\"full\"`\n-   `\"buffer_size\"`\n-   `\"application_time\"`\n-   `\"collector_time\"`\n-   `\"destructor_time\"`\n-   `\"free_time\"`\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.3.0 | Теперь функция**gc\\_status()** повертає такі додаткові поля: `\"running\"` `\"protected\"` `\"full\"` `\"buffer_size\"` `\"application_time\"` `\"collector_time\"` `\"destructor_time\"`и`\"free_time\"` |\n\n### Приклади\n\n**Приклад #1 Использование**gc\\_status()\\*\\*\\*\\*\n\n```php\n<?php\n\n// создадим дерево объектов, для которых понадобится собирать мусор\n$a = new stdClass();\n$a->b = [];\nfor ($i = 0; $i < 100000; $i++) {\n    $b = new stdClass();\n    $b->a = $a;\n    $a->b[] = $b;\n}\nunset($a);\nunset($b);\ngc_collect_cycles();\n\nvar_dump(gc_status());\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\narray(4) {\n  [\"runs\"]=>\n  int(5)\n  [\"collected\"]=>\n  int(100002)\n  [\"threshold\"]=>\n  int(50001)\n  [\"roots\"]=>\n  int(0)\n}\n```\n\nРезультат виконання наведеного прикладу PHP 8.3 аналогічний:\n\n```\narray(12) {\n  [\"running\"]=>\n  bool(false)\n  [\"protected\"]=>\n  bool(false)\n  [\"full\"]=>\n  bool(false)\n  [\"runs\"]=>\n  int(5)\n  [\"collected\"]=>\n  int(100002)\n  [\"threshold\"]=>\n  int(50001)\n  [\"buffer_size\"]=>\n  int(131072)\n  [\"roots\"]=>\n  int(0)\n  [\"application_time\"]=>\n  float(0.031182458)\n  [\"collector_time\"]=>\n  float(0.020106291)\n  [\"destructor_time\"]=>\n  float(0)\n  [\"free_time\"]=>\n  float(0.003707167)\n}\n```\n\n### Дивіться також\n\n-   [Збір сміття](features.gc.md)\n","title":"gc\\_status","contentType":2,"navigation":[{"function.gc-mem-caches.md":"« gc\\_mem\\_caches"},{"function.get-cfg-var.md":"get\\_cfg\\_var »"},{"index.md":"PHP Manual"},{"ref.info.md":"Опції PHP/інформаційні функції"}]}},"__N_SSG":true}