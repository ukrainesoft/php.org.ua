{"pageProps":{"page":{"slug":"function.fgetcsv.md","content":"# fgetcsv\n\n(PHP 4, PHP 5, PHP 7, PHP 8)\n\nfgetcsv — Читає рядок із файлу та проводить розбір даних CSV\n\n### Опис\n\n```methodsynopsis\nfgetcsv(    resource $stream,    ?int $length = null,    string $separator = \",\",    string $enclosure = \"\\\"\",    string $escape = \"\\\\\"): array|false\n```\n\nДанная функция похожа на функцию[fgets()](function.fgets.md), з тією різницею, що вона здійснює аналіз рядка на наявність записів у форматі CSV і повертає знайдені поля як масив.\n\n> **Зауваження** :\n> \n> Ця функція враховує налаштування локалі. Наприклад, якщо `LANG`установлена в`en_US.UTF-8`, то файли в однобайтовому кодуванні будуть неправильно прочитані цією функцією.\n\n### Список параметрів\n\n`stream`\n\nКоректний файловий покажчик на файл, успішно відкритий за допомогою [fopen()](function.fopen.md) [popen()](function.popen.md) або [fsockopen()](function.fsockopen.md)\n\n`length`\n\nПовинний бути більшим за найдовший рядок (у символах), знайдений у CSV-файлі (включаючи завершальний символ кінця рядка). В іншому випадку, рядок буде розбитий на шматки довжиною в `length` символів, якщо місце розриву нічого очікувати всередині обмежувачів полів (enclosure).\n\nВідсутність цього параметра (або встановлення його в 0 або \\*\\*`null`\\*\\*починаючи з PHP 8.0.0) призведе до того, що довжина рядка буде не обмежена. Це може зашкодити швидкості виконання.\n\n`separator`\n\nНеобов'язковий параметр `separator` встановлює роздільник поля (лише один однобайтовий символ).\n\n`enclosure`\n\nНеобов'язковий параметр `enclosure` встановлює символ обмежувача поля (лише один однобайтовий символ).\n\n`escape`\n\nНеобов'язковий параметр `escape` встановлює екрануючий символ (не більше одного однобайтового символу). Порожня стрічка (`\"\"`) відключає пропрієтарний механізм екранування.\n\n> **Зауваження**: Зазвичай символ `enclosure` екранується всередині поля шляхом його подвоювання; однак, символ `escape` як альтернатива. Тому значення за промовчанням цих параметрів `\"\"`и`\\\"` мають однакове значення. Крім дозволу екранувати символ `enclosure`символ`escape` немає особливого сенсу; він навіть не призначений для самого екранування.\n\n### Значення, що повертаються\n\nПовертає індексований масив із прочитаними полями у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n> **Зауваження** :\n> \n> Порожній рядок CSV-файлу буде повернуто як масив, що містить єдиний елемент null, помилки в даному випадку не виникне.\n\n> **Зауваження**: Якщо виникають проблеми з розпізнаванням PHP кінців рядків під час читання або створення файлів на Macintosh-сумісному комп'ютері, увімкнення опції [auto\\_detect\\_line\\_endings](filesystem.configuration.md#ini.auto-detect-line-endings)может помочь решить проблему.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.0.0 | Параметр`length` тепер припускає значення **`null`** |\n| 7.4.0 | Тепер параметр `escape` може приймати порожній рядок для вимкнення пропрієтарного механізму екранування. |\n\n### Приклади\n\n**Приклад #1 Читання та виведення на екран вмісту файлу CSV**\n\n```php\n<?php\n$row = 1;\nif (($handle = fopen(\"test.csv\", \"r\")) !== FALSE) {\n    while (($data = fgetcsv($handle, 1000, \",\")) !== FALSE) {\n        $num = count($data);\n        echo \"<p> $num полей в строке $row: <br /></p>\\n\";\n        $row++;\n        for ($c=0; $c < $num; $c++) {\n            echo $data[$c] . \"<br />\\n\";\n        }\n    }\n    fclose($handle);\n}\n?>\n```\n\n### Дивіться також\n\n-   [str\\_getcsv()](function.str-getcsv.md) \\- Розбирає CSV-рядки в масив\n-   [explode()](function.explode.md) \\- Розбиває рядок за допомогою роздільника\n-   [file()](function.file.md) \\- Читає вміст файлу та поміщає його в масив\n-   [pack()](function.pack.md) \\- Упакувати дані у бінарний рядок\n-   [fputcsv()](function.fputcsv.md) \\- Форматує рядок у вигляді CSV і записує його у файловий покажчик\n","title":"fgetcsv","contentType":2,"navigation":[{"function.fgetc.md":"« fgetc"},{"function.fgets.md":"fgets »"},{"index.md":"PHP Manual"},{"ref.filesystem.md":"Функції файлової системи"}]}},"__N_SSG":true}