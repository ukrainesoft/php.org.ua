{"pageProps":{"page":{"slug":"function.escapeshellcmd.md","content":"# escapeshellcmd\n\n(PHP 4, PHP 5, PHP 7, PHP 8)\n\nescapeshellcmd — Екранувати метасимволи командного рядка\n\n### Опис\n\n```methodsynopsis\nescapeshellcmd(string $command): string\n```\n\nКоманда**escapeshellcmd()** екранує будь-які символи у рядку, які можуть бути використані для обману команди оболонки під час виконання довільних команд. Ця функція повинна бути використана, щоб переконатися, що будь-які дані, що вводяться користувачем, будуть екрановані перед передачею їх функцій [exec()](function.exec.md) або [system()](function.system.md) або оператору [\"зворотний апостроф\"](language.operators.execution.md)\n\nНаступні символи будуть екрановані за допомогою зворотного слішу: ``&#;`|*?~<>^()[]{}$\\`` `\\x0A`и`\\xFF`. Символи `'`и`\"` екрануються тільки в тому випадку, якщо вони не попарно зустрічаються. У Windows все цим символам, плюс `!`и`%`предшествует символ каретки (`^`\n\n### Список параметрів\n\n`command`\n\nКоманда, яка буде екранована.\n\n### Значення, що повертаються\n\nЕкранований рядок.\n\n### Приклади\n\n**Приклад #1 Приклад використання** escapeshellcmd()\\*\\*\\*\\*\n\n```php\n<?php\n// Мы намеренно допускаем здесь произвольное количество аргументов.\n$command = './configure '.$_POST['configure_options'];\n\n$escaped_command = escapeshellcmd($command);\n\nsystem($escaped_command);\n?>\n```\n\n**Увага**\n\nФункцию**escapeshellcmd()** слід використовувати над усім командним рядком, але вона все ще дозволяє атакуючому передати довільну кількість аргументів. Для екранування одного аргументу натомість необхідно використовувати функцію [escapeshellarg()](function.escapeshellarg.md)\n\n**Увага**\n\nПрогалини не будуть екрановані за допомогою **escapeshellcmd()**, що може бути проблематичним у Windows з такими шляхами, як: `C:\\Program Files\\ProgramName\\program.exe`Можно уменьшить проблему, используя следующий фрагмент кода:\n\n```php\n<?php\n$cmd = preg_replace('`(?<!^) `', '^ ', escapeshellcmd($cmd));\n```\n\n### Дивіться також\n\n-   [escapeshellarg()](function.escapeshellarg.md) \\- Екранувати рядок для того, щоб він міг бути використаний як аргумент командного рядка\n-   [exec()](function.exec.md) \\- Виконати зовнішню програму\n-   [popen()](function.popen.md) \\- Відкриває файловий покажчик процесу\n-   [system()](function.system.md) \\- Виконати зовнішню програму та відобразити висновок\n-   [Оператор виконання](language.operators.execution.md)\n","title":"escapeshellcmd","contentType":2,"navigation":[{"function.escapeshellarg.md":"« escapeshellarg"},{"function.exec.md":"exec »"},{"index.md":"PHP Manual"},{"ref.exec.md":"Функції запуску програм"}]}},"__N_SSG":true}