{"pageProps":{"page":{"slug":"evperiodic.construct.md","content":"# EvPeriodic::\\_\\_construct\n\n(PECL ev >= 0.2.0)\n\nEvPeriodic::\\_\\_construct - Конструктор об'єкта спостерігача EvPeriodic\n\n### Опис\n\npublic **EvPeriodic::\\_\\_construct**  \nfloat`$offset`  \nstring`$interval`  \n[callable](language.types.callable.md) `$reschedule_cb`  \n[callable](language.types.callable.md) `$callback`  \n[mixed](language.types.declarations.md#language.types.declarations.mixed) `$data` = **`null`**  \nint`$priority` =  \n) .\n\nСтворює об'єкт спостерігача EvPeriodic та запускає його автоматично. Метод [EvPeriodic::createStopped()](evperiodic.createstopped.md) створює зупинений періодичний спостерігач.\n\n### Список параметрів\n\n`offset`\n\nСмотрите[Періодичні режими роботи спостерігача](ev.periodic-modes.md)\n\n`interval`\n\nСмотрите[Періодичні режими роботи спостерігача](ev.periodic-modes.md)\n\n`reschedule_cb`\n\nПерепризначити callback-функцію. Ви можете передати \\*\\*`null`\\*\\*Смотрите[Періодичні режими роботи спостерігача](ev.periodic-modes.md)\n\n`callback`\n\nСмотрите[Спостерігачі callback-функції](ev.watcher-callbacks.md)\n\n`data`\n\nЦі дані, пов'язані зі спостерігачем.\n\n`priority`\n\n[Пріоритет спостерігача](class.ev.md#ev.constants.watcher-pri)\n\n### Приклади\n\n**Періодичний таймер. Використовуйте перепризначення callback-функції**\n\n```php\n<?php\n// отмечает каждые 10.5 секунд\n\nfunction reschedule_cb ($watcher, $now) {\n return $now + (10.5. - fmod($now, 10.5));\n}\n\n$w = new EvPeriodic(0., 0., \"reschedule_cb\", function ($w, $revents) {\n echo time(), PHP_EOL;\n});\nEv::run();\n?>\n```\n\n**Приклад #2 Періодичний таймер. Відзначає кожні 10,5 секунд, починаючи з поточного моменту**\n\n```php\n<?php\n// Отмечает каждые 10.5 секунд, начиная с текущего момента\n$w = new EvPeriodic(fmod(Ev::now(), 10.5), 10.5, NULL, function ($w, $revents) {\n echo time(), PHP_EOL;\n});\nEv::run();\n?>\n```\n\n**Приклад #3 Часовий спостерігач**\n\n```php\n<?php\n$hourly = EvPeriodic(0, 3600, NULL, function () {\n echo \"раз в час\\n\";\n});\n?>\n```\n\n### Дивіться також\n\n-   [Періодичні режими роботи спостерігача](ev.periodic-modes.md)\n-   [EvTimer](class.evtimer.md)\n-   [EvPeriodic::createStopped()](evperiodic.createstopped.md) \\- Створює зупинений спостерігач EvPeriodic\n","title":"EvPeriodic::\\_\\_construct","contentType":2,"navigation":[{"evperiodic.at.md":"« EvPeriodic::at"},{"evperiodic.createstopped.md":"EvPeriodic::createStopped »"},{"index.md":"PHP Manual"},{"class.evperiodic.md":"EvPeriodic"}]}},"__N_SSG":true}