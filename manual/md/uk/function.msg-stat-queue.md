- [«msg_set_queue](function.msg-set-queue.md)
- [sem_acquire »](function.sem-acquire.md)

- [PHP Manual](index.md)
- [Функції семафорів](ref.sem.md)
- Отримання інформації із структури даних черги повідомлень

# msg_stat_queue

(PHP 4 \>u003d 4.3.0, PHP 5, PHP 7, PHP 8)

msg_stat_queue — Отримання інформації із структури даних черги
повідомлень

### Опис

**msg_stat_queue**([SysvMessageQueue](class.sysvmessagequeue.md)
`$queue`): array\|false

**msg_stat_queue()** повертає мета-дані черги повідомлень,
задається `queue`. Це корисно, наприклад, для визначення
процесу-відправника отриманого вами повідомлення.

### Список параметрів

`queue`
Черга повідомлень.

### Значення, що повертаються

У разі успішного виконання повертається значення є
масив, ключі та значення якого означають таке:

| | |
|-----------------|------------------------------- -------------------------------------------------- -------------------------------------------------- ------------------|
| `msg_perm.uid` | uid власника черги |
| `msg_perm.gid` | gid власник черги. |
| `msg_perm.mode` | Режим доступу до черги. |
| `msg_stime` | Час останнього надсилання повідомлення в чергу. |
| `msg_rtime` | Час останнього отримання повідомлення із черги. |
| `msg_ctime` | Час останньої зміни черги. |
| `msg_qnum` | Кількість повідомлень у черзі. |
| `msg_qbytes` | Максимальна кількість байт допустима в одній черзі повідомлень. У Linux це значення можна отримати та змінити через `/proc/sys/kernel/msgmnb`. |
| `msg_lspid` | pid процесу, що останнім відправив повідомлення в чергу. |
| `msg_lrpid` | pid процесу, що останнім отримав повідомлення з черги. |

**Структура масиву для msg_stat_queue**

Повертає **`false`** у разі виникнення помилки.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- ------------------------------------|
| 8.0.0 | Параметр `queue` тепер очікує на екземпляр [SysvMessageQueue](class.sysvmessagequeue.md); раніше очікували ресурс (resource). |

### Дивіться також

- [msg_remove_queue()](function.msg-remove-queue.md) - Видалення
черги повідомлень
- [msg_receive()](function.msg-receive.md) - Отримання повідомлення з
черги повідомлень
- [msg_get_queue()](function.msg-get-queue.md) - Створення або
підключення до черги повідомлень
- [msg_set_queue()](function.msg-set-queue.md) - Встановлення
інформації у структурі даних черги повідомлень
