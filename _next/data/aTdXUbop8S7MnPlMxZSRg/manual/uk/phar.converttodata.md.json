{"pageProps":{"page":{"slug":"phar.converttodata.md","content":"# Phar::convertToData\n\n(PHP 5 >= 5.3.0, PHP 7, PHP 8, PECL phar >= 2.0.0)\n\nPhar::convertToData — Конвертує phar-архів у tar-або zip-файл, що не виконується.\n\n### Опис\n\n```methodsynopsis\npublic Phar::convertToData(?int $format = null, ?int $compression = null, ?string $extension = null): ?PharData\n```\n\nЦей метод використовується для конвертування phar-архів у tar- або zip-файл. Щоб створити зробити tar або zip нездійсненним, з створюваного в результаті конвертації архіву видаляються завантаження та псевдонім phar-архіву.\n\nЯкщо не було вказано жодних змін, то даний метод викине виняток [BadMethodCallException](class.badmethodcallexception.md)якщо формат файлу архіву є phar. У разі використання з архівами у форматі tar або zip, цей метод конвертує архів у архів, що не виконується.\n\nУ разі успішного виконання цей метод створює на диску новий архів та повертає об'єкт [PharData](class.phardata.md). Старий архів не видаляється з диска, це має бути зроблено вручну після завершення процесу.\n\n### Список параметрів\n\n`format`\n\nЗначенням цього параметра має бути одна з констант: `Phar::TAR`или`Phar::ZIP`Если значение установлено в\\*\\*`null`\\*\\*, то існуючий формат файлу буде збережено.\n\n`compression`\n\nЗначенням цього параметра має бути одна з констант: `Phar::NONE` для відсутності стиску всього архіву, `Phar::GZ`для сжатия, основанного на zlib, или`Phar::BZ2`для bzip-сжатия.\n\n`extension`\n\nЦей параметр використовується для перевизначення розширення файлу за промовчанням для конвертованого архіву. Зверніть увагу, що `.phar` не може бути використано будь-де в імені файлу невиконуваного tar- або zip-архіву.\n\nУ разі конвертації phar-архіву, заснованого на tar, розширеннями за умовчанням є: `.tar` `.tar.gz`и`.tar.bz2`, Залежно від зазначеного стиснення. Для архівів, що базуються на zip, розширенням за умовчанням є `.zip`\n\n### Значення, що повертаються\n\nЦей метод повертає об'єкт [PharData](class.phardata.md) у разі успішного виконання та \\*\\*`null`\\*\\*в случае возникновения ошибки.\n\n### Помилки\n\nЦей метод викидає виняток [BadMethodCallException](class.badmethodcallexception.md) у таких випадках: при неможливості стиснення; якщо було передано невідомий алгоритм стиснення; у запитаному архіві було включено буферизацію за допомогою [Phar::startBuffering()](phar.startbuffering.md) і не була завершена за допомогою [Phar::stopBuffering()](phar.stopbuffering.md). У разі виникнення будь-яких проблем у процесі створення phar буде викинуто виняток [PharException](class.pharexception.md)\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.0.0 | `format` `compression`и`extension` тепер допускають значення null. |\n\n### Приклади\n\n**Приклад #1 Приклад використання** Phar::convertToData()\\*\\*\\*\\*\n\nВикористання Phar::convertToData():\n\n```php\n<?php\ntry {\n    $tarphar = new Phar('myphar.phar.tar');\n    // обратите внимание, что myphar.phar.tar *не* будет удалён\n    // конверировать архив в неисполняемый tar-формат\n    // будет создан myphar.tar\n    $tar = $tarphar->convertToData();\n    //  конверировать архив в неисполняемый zip-формат файла, будет создан myphar.zip\n    $zip = $tarphar->convertToData(Phar::ZIP);\n    // будет создан myphar.tbz\n    $tgz = $tarphar->convertToData(Phar::TAR, Phar::BZ2, '.tbz');\n    // будет создан myphar.phar.tgz\n    $phar = $tarphar->convertToData(Phar::PHAR); // будет выброшено исключение\n} catch (Exception $e) {\n    // обработка ошибок\n}\n?>\n```\n\n### Дивіться також\n\n-   [Phar::convertToExecutable()](phar.converttoexecutable.md) \\- Конвертує phar-архів в інший формат файлу, що виконується.\n-   [PharData::convertToExecutable()](phardata.converttoexecutable.md) \\- Конвертація tar/zip-архіву з даними в phar-архів, що запускається\n-   [PharData::convertToData()](phardata.converttodata.md) \\- Конвертація phar-архіву в tar/zip-архів, що не запускається.\n","title":"Phar::convertToData","contentType":2,"navigation":[{"phar.construct.md":"« Phar::\\_\\_construct"},{"phar.converttoexecutable.md":"Phar::convertToExecutable »"},{"index.md":"PHP Manual"},{"class.phar.md":"Phar"}]}},"__N_SSG":true}