{"pageProps":{"page":{"slug":"class.snmp.md","content":"# Клас SNMP\n\n(PHP 5 >= 5.4.0, PHP 7, PHP 8)\n\n## Вступ\n\nПредставляє сесію SNMP.\n\n## Огляд класів\n\n```classsynopsis\n\n     \n      class SNMP\n      {\n\n     /* Константы */\n     \n      public\n      const\n      int\n       VERSION_1;\n\n     public\n      const\n      int\n       VERSION_2c;\n\n     public\n      const\n      int\n       VERSION_2C;\n\n     public\n      const\n      int\n       VERSION_3;\n\n     public\n      const\n      int\n       ERRNO_NOERROR;\n\n     public\n      const\n      int\n       ERRNO_ANY;\n\n     public\n      const\n      int\n       ERRNO_GENERIC;\n\n     public\n      const\n      int\n       ERRNO_TIMEOUT;\n\n     public\n      const\n      int\n       ERRNO_ERROR_IN_REPLY;\n\n     public\n      const\n      int\n       ERRNO_OID_NOT_INCREASING;\n\n     public\n      const\n      int\n       ERRNO_OID_PARSING_ERROR;\n\n     public\n      const\n      int\n       ERRNO_MULTIPLE_SET_QUERIES;\n\n\n     /* Свойства */\n     public\n      readonly\n      array\n       $info;\n\n     public\n      ?int\n       $max_oids;\n\n     public\n      int\n       $valueretrieval;\n\n     public\n      bool\n       $quick_print;\n\n     public\n      bool\n       $enum_print;\n\n     public\n      int\n       $oid_output_format;\n\n     public\n      bool\n       $oid_increasing_check;\n\n     public\n      int\n       $exceptions_enabled;\n\n\n     /* Методы */\n     \n   public __construct(    int $version,    string $hostname,    string $community,    int $timeout = -1,    int $retries = -1)\n\n     public close(): bool\npublic get(array|string $objectId, bool $preserveKeys = false): mixed\npublic getErrno(): int\npublic getError(): string\npublic getnext(array|string $objectId): mixed\npublic set(array|string $objectId, array|string $type, array|string $value): bool\npublic setSecurity(    string $securityLevel,    string $authProtocol = \"\",    string $authPassphrase = \"\",    string $privacyProtocol = \"\",    string $privacyPassphrase = \"\",    string $contextName = \"\",    string $contextEngineId = \"\"): bool\npublic walk(    array|string $objectId,    bool $suffixAsKey = false,    int $maxRepetitions = -1,    int $nonRepeaters = -1): array|false\n\n    }\n```\n\n## Властивості\n\nmax\\_oids\n\nМаксимальний OID для запитів GET/SET/GETBULK\n\nvalueretrieval\n\nКонтролює спосіб, як повертатимуться значення SNMP\n\n<table class=\"doctable table\"><tbody class=\"tbody\"><tr><td><strong><code>SNMP_VALUE_LIBRARY</code></strong></td><td>Повертані значення будуть такими, ніби повернуті бібліотекою Net-SNMP.</td></tr><tr><td><strong><code>SNMP_VALUE_PLAIN</code></strong></td><td>Повертані значення будуть простими, без інформації про типи SNMP.</td></tr><tr><td><strong><code>SNMP_VALUE_OBJECT</code></strong></td><td>Повертані значення будуть об'єктами з властивостями \"value\" і \"type\", де \"type\" міститиме одну з констант: SNMP_OCTET_STR, SNMP_COUNTER і т.д., а \"value\" буде залежати від того, чи встановлено <strong><code>SNMP_VALUE_LIBRARY</code></strong> або <strong><code>SNMP_VALUE_PLAIN</code></strong>.</td></tr></tbody></table>\n\nquick\\_print\n\nЗначение`quick_print`в библиотеке NET-SNMP\n\nУстанавливает значение`quick_print` у бібліотеці NET-SNMP. якщо задано як (1), бібліотека SNMP повертатиме значення 'quick printed'. Це означає, що буде надруковано лише значення. Якщо `quick_print` не дозволено (за замовчуванням), бібліотека NET-SNMP друкуватиме додаткову інформацію, включаючи тип значення (тобто IpAddress або OID). Додатково якщо quick\\_print не дозволено, бібліотека друкуватиме шістнадцяткові значення для всіх рядків коротше чотирьох символів.\n\nenum\\_print\n\nКонтролює спосіб, яким будуть друкуватись значення перерахувань\n\nПараметр перемикає поведінку walk/get і т.д., щоб вони автоматично дивилися значення перерахувань у MIB та повертали їх разом із зрозумілим людині текстом.\n\noid\\_output\\_format\n\nКонтролює формат виводу OID\n\n<table class=\"doctable table\"><caption><strong>OID-подання .1.3.6.1.2.1.1.3.0 для різних значень <var class=\"varname\">oid_output_format</var></strong></caption><tbody class=\"tbody\"><tr><td><strong><code>SNMP_OID_OUTPUT_FULL</code></strong></td><td>.iso.org.dod.internet.mgmt.mib -2.system.sysUpTime.sysUpTimeInstance</td></tr><tr><td><strong><code>SNMP_OID_OUTPUT_NUMERIC</code></strong></td><td>.1.3.6.1.2.1 .1.3.0</td></tr><tr><td><strong><code>SNMP_OID_OUTPUT_MODULE</code></strong></td><td>DISMAN-EVENT-MIB::sysUpTimeInstance</td></tr><tr><td><strong><code>SNMP_OID_OUTPUT_SUFFIX</code></strong></td><td>sysUpTimeInstance</td></tr><tr><td>&lt; strong&gt;<code>SNMP_OID_OUTPUT_UCD</code></td><td>system.sysUpTime.sysUpTimeInstance</td></tr><tr><td><strong><code>SNMP_OID_OUTPUT_NONE</code></strong></td><td>Undefined</td></tr></tbody></table>\n\noid\\_increasing\\_check\n\nКонтролює заборону на перевірку збільшення OID під час обходу дерева OID\n\nДеякі агенти SNMP відомі тим, що OID повертають не по порядку, але все одно завершують прохід. Інші агенти, що повертають OID не по порядку і можуть викликати нескінченне зациклювання [SNMP::walk()](snmp.walk.md), поки не буде вичерпано всю пам'ять. Бібліотека PHP SNMP за замовчуванням здійснює перевірку збільшення OID і припиняє обхід дерева, якщо визначає можливе кільце, видаючи відповідне попередження. Встановіть oid\\_increasing\\_check в значение\\*\\*`false`\\*\\* для заборони перевірки.\n\nexceptions\\_enabled\n\nКонтролює, у яких випадках викидаються винятки SNMPException замість попереджень. Використовуйте побітове АБО з констант **`SNMP::ERRNO_*`**. За промовчанням SNMP не викидає виняток.\n\ninfo\n\nВластивість доступна тільки для читання, що містить конфігурацію віддаленого агента: ім'я хоста, порт, час за замовчуванням, кількість повторів за замовчуванням\n\n## Обумовлені константи\n\n## Типи помилок SNMP\n\n**`SNMP::ERRNO_NOERROR`**\n\nПомилки SNMP відсутні.\n\n**`SNMP::ERRNO_GENERIC`**\n\nЗагальна помилка SNMP.\n\n**`SNMP::ERRNO_TIMEOUT`**\n\nПеревищено час очікування запиту до SNMP-агенту.\n\n**`SNMP::ERRNO_ERROR_IN_REPLY`**\n\nSNMP-агент повернув помилку у відповідь.\n\n**`SNMP::ERRNO_OID_NOT_INCREASING`**\n\nSNMP-агент виявив можливе закольцювання через незбільшення OID під час виконання команд (BULK)WALK. Говорить нам, що віддалений SNMP-агент фіктивний.\n\n**`SNMP::ERRNO_OID_PARSING_ERROR`**\n\nБібліотека не змогла розібрати OID (та/або тип команди SET). Запитів не було.\n\n**`SNMP::ERRNO_MULTIPLE_SET_QUERIES`**\n\nБібліотека використовує багато запитів для операції SET. Це означає, що операція буде виконуватися без транзакції, і якщо виникне помилка типу або значення, другий або наступні фрагменти можуть завершитися помилкою.\n\n**`SNMP::ERRNO_ANY`**\n\nУсі коди SNMP::ERRNO\\_\\* об'єднані побітовим АБО.\n\n## Версії протоколу SNMP\n\n**`SNMP::VERSION_1`**\n\n**`SNMP::VERSION_2C`** **`SNMP::VERSION_2c`**\n\n**`SNMP::VERSION_3`**\n\n## Зміст\n\n-   [SNMP::close](snmp.close.md)— Закриває сесію SNMP\n-   [SNMP::\\_\\_construct](snmp.construct.md) \\- Створює екземпляр SNMP, що представляє сесію віддаленого агента SNMP\n-   [SNMP::get](snmp.get.md)— Отримує об'єкт SNMP\n-   [SNMP::getErrno](snmp.geterrno.md)— Отримує код останньої помилки\n-   [SNMP::getError](snmp.geterror.md)— Отримує останнє повідомлення про помилку\n-   [SNMP::getnext](snmp.getnext.md)— Отримати об'єкт SNMP, який слідує за цим ідентифікатором об'єкта\n-   [SNMP::set](snmp.set.md)— Встановлює значення об'єкта SNMP\n-   [SNMP::setSecurity](snmp.setsecurity.md)— Налаштовує пов'язані з безпекою параметри сесії SNMPv3\n-   [SNMP::walk](snmp.walk.md)— Отримує піддерево об'єкта SNMP\n","title":"Клас SNMP","contentType":2,"navigation":[{"function.snmpwalkoid.md":"« snmpwalkoid"},{"snmp.close.md":"SNMP::close »"},{"index.md":"PHP Manual"},{"book.snmp.md":"SNMP"}]}},"__N_SSG":true}