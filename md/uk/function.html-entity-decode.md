- [« hex2bin](function.hex2bin.md)
- [htmlentities »] (function.mdentities.md)

- [PHP Manual](index.md)
- [Функції для роботи з рядками](ref.strings.md)
- Перетворює HTML-сутності у відповідні їм символи

#html_entity_decode

(PHP 4 \>u003d 4.3.0, PHP 5, PHP 7, PHP 8)

html_entity_decode — Перетворює HTML-сутності у відповідні їм
символи

### Опис

**html_entity_decode**(string `$string`, int `$flags` u003d ENT_QUOTES \|
ENT_SUBSTITUTE \| ENT_HTML401, ?string `$encoding` u003d **`null`**): string

**html_entity_decode()** є протилежністю функції
[htmlentities()](function.mdentities.md). Вона перетворює
HTML-сутності в рядку `string` у відповідні символи.

Якщо бути точніше, то ця функція перетворює всі сутності (зокрема
всі числові сутності), які а) обов'язково вірні для обраного типу
документа - тобто для XML ця функція не перетворює іменовані
сутності, які можуть бути визначені в якомусь DTD - і б) їх
символи знаходяться у кодуванні, що відповідає обраному та дозволені в
вибраний тип документа. Усі інші сутності залишаються без змін.

### Список параметрів

`string`
Вхідний рядок.

`flags`
Бітова маска, що складається з одного або більше прапорів, які вказують,
як поводитися з лапками та який тип документа використовувати. за
замовчуванням маска приймає значення
`ENT_QUOTES | ENT_SUBSTITUTE | ENT_HTML401`.

| Ім'я константи Опис |
|----------------------|-------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -----------|
| **`ENT_COMPAT`** | Перетворюються подвійні лапки, одинарні залишаються без змін. |
| **`ENT_QUOTES`** | Перетворюються і подвійні, і одинарні лапки. |
| **`ENT_NOQUOTES`** | Залишити як подвійні, так і одинарні лапки без змін. |
| **`ENT_SUBSTITUTE`** | Замінює некоректні кодові послідовності символом заміни Юнікоду U+FFFD у разі використання UTF-8 та &#FFFD; при використанні іншого кодування замість повернення порожнього рядка. |
| **`ENT_HTML401`** | Обробляти код, як HTML 4.01. |
| **`ENT_XML1`** | Обробляти код, як XML 1. |
| **`ENT_XHTML`** | Обробляти код як XHTML. |
| **`ENT_HTML5`** | Обробляти код як HTML 5.

**Константи `flags`**

`encoding`
Необов'язковий аргумент, що визначає кодування, що використовується при
конвертації символів.

Якщо не вказано, значення за замовчуванням для `encoding` залежить від
конфігураційної опції
[default_charset](ini.core.md#ini.default-charset).

Хоча цей аргумент є технічно необов'язковим, настійно
рекомендується вказати правильне значення для вашого коду, опція
конфігурації [default_charset](ini.core.md#ini.default-charset) може
бути задана неправильно для вхідних даних.

Підтримуються такі кодування:

| Кодування | Псевдоніми Опис |
|-------------|------------------------------|---- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -----|
| ISO-8859 | ISO8859-1 | Західноєвропейська Latin-1. |
| ISO-8859-5 | ISO8859-5 | Рідко використовуване кирилічне кодування (Latin/Cyrillic). |
| ISO-8859-15 | ISO8859-15 | Західноєвропейська Latin-9. Додає символ євро, французькі та фінські літери до кодування Latin-1 (ISO-8859-1). |
| UTF-8 | | 8-бітна Unicode, сумісна з ASCII. |
| CP866 | ibm866, 866 | Кирилічна кодування, що застосовується в DOS. |
| CP1251 | Windows-1251, win-1251, 1251 | Кирилічне кодування, яке використовується в Windows. |
| CP1252 | Windows-1252, 1252 | Західно-європейське кодування, що застосовується у Windows. |
| KOI8-R | koi8-ru, koi8r | Російське кодування. |
| BIG5 | 950 | Традиційний китайський, застосовується переважно на Тайвані. |
| GB2312 | 936 | Спрощена китайська, стандартне національне кодування. |
| BIG5-HKSCS | | Розширена Big5, що застосовується у Гонконгу. |
| Shift_JIS | SJIS, SJIS-win, CP932, 932 | Японське кодування. |
| EUC-JP | EUCJP, eucJP-win | Японське кодування. |
| MacRoman | | Кодування, яке використовується в Mac OS. |
| ```` | | Порожній рядок активує режим визначення кодування з файлу скрипта (Zend multibyte), [default_charset](ini.core.md#ini.default-charset) та поточної локалі (дивіться [nl_langinfo()](function.nl-langinfo.md) та [setlocale()](function.setlocale.md)) у вказаному порядку. Не рекомендується використовувати. |

**Підтримувані кодування**

> **Примітка**: Інші кодування не підтримуються, замість них буде
> застосовано кодування за замовчуванням та згенеровано попередження.

### Значення, що повертаються

Повертає розкодований рядок.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- ---------------------------------------------|
| 8.1.0 | Значення за промовчанням параметра `flags` змінено з **`ENT_COMPAT`** на **`ENT_QUOTES`** \| **`ENT_SUBSTITUTE`** \| **`ENT_HTML401`**. |
| 8.0.0 | encoding тепер допускає значення null. |

### Приклади

**Приклад #1 Декодування HTML-сутностей**

` <?php$orig u003d "I'll \"walk\" the <b>dog</b> now";$a u003d htmlentities($orig);$b u003d html_entity_decode($a);echo $a; //I'll "walk" the <b>dog</b> nowecho $b; // I'll "walk" the <b>dog</b> now?> `

### Примітки

> **Примітка**:
>
> Може здатися дивним, що результат виклику
> trim(html_entity_decode(' ')); не є порожній рядок. Причина
> те, що ' ' перетворюється над символ з ASCII-кодом 32 (який
> видаляється функцією [trim()](function.trim.md)), а символ з
> ASCII-кодом 160 (0xa0) в кодуванні, що приймається за умовчанням
> ISO-8859-1.

### Дивіться також

- [htmlentities()](function.mdentities.md) - Перетворює всі
можливі символи у відповідні HTML-сутності
- [htmlspecialchars()](function.mdspecialchars.md) - Перетворює
спеціальні символи в HTML-сутності
- [get_html_translation_table()](function.get-html-translation-table.md) -
Повертає таблицю перетворень, використовувану функціями
htmlspecialchars і htmlentities
- [urldecode()](function.urldecode.md) - Декодування
URL-кодованого рядка
