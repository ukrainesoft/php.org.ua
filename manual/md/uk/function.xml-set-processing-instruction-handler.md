- [« xml_set_object](function.xml-set-object.md)
- [xml_set_start_namespace_decl_handler
»](function.xml-set-start-namespace-decl-handler.md)

- [PHP Manual](index.md)
- [Функції парсера XML](ref.xml.md)
- Встановлення обробника інструкцій препроцесора (PI)

#xml_set_processing_instruction_handler

(PHP 4, PHP 5, PHP 7, PHP 8)

xml_set_processing_instruction_handler — Встановлення обробника
інструкцій препроцесора (PI)

### Опис

**xml_set_processing_instruction_handler**([XMLParser](class.xmlparser.md)
`$parser`, [callable](language.types.callable.md) `$handler`): bool

Задає обробник інструкцій препроцесора (PI) для аналізатора XML.
`parser`.

Інструкції мають такий формат:

<?

target data

??>


Можна вставляти PHP-код у тіло тега, але є одне обмеження:
завершальний тег інструкцій (`?>`) не можна укладати в лапки, таким
Таким чином ця послідовність символів не повинна зустрічатися в
PHP-код, який ви вставляєте за допомогою PI в XML-документи. Якщо це
відбудеться, залишок PHP-коду буде сприйнятий як прості символьні
дані.

### Список параметрів

`parser`
Посилання на аналізатор XML, для якого встановлюється обробник.

`handler`
`handler` - рядок, що містить ім'я функції, яка повинна бути
визначено на момент виклику функції
[xml_parse()](function.xml-parse.md) з аналізатора `parser`.

Функція з ім'ям handler повинна приймати три аргументи:

handler([XMLParser](class.xmlparser.md) `$parser`, string `$target`,
string `$data`)

`parser`
Перший аргумент parser є посиланням на XML-аналізатор, що викликає
обробник.

`target`
Другий аргумент `target` містить мету застосування PI.

`data`
Третій аргумент `data` містить PI-дані.

Якщо як обробник передано порожній рядок або **`false`**, цей
обробник вимикається.

> **Примітка**: Як аргумент замість імені функції може бути
> передано масив, що містить посилання на об'єкт та ім'я методу.

### Значення, що повертаються

Повертає **`true`** у разі успішного виконання або **`false`** у
у разі виникнення помилки.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- ----------------|
| 8.0.0 | Параметр `parser` чекає на екземпляр [XMLParser](class.xmlparser.md); раніше очікували ресурс (resource). |
