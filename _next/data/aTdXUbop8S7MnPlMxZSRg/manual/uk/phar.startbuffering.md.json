{"pageProps":{"page":{"slug":"phar.startbuffering.md","content":"# Phar::startBuffering\n\n(PHP 5 >= 5.3.0, PHP 7, PHP 8, PECL phar >= 1.0.0)\n\nPhar::startBuffering — Запускає буферизацію операцій запису, відключаючи запис змін Phar-архіву на диск\n\n### Опис\n\n```methodsynopsis\npublic Phar::startBuffering(): void\n```\n\nМетод**Phar::startBuffering()** може дати значний приріст продуктивності під час створення, чи модифікації phar-архіва з великою кількістю файлів. Зазвичай, коли додається новий файл або змінюється існуючий, запускається операція перестворення phar-архіву. З увімкненою буферизацією архів буде перетворено один раз наприкінці внесення змін.\n\nЦя концепція працює аналогічно транзакції в базі даних, що дозволяє зробити поза необхідні зміни та застосувати їх одночасно, в рамках однієї операції. Така поведінка забезпечує пару методів **Phar::startBuffering()** [Phar::stopBuffering()](phar.stopbuffering.md)\n\nНалаштування буферизації є індивідуальними для кожного архіву. Включена буферизація для `foo.phar` ніяк не впливає на режим роботи з `bar.phar`\n\n### Список параметрів\n\nЦя функція не має параметрів.\n\n### Значення, що повертаються\n\nФункція не повертає значення після виконання.\n\n### Приклади\n\n**Приклад #1 Приклад використання** Phar::startBuffering()\\*\\*\\*\\*\n\n```php\n<?php\n// удалим на всякий случай\n@unlink('brandnewphar.phar');\ntry {\n    $p = new Phar(dirname(__FILE__) . '/brandnewphar.phar', 0, 'brandnewphar.phar');\n} catch (Exception $e) {\n    echo 'не могу создать phar:', $e;\n}\necho 'В новом phar содержится ' . $p->count() . \" записей\\n\";\n$p->startBuffering();\n$p['file.txt'] = 'hi';\n$p['file2.txt'] = 'there';\n$p['file2.txt']->setCompressedGZ();\n$p['file3.txt'] = 'babyface';\n$p['file3.txt']->setMetadata(42);\n$p->setStub(\"<?php\nfunction __autoload($class)\n{\n    include 'phar://myphar.phar/' . str_replace('_', '/', $class) . '.php';\n}\nPhar::mapPhar('myphar.phar');\ninclude 'phar://myphar.phar/startup.php';\n__HALT_COMPILER();\");\n$p->stopBuffering();\n?>\n```\n\n### Дивіться також\n\n-   [Phar::stopBuffering()](phar.stopbuffering.md) \\- Зупиняє буферизацію та записує всі зміни на диск\n-   [Phar::isBuffering()](phar.isbuffering.md) \\- Перевірити, чи будуть операції з Phar-архівом буферизовані чи записані безпосередньо на диск\n","title":"Phar::startBuffering","contentType":2,"navigation":[{"phar.setstub.md":"« Phar::setStub"},{"phar.stopbuffering.md":"Phar::stopBuffering »"},{"index.md":"PHP Manual"},{"class.phar.md":"Phar"}]}},"__N_SSG":true}