- [« Повідомлення про помилки](security.errors.md)
- [Приховування PHP »](security.hiding.md)

- [PHP Manual](index.md)
- [Безпека](security.md)
- Дані, введені користувачем

# Дані, введені користувачем

Найбільш небезпечні вразливості у багатьох PHP-скриптах виникають не так
через саму мову, скільки через код, написаний без урахування
відповідних вимог безпеки. Як наслідок, ви завжди повинні
виділяти час на дослідження ділянки коду, що розробляється, щоб
оцінити потенційну загрозу від введення змінної з нестандартним
значенням.

**Приклад #1 Потенційно небезпечне використання змінних**

`<?php// видалити файли з домашньої директорії користувача...// а може, з ще який-небудь?unlink ($evil_var);// записати в лог-файл використання   /etc/passwd?fwrite ($fp, $evil_var);// виконання тривіальних дій... або rm -rf *?system ($evil_var);exec ($evil_var);?> `

Ви повинні ретельно перевіряти ваш код і бути абсолютно впевнені в тому,
що всі дані, що надсилаються веб-браузером, перевіряються належним чином
чином. Спробуйте відповісти на такі питання:

- Чи буде цей скрипт впливати виключно на
передбачувані дані?
- Чи можуть бути оброблені некоректні чи нестандартні дані?
- Чи можливе використання скрипта непередбаченим способом?
- Чи можливе його використання у поєднанні з іншими скриптами в
негативних цілях?
- Чи буде кожна транзакція коректно логована?

Відповівши на ці запитання під час написання скрипту, а не після, ви,
можливо, запобігайте подальшому доробку скрипту з метою підвищення
його безпеки. Починаючи з цих питань, ви не гарантуєте
повну безпеку вашої системи, але можете значно підвищити її.

Ви також можете розглянути вимкнення таких конфігураційних опцій, як
register_globals, magic_quotes та деяких інших, які можуть
призводити до сумнівів щодо походження чи значення одержуваних
змінних. Використання під час написання PHP-коду режиму
error_reporting(E_ALL) може допомогти вам попередити вас про використання
змінних до ініціалізації або перевірки (що запобіжить роботі з
даними, відмінними від очікуваних).
