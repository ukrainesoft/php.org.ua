{"pageProps":{"page":{"slug":"function.xdiff-string-patch.md","content":"# xdiff\\_string\\_patch\n\n(PECL xdiff >= 0.2.0)\n\nxdiff\\_string\\_patch — Застосувати звичайний патч до рядка\n\n### Опис\n\n```methodsynopsis\nxdiff_string_patch(    string $str,    string $patch,    int $flags = ?,    string &$error = ?): string\n```\n\nЗастосовує до рядка `str` звичайний патч `patch` та повертає результат . `patch` має бути звичайним патчем, створеним за допомогою функцій [xdiff\\_file\\_diff()](function.xdiff-file-diff.md) або [xdiff\\_string\\_diff()](function.xdiff-string-diff.md). Опціональний параметр `flags` задає режим операції. Усі відкинуті частини патчу будуть записані у змінну `error`\n\n### Список параметрів\n\n`str`\n\nОригінальний рядок.\n\n`patch`\n\nСтандартний патч. Повинен бути створений функціями [xdiff\\_string\\_diff()](function.xdiff-string-diff.md), или[xdiff\\_file\\_diff()](function.xdiff-file-diff.md)або за допомогою інструментів, що створюють сумісні патчі.\n\n`flags`\n\n`flags` може бути **`XDIFF_PATCH_NORMAL`** (режим за замовчуванням, нормальний патч) або **`XDIFF_PATCH_REVERSE`** (Реверсивний патч).\n\nПочинаючи з версії 1.5.0, можна використовувати бінарне АБО для додавання прапора. **`XDIFF_PATCH_IGNORESPACE`**\n\n`error`\n\nЯкщо заданий, то цю змінну будуть записані всі відкинуті частини патча.\n\n### Значення, що повертаються\n\nПовертає рядок, або \\*\\*`false`\\*\\*в случае возникновения ошибке.\n\n### Приклади\n\n**Приклад #1 Приклад використання** xdiff\\_string\\_patch()\\*\\*\\*\\*\n\nНаступний код застосовує патч до статті.\n\n```php\n<?php\n$old_article = file_get_contents('./old_article.txt');\n$diff = $_SERVER['patch']; /* Допустим кто-то отправил патч через html-форму */\n\n$errors = '';\n\n$new_article = xdiff_string_patch($old_article, $diff, XDIFF_PATCH_NORMAL, $errors);\nif (is_string($new_article)) {\n    echo \"Новая статья:\\n\";\n    echo $new_article;\n}\n\nif (strlen($errors)) {\n    echo \"Отклонены: \\n\";\n    echo $errors;\n}\n\n?>\n```\n\n### Дивіться також\n\n-   [xdiff\\_string\\_diff()](function.xdiff-string-diff.md) \\- Створити звичайний патч для двох рядків\n","title":"xdiff\\_string\\_patch","contentType":2,"navigation":[{"function.xdiff-string-patch-binary.md":"« xdiff\\_string\\_patch\\_binary"},{"function.xdiff-string-rabdiff.md":"xdiff\\_string\\_rabdiff »"},{"index.md":"PHP Manual"},{"ref.xdiff.md":"Функції xdiff"}]}},"__N_SSG":true}