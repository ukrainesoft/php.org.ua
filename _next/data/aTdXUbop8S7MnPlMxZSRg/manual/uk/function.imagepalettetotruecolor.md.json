{"pageProps":{"page":{"slug":"function.imagepalettetotruecolor.md","content":"# imagepalettetotruecolor\n\n(PHP 5 >= 5.5.0, PHP 7, PHP 8)\n\nimagepalettetotruecolor — Перетворює зображення на основі палітри на справжній колір\n\n### Опис\n\n```methodsynopsis\nimagepalettetotruecolor(GdImage $image): bool\n```\n\nПеретворює зображення на основі палітри, наприклад, створене функцією [imagecreate()](function.imagecreate.md), зображення з істинним кольором (TrueColor), яке, наприклад, створює функція [imagecreatetruecolor()](function.imagecreatetruecolor.md)\n\n### Список параметрів\n\n`image`\n\nОб'єкт [GdImage](class.gdimage.md), що повертається однією з функцій створення зображень, наприклад, такий як [imagecreatetruecolor()](function.imagecreatetruecolor.md)\n\n### Значення, що повертаються\n\nПовертає **`true`**, якщо перетворення завершено, або якщо вихідне зображення вже є зображенням справжнього кольору, інакше повертається **`false`**\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.0.0 | `image` тепер чекає екземпляр [GdImage](class.gdimage.md); раніше очікувався коректний `gd` ресурс (Resource). |\n\n### Приклади\n\n**Приклад #1 Конвертує будь-який об'єкт зображення на цей колір**\n\n```php\n<?php\n// Для обратной совместимости\nif(!function_exists('imagepalettetotruecolor'))\n{\n    function imagepalettetotruecolor(&$src)\n    {\n        if(imageistruecolor($src))\n        {\n            return(true);\n        }\n\n        $dst = imagecreatetruecolor(imagesx($src), imagesy($src));\n\n        imagecopy($dst, $src, 0, 0, 0, 0, imagesx($src), imagesy($src));\n        imagedestroy($src);\n\n        $src = $dst;\n\n        return(true);\n    }\n}\n\n// Анонимная функция-помощник\n$typeof = function() use($im)\n{\n    echo 'typeof($im) = ' . (imageistruecolor($im) ? 'true color' : 'palette'), PHP_EOL;\n};\n\n// Создание изображения на основе палитры\n$im = imagecreate(100, 100);\n$typeof();\n\n// Преобразовать в настоящий цвет\nimagepalettetotruecolor($im);\n$typeof();\n\n// Освободить память\nimagedestroy($im);\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\ntypeof($im) = palette\ntypeof($im) = true color\n```\n\n### Дивіться також\n\n-   [imagecreatetruecolor()](function.imagecreatetruecolor.md) \\- Створення нового повнокольорового зображення\n-   [imageistruecolor()](function.imageistruecolor.md) \\- Визначає, чи є зображення повнокольоровим\n","title":"imagepalettetotruecolor","contentType":2,"navigation":[{"function.imagepalettecopy.md":"« imagepalettecopy"},{"function.imagepng.md":"imagepng »"},{"index.md":"PHP Manual"},{"ref.image.md":"Функції GD та функції для роботи із зображеннями"}]}},"__N_SSG":true}