{"pageProps":{"page":{"slug":"pdo.quote.md","content":"# PDO::quote\n\n(PHP 5 >= 5.1.0, PHP 7, PHP 8, PECL pdo >= 0.2.1)\n\nPDO::quote — Укладає рядок у лапки для використання у запиті\n\n### Опис\n\n```methodsynopsis\npublic PDO::quote(string $string, int $type = PDO::PARAM_STR): string|false\n```\n\n**PDO::quote()** укладає рядок у лапки (якщо потрібно) і екранує спеціальні символи всередині рядка відповідним для драйвера способом.\n\nЯкщо ви використовуєте цю функцію для побудови запитів SQL, *наполегливо* рекомендується користуватися методом [PDO::prepare()](pdo.prepare.md) для підготовки запиту з псевдозмінними замість використання **PDO::quote()** для вставки даних, введених користувачем у SQL запит. Підготовлювані запити з параметрами не тільки компактнішими, зручнішими, стійкішими до SQL-ін'єкції, але й працюють швидше, ніж вручну побудовані запити, оскільки клієнт і сервер можуть кешувати такі запити у вже скомпільованому вигляді.\n\nНе всі драйвери PDO реалізують цей метод (особливо PDO\\_ODBC). Передбачається, що замість нього будуть використовуватися запити, що готуються.\n\n**Застереження**\n\n# Безпека: набір символів за промовчанням\n\nДля коректної роботи **PDO::quote()** набір символів має бути заданий або сервері, або задаватися самим з'єднанням з базою даних (залежить від драйвера). Детальніше дивіться [документацію до драйвера бази даних](pdo.drivers.md)\n\n### Список параметрів\n\n`string`\n\nРядок, що екранується.\n\n`type`\n\nНадає підказку про тип даних драйверів, які мають альтернативні способи екранування. Наприклад, **`PDO_PARAM_LOB`** вкаже драйверу екранувати двійкові дані.\n\n### Значення, що повертаються\n\nПовертає екранований рядок, який теоретично безпечно використовувати в тілі запиту SQL. Повертає \\*\\*`false`\\*\\*Якщо драйвер не підтримує екранування.\n\n### Приклади\n\n**Приклад #1 Екранування звичайного рядка**\n\n```php\n<?php\n$conn = new PDO('sqlite:/home/lynn/music.sql3');\n\n/* простая строка */\n$string = 'Nice';\nprint \"Неэкранированная строка: $string\\n\";\nprint \"Экранированная строка: \" . $conn->quote($string) . \"\\n\";\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nНеэкранированная строка: Nice\nЭкранированная строка: 'Nice'\n```\n\n**Приклад #2 Екранування небезпечного рядка**\n\n```php\n<?php\n$conn = new PDO('sqlite:/home/lynn/music.sql3');\n\n/* небезопасная строка */\n$string = 'Naughty \\' string';\nprint \"Неэкранированная строка: $string\\n\";\nprint \"Экранированная строка:\" . $conn->quote($string) . \"\\n\";\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nНеэкранированная строка: Naughty ' string\nЭкранированная строка: 'Naughty '' string'\n```\n\n**Приклад #3 Екранування складного рядка**\n\n```php\n<?php\n$conn = new PDO('sqlite:/home/lynn/music.sql3');\n\n/* сложная строка */\n$string = \"Co'mpl''ex \\\"st'\\\"ring\";\nprint \"Неэкранированная строка: $string\\n\";\nprint \"Экранированная строка: \" . $conn->quote($string) . \"\\n\";\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nНеэкранированная строка: Co'mpl''ex \"st'\"ring\nЭкранированная строка: 'Co''mpl''''ex \"st''\"ring'\n```\n\n### Дивіться також\n\n-   [PDO::prepare()](pdo.prepare.md) \\- готує запит до виконання та повертає пов'язаний із цим запитом об'єкт\n-   [PDOStatement::execute()](pdostatement.execute.md) \\- Запускає підготовлений запит на виконання\n","title":"PDO::quote","contentType":2,"navigation":[{"pdo.query.md":"« PDO::query"},{"pdo.rollback.md":"PDO::rollBack »"},{"index.md":"PHP Manual"},{"class.pdo.md":"PDO"}]}},"__N_SSG":true}