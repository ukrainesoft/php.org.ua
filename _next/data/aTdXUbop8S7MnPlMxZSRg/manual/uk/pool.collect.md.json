{"pageProps":{"page":{"slug":"pool.collect.md","content":"# Pool::collect\n\n(PECL pthreads >= 2.0.0)\n\nPool::collect — Збирає посилання на виконані завдання\n\n### Опис\n\n```methodsynopsis\npublic Pool::collect(Callable $collector = ?): int\n```\n\nДозволяє пулу збирати посилання, визначені як сміття додатковим збирачем.\n\n### Список параметрів\n\n`collector`\n\nCallback - функція збирача, яка повертає логічне значення, що вказує, чи може бути завдання зібрано чи ні. Тільки в окремих випадках може знадобитися спеціальний збирач.\n\n### Значення, що повертаються\n\nКількість завдань, що залишилися в пулі, які потрібно зібрати.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| v3 | Тепер повертається ціле число, а параметр `collector` тепер необов'язковий. |\n\n### Приклади\n\n**Приклад #1 Простий приклад використання **Pool::collect()****\n\n```php\n<?php\n$pool = new Pool(4);\n\nfor ($i = 0; $i < 15; ++$i) {\n    $pool->submit(new class extends Threaded {});\n}\n\nwhile ($pool->collect()); // до тех пор, пока все задачи не закончат выполнение\n\n$pool->shutdown();\n```\n","title":"Pool::collect","contentType":2,"navigation":[{"class.pool.md":"« Pool"},{"pool.construct.md":"Pool::\\_\\_construct »"},{"index.md":"PHP Manual"},{"class.pool.md":"Pool"}]}},"__N_SSG":true}