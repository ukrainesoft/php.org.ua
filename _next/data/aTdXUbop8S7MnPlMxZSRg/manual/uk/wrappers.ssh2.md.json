{"pageProps":{"page":{"slug":"wrappers.ssh2.md","content":"# ssh2://\n\nssh2:// — Secure Shell 2\n\n### Опис\n\nssh2.shell:// ssh2.exec:// ssh2.tunnel:// ssh2.sftp:// ssh2.scp:// (PECL)\n\n> **Зауваження** **Ця обгортка не включена за замовчуванням**  \n> Для того щоб використовувати обгортки ssh2.\\*:// необходимо установить модуль[» SSH2](https://pecl.php.net/package/ssh2), доступний у репозиторії [» PECL](https://pecl.php.net/)\n\nКрім отримання традиційних даних для входу до URI, обгортки ssh2 також повторно використовувати відкриті з'єднання, передаючи ресурс з'єднання в хост-частину URL.\n\n### Використання\n\n-   ssh2.shell://user:[pass@example.com](mailto:pass@example.com):22/xterm\n-   ssh2.exec://user:[pass@example.com](mailto:pass@example.com):22/usr/local/bin/somecmd\n-   ssh2.tunnel://user:[pass@example.com](mailto:pass@example.com):22/192.168.0.1:14\n-   ssh2.s[ftp://user:pass@example.com:22/path/to/filename](ftp://user:pass@example.com:22/path/to/filename)\n\n### Опції\n\n**Основна інформація**\n\n| Атрибут | ssh2.shell | ssh2.exec | ssh2.tunnel | ssh2.sftp | ssh2.scp |\n| --- | --- | --- | --- | --- | --- |\n| Обмеження по [allow\\_url\\_fopen](filesystem.configuration.md#ini.allow-url-fopen) | Так | Так | Так | Так | Так |\n| Читання | Так | Так | Так | Так | Так |\n| Запис | Так | Так | Так | Так | Ні |\n| Додавання | Ні | Ні | Ні | Так (коли підтримується сервером) | Ні |\n| Одночасне читання та запис | Так | Так | Так | Так | Ні |\n| Поддержка[stat()](function.stat.md) | Ні | Ні | Ні | Так | Ні |\n| Поддержка[unlink()](function.unlink.md) | Ні | Ні | Ні | Так | Ні |\n| Поддержка[rename()](function.rename.md) | Ні | Ні | Ні | Так | Ні |\n| Поддержка[mkdir()](function.mkdir.md) | Ні | Ні | Ні | Так | Ні |\n| Поддержка[rmdir()](function.rmdir.md) | Ні | Ні | Ні | Так | Ні |\n\n**Опції контексту**\n\n| Имя | Использование | По умолчанию |\n| --- | --- | --- |\n| `session` | Попередньо з'єднаний ресурс ssh2 для повторного використання |  |\n| `sftp` | Попередньо виділений ресурс sftp для повторного використання |  |\n| `methods` | Обмін ключами, ключ хоста, шифр, компресія та методи MAC для використання |  |\n| `callbacks` |  |  |\n| `username` | Ім'я користувача для з'єднання |  |\n| `password` | Пароль для автентифікації |  |\n| `pubkey_file` | Ім'я файлу, в якому знаходиться відкритий ключ для автентифікації |  |\n| `privkey_file` | Ім'я файлу, в якому знаходиться приватний ключ для автентифікації |  |\n| `env` | Асоціативний масив зі змінними оточеннями, які необхідно встановити |  |\n| `term` | Тип емуляції терміналу для запиту, коли виділяється pty |  |\n| `term_width` | Ширина терміналу, запитується коли виділяється pty |  |\n| `term_height` | Висота терміналу, запитується коли виділяється pty |  |\n| `term_units` | Одиниці, в яких вимірюються term\\_width та term\\_height | **`SSH2_TERM_UNIT_CHARS`** |\n\n### Приклади\n\n**Приклад #1 Відкриття потоку з активного з'єднання**\n\n```php\n<?php\n$session = ssh2_connect('example.com', 22);\nssh2_auth_pubkey_file($session, 'username', '/home/username/.ssh/id_rsa.pub',\n                                            '/home/username/.ssh/id_rsa', 'secret');\n$stream = fopen(\"ssh2.tunnel://$session/remote.example.com:1234\", 'r');\n?>\n```\n\n**Приклад #2 Змінна $session має бути доступною!**\n\nДля використання будь-яких обгорток ssh2.\\*://$session, необхідно зберегти доступним ресурс, що зберігається в змінній $session. Наступний код не матиме бажаного ефекту:\n\n```php\n<?php\n$session = ssh2_connect('example.com', 22);\nssh2_auth_pubkey_file($session, 'username', '/home/username/.ssh/id_rsa.pub',\n                                            '/home/username/.ssh/id_rsa', 'secret');\n$connection_string = \"ssh2.sftp://$session/\";\nunset($session);\n$stream = fopen($connection_string . \"path/to/file\", 'r');\n?>\n```\n\nunset() закриває сесію, тому що $connection\\_string не є посиланням на змінну $session, лише її текстовим поданням. Це також відбувається і у разі неявного виклику [unset()](function.unset.md) при виході з області видимості (наприклад, функції).\n","title":"ssh2://","contentType":2,"navigation":[{"wrappers.phar.md":"« phar://"},{"wrappers.rar.md":"rar:// »"},{"index.md":"PHP Manual"},{"wrappers.md":"Підтримувані протоколи та обгортки"}]}},"__N_SSG":true}