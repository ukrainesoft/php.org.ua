- [« Функції FTP](ref.ftp.md)
- [ftp_append »](function.ftp-append.md)

- [PHP Manual](index.md)
- [Функції FTP](ref.ftp.md)
- Резервує місце на диску для файлу, що закачується

#ftp_alloc

(PHP 5, PHP 7, PHP 8)

ftp_alloc — Резервує місце на диску для файлу, що закачується

### Опис

**ftp_alloc**([FTP\Connection](class.ftp-connection.md) `$ftp`, int
`$size`, string `&$response` u003d **`null`**): bool

Надсилає команду `ALLO` FTP-серверу для резервування місця під
файл, що завантажується.

> **Примітка**:
>
> Багато FTP-серверів не підтримують цю команду. Такі сервери
> повертають код невдачі (**`false`**), що означає відсутність
> підтримки цієї команди, або код успішного виконання (**`true`**),
> що означає, що у резервуванні немає потреби і клієнту слід
> продовжувати, ніби операцію було виконано успішно. З цієї причини цю
> функцію слід використовувати із серверами, які вимагають
> обов'язкового резервування.

### Список параметрів

`ftp`
An [FTP\Connection](class.ftp-connection.md) instance.

`size`
Кількість байт, що резервуються.

`response`
Текстове подання відповіді сервера буде повернуто за посиланням
аргумент `response`, якщо він вказаний.

### Значення, що повертаються

Повертає **`true`** у разі успішного виконання або **`false`** у
у разі виникнення помилки.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- -------------------------------------------------- ------------|
| 8.1.0 | Параметр `ftp` тепер чекає на екземпляр [FTP\Connection](class.ftp-connection.md); раніше очікувався ресурс ([resource](language.types.resource.md)). |

### Приклади

**Приклад #1 Приклад використання **ftp_alloc()****

` <?php$file u003d "/home/user/myfile";/* з'єднання з сервером */$ftp u003d ftp_connect('ftp.example.com');$login_result u003d ftp_login($ftp, 'anonymous', ' user@example.com');if(ftp_alloc($ftp,filesize($file),$result)) { echo "Місце на сервері успішно зарезервовано. Відправляю $file.
"; ftp_put($conn_id, '/incoming/myfile', $file, FTP_BINARY);} else { echo "Не удалося зарезервувати місце на сервері. Відповідь сервера: $result
";}ftp_close($ftp);?> `

### Дивіться також

- [ftp_put()](function.ftp-put.md) - Завантажує файл на сервер FTP
- [ftp_fput()](function.ftp-fput.md) - Завантажує попередньо
відкритий файл на FTP-сервер
