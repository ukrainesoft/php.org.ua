- [«PDO::errorInfo](pdo.errorinfo.md)
- [PDO::getAttribute »](pdo.getattribute.md)

- [PHP Manual](index.md)
- [PDO](class.pdo.md)
- Виконує SQL-запит та повертає кількість порушених рядків

# PDO::exec

(PHP 5 u003d 5.1.0, PHP 7, PHP 8, PECL pdo u003d 0.1.0)

PDO::exec — Виконує SQL-запит і повертає кількість порушених
рядків

### Опис

public **PDO::exec**(string `$statement`): int\|false

**PDO::exec()** запускає SQL-запит на виконання та повертає
кількість рядків, задіяних у його виконання.

**PDO::exec()** не повертає результат вибірки оператором SELECT. Якщо
вам потрібно вибрати дані цим оператором один раз під час виконання
програми, скористайтесь методом [PDO::query()](pdo.query.md). Якщо
потрібно запускати один і той же запит на вибірку безліч разів, краще
створити підготовлений запит PDOStatement методом
[PDO::prepare()](pdo.prepare.md), а потім запускати його методом
[PDOStatement::execute()](pdostatement.execute.md) стільки разів,
скільки потрібно.

### Список параметрів

`statement`
SQL-вираз, який необхідно підготувати та запустити.

Дані всередині запиту повинні бути
екрановані](pdo.quote.md).

### Значення, що повертаються

**PDO::exec()** повертає кількість рядків, які були модифіковані
або видалені під час його виконання. Якщо таких рядків немає, **PDO::exec()**
поверне `0`.

**Увага**

Ця функція може повертати як логічне значення **`false`**, так і
значення не типу boolean, яке наводиться до **`false`**. Більше
Детальнішу інформацію зверніться до розділу [Булев
тип](language.types.boolean.md). Використовуйте [оператор
u003du003du003d](language.operators.comparison.md) для перевірки значення,
повертається цією функцією.

У цьому прикладі розробник припустився помилки, покладаючись на повертається
результат **PDO::exec()**. В результаті, якщо запит відпрацював без
помилок, але не модифікував жодного рядка, робота скрипта буде
завершено функцією [die()](function.die.md):

`<?php$db->exec() or die(print_r($db->errorInfo(), true)); // неправильно?> `

### Приклади

**Приклад #1 Виконання запиту DELETE**

Отримання кількості видалених записів запитом DELETE без умов
WHERE.

` <?php$dbh u003d new PDO('odbc:sample', 'db2inst1', 'ibmdb2');/*¦Видаляємо всі записи з таблиці FRUIT */$count u003d $dbh->exe| ;/* Отримаємо кількість віддалених записів */print("Видалено $count рядків.
");?> `

Результат виконання цього прикладу:

Видалено 1 рядок.

### Дивіться також

- [PDO::prepare()](pdo.prepare.md) - Підготовка запиту до
виконання та повертає пов'язаний з цим запитом об'єкт
- [PDO::query()](pdo.query.md) - Готує та виконує
вираз SQL без наповнювачів
- [PDOStatement::execute()](pdostatement.execute.md) - Запускає
підготовлений запит на виконання
