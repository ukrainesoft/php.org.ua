{"pageProps":{"page":{"slug":"function.spl-autoload-register.md","content":"# spl\\_autoload\\_register\n\n(PHP 5 >= 5.1.0, PHP 7, PHP 8)\n\nspl\\_autoload\\_register - Реєструє задану функцію як реалізацію методу \\_\\_autoload()\n\n### Опис\n\n```methodsynopsis\nspl_autoload_register(?callable $callback = null, bool $throw = true, bool $prepend = false): bool\n```\n\nРеєструє функцію \\_\\_autoload у наданій SPL черзі. В результаті чергу буде активовано, навіть якщо раніше її було вимкнено.\n\nЕсли в вашем скрипте реализована функция[\\_\\_autoload()](function.autoload.md), її необхідно явно зареєструвати у черзі \\_\\_autoload. Це потрібно, т.к . \\*\\*spl\\_autoload\\_register()\\*\\*полностью заменяет механизм кеширования[\\_\\_autoload()](function.autoload.md)функциями[spl\\_autoload()](function.spl-autoload.md) і [spl\\_autoload\\_call()](function.spl-autoload-call.md)\n\n**spl\\_autoload\\_register()** дозволяє задати кілька реалізацій методу автозавантаження. Вона створює чергу з функцій автозавантаження як їх визначення у скрипті, тоді як вбудована функція [\\_\\_autoload()](function.autoload.md) може мати лише одну реалізацію.\n\n### Список параметрів\n\n`callback`\n\nИмя функции, реализующей метод[spl\\_autoload()](function.spl-autoload.md). Якщо **`null`**, буде зареєстровано реалізацію за замовчуванням.\n\n```methodsynopsis\ncallback(string $class): void\n```\n\n`throw`\n\nЦей параметр визначає, чи має **spl\\_autoload\\_register()** викидати виняток, якщо зареєструвати `callback` виявилося неможливим.\n\n**Увага**\n\nПочинаючи з PHP 8.0.0, цей параметр ігнорується, а при установці значення **`false`** буде видано повідомлення. Функція **spl\\_autoload\\_register()** тепер завжди викидатиме виняток [TypeError](class.typeerror.md) у разі передачі некоректних аргументів.\n\n`prepend`\n\nЯкщо передано значення true, \\*\\*spl\\_autoload\\_register()\\*\\*поместит указанную функцию в начало очереди вместо добавления в конец.\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.0.0 | `callback` тепер допускає значення null. |\n\n### Приклади\n\n**Приклад #1**spl\\_autoload\\_register()\\*\\* як альтернатива функції [\\_\\_autoload()](function.autoload.md)\\*\\*\n\n```php\n<?php\n\n// function __autoload($class) {\n//     include 'classes/' . $class . '.class.php';\n// }\n\nfunction my_autoloader($class) {\n    include 'classes/' . $class . '.class.php';\n}\n\nspl_autoload_register('my_autoloader');\n\n// Можно использовать анонимные функции\nspl_autoload_register(function ($class) {\n    include 'classes/' . $class . '.class.php';\n});\n\n?>\n```\n\n**Приклад #2 Приклад використання** spl\\_autoload\\_register()\\*\\* у випадку, якщо клас не завантажився\\*\\*\n\n```php\n<?php\n\nnamespace Foobar;\n\nclass Foo {\n    static public function test($class) {\n        print '[['. $class .']]';\n    }\n}\n\nspl_autoload_register(__NAMESPACE__ .'\\Foo::test');\n\nnew InexistentClass;\n\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\n[[Foobar\\InexistentClass]]\nFatal error: Class 'Foobar\\InexistentClass' not found in ...\n```\n\n**Приклад #3 Ідентифікатор буде надано без провідного зворотного сліша**\n\n```php\n<?php\n\nspl_autoload_register(static function ($class) {\n    var_dump($class);\n});\n\nclass_exists('RelativeName');\nclass_exists('RelativeName\\\\WithNamespace');\nclass_exists('\\\\AbsoluteName');\nclass_exists('\\\\AbsoluteName\\\\WithNamespace');\n\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nstring(12) \"RelativeName\"\nstring(26) \"RelativeName\\WithNamespace\"\nstring(12) \"AbsoluteName\"\nstring(26) \"AbsoluteName\\WithNamespace\"\n```\n\n### Дивіться також\n\n-   [\\_\\_autoload()](function.autoload.md) \\- Спроба завантажити невизначений клас\n","title":"spl\\_autoload\\_register","contentType":2,"navigation":[{"function.spl-autoload-functions.md":"« spl\\_autoload\\_functions"},{"function.spl-autoload-unregister.md":"spl\\_autoload\\_unregister »"},{"index.md":"PHP Manual"},{"ref.spl.md":"Функції SPL"}]}},"__N_SSG":true}