{"pageProps":{"page":{"slug":"function.db2-lob-read.md","content":"# db2\\_lob\\_read\n\n(PECL ibm\\_db2 >= 1.6.0)\n\ndb2\\_lob\\_read — Отримує певний користувачем розмір LOB-файлів під час кожного виклику\n\n### Опис\n\n```methodsynopsis\ndb2_lob_read(resource $stmt, int $colnum, int $length): string|false\n```\n\nИспользуйте**db2\\_lob\\_read()** для ітерації за вказаним стовпцем набору результатів та отримання заданого користувачем розміру LOB-даних.\n\n### Список параметрів\n\n`stmt`\n\nДопустимий ресурс `stmt`містить LOB-дані.\n\n`colnum`\n\nДопустимий номер стовпця у наборі результатів ресурсу `stmt`\n\n`length`\n\nРозмір LOB-даних, що витягуються з ресурсу `stmt`\n\n### Значення, що повертаються\n\nПовертає кількість даних, вказаних користувачем. Повертає \\*\\*`false`\\*\\*якщо дані не можуть бути отримані.\n\n### Приклади\n\n**Приклад #1 Ітерації з різних типів даних**\n\n```php\n<?php\n\n/* Параметры подключения к базе данных */\n$db = 'SAMPLE';\n$username = 'db2inst1';\n$password = 'ibmdb2';\n\n/* Получение ресурса подключения */\n$conn = db2_connect($db,$username,$password);\n\nif ($conn) {\n    $drop = 'DROP TABLE clob_stream';\n    $result = @db2_exec( $conn, $drop );\n\n    $create = 'CREATE TABLE clob_stream (id INTEGER, my_clob CLOB)';\n    $result = db2_exec( $conn, $create );\n\n    $variable = \"\";\n    $stmt = db2_prepare($conn, \"INSERT INTO clob_stream (id,my_clob) VALUES (1, ?)\");\n    $variable = \"THIS IS A CLOB TEST. THIS IS A CLOB TEST.\";\n    db2_bind_param($stmt, 1, \"variable\", DB2_PARAM_IN);\n    db2_execute($stmt);\n\n    $sql = \"SELECT id,my_clob FROM clob_stream\";\n    $result = db2_prepare($conn, $sql);\n    db2_execute($result);\n    db2_fetch_row($result);\n    $i = 0;\n    /* Чтение LOB-данных */\n    while ($data = db2_lob_read($result, 2, 6)) {\n        echo \"Loop $i: $data\\n\";\n        $i = $i + 1;\n    }\n\n    $drop = 'DROP TABLE blob_stream';\n    $result = @db2_exec( $conn, $drop );\n\n    $create = 'CREATE TABLE blob_stream (id INTEGER, my_blob CLOB)';\n    $result = db2_exec( $conn, $create );\n\n    $variable = \"\";\n    $stmt = db2_prepare($conn, \"INSERT INTO blob_stream (id,my_blob) VALUES (1, ?)\");\n    $variable = \"THIS IS A BLOB TEST. THIS IS A BLOB TEST.\";\n    db2_bind_param($stmt, 1, \"variable\", DB2_PARAM_IN);\n    db2_execute($stmt);\n\n    $sql = \"SELECT id,my_blob FROM blob_stream\";\n    $result = db2_prepare($conn, $sql);\n    db2_execute($result);\n    db2_fetch_row($result);\n    $i = 0;\n    /* Чтенеи LOB-данных */\n    while ($data = db2_lob_read($result, 2, 6)) {\n        echo \"Loop $i: $data\\n\";\n        $i = $i + 1;\n    }\n} else {\n    echo 'Нет соединения: ' . db2_conn_errormsg();\n}\n\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nLoop 0: THIS I\nLoop 1: S A CL\nLoop 2: OB TES\nLoop 3: T. THI\nLoop 4: S IS A\nLoop 5:  CLOB\nLoop 6: TEST.\nLoop 0: THIS I\nLoop 1: S A BL\nLoop 2: OB TES\nLoop 3: T. THI\nLoop 4: S IS A\nLoop 5:  BLOB\nLoop 6: TEST.\n```\n\n### Дивіться також\n\n-   [db2\\_bind\\_param()](function.db2-bind-param.md) \\- Зв'язує змінну PHP із параметром SQL-виразу\n-   [db2\\_exec()](function.db2-exec.md) \\- Виконує SQL-запит безпосередньо\n-   [db2\\_execute()](function.db2-execute.md) \\- Виконує підготовлений SQL-запит\n-   [db2\\_fetch\\_row()](function.db2-fetch-row.md) \\- Встановлює вказівник набору результатів на наступний рядок або запрошений рядок\n-   [db2\\_prepare()](function.db2-prepare.md) \\- готує SQL-запит до виконання\n-   [db2\\_result()](function.db2-result.md) \\- Повертає один стовпець з рядка у наборі результатів\n","title":"db2\\_lob\\_read","contentType":2,"navigation":[{"function.db2-last-insert-id.md":"« db2\\_last\\_insert\\_id"},{"function.db2-next-result.md":"db2\\_next\\_result »"},{"index.md":"PHP Manual"},{"ref.ibm-db2.md":"Функції IBM DB2"}]}},"__N_SSG":true}