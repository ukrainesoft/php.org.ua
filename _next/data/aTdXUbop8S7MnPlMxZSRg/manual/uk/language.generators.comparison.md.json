{"pageProps":{"page":{"slug":"language.generators.comparison.md","content":"## Порівняння генераторів з об'єктами класу [Iterator](class.iterator.md)\n\nГоловна перевага генераторів – це їхня простота. Набагато менше шаблонного коду треба написати порівняно з реалізацією об'єкта класу [Iterator](class.iterator.md), і цей код набагато простіший і зрозуміліший. Наприклад, ця функція і клас роблять те саме.\n\n```php\n<?php\nfunction getLinesFromFile($fileName) {\n    if (!$fileHandle = fopen($fileName, 'r')) {\n        return;\n    }\n\n    while (false !== $line = fgets($fileHandle)) {\n        yield $line;\n    }\n\n    fclose($fileHandle);\n}\n\n// Против...\n\nclass LineIterator implements Iterator {\n    protected $fileHandle;\n\n    protected $line;\n    protected $i;\n\n    public function __construct($fileName) {\n        if (!$this->fileHandle = fopen($fileName, 'r')) {\n            throw new RuntimeException('Невозможно открыть файл \"' . $fileName . '\"');\n        }\n    }\n\n    public function rewind() {\n        fseek($this->fileHandle, 0);\n        $this->line = fgets($this->fileHandle);\n        $this->i = 0;\n    }\n\n    public function valid() {\n        return false !== $this->line;\n    }\n\n    public function current() {\n        return $this->line;\n    }\n\n    public function key() {\n        return $this->i;\n    }\n\n    public function next() {\n        if (false !== $this->line) {\n            $this->line = fgets($this->fileHandle);\n            $this->i++;\n        }\n    }\n\n    public function __destruct() {\n        fclose($this->fileHandle);\n    }\n}\n?>\n```\n\nОднак за цю простоту доводиться платити: генератори можуть бути тільки односпрямованими ітераторами. Їх не можна перемотати після старту ітерації. Це також означає, що той самий генератор не можна використовувати кілька разів: генератор необхідно перестворювати щоразу, знову викликавши функцію генератора.\n\n### Дивіться також\n\n-   [Ітератори об'єктів](language.oop5.iterations.md)\n","title":"Порівняння генераторів з об'єктами класу [Iterator](class.iterator.md)","contentType":2,"navigation":[{"language.generators.syntax.md":"« Синтаксис генераторів"},{"language.attributes.md":"Атрибути »"},{"index.md":"PHP Manual"},{"language.generators.md":"Генератори"}]}},"__N_SSG":true}