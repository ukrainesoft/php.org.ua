{"pageProps":{"page":{"slug":"function.oci-password-change.md","content":"# oci\\_password\\_change\n\n(PHP 5, PHP 7, PHP 8, PECL OCI8 >= 1.1.0)\n\noci\\_password\\_change — Змінює пароль користувача Oracle\n\n### Опис\n\n```methodsynopsis\noci_password_change(    resource $connection,    string $username,    string $old_password,    string $new_password): bool\n```\n\n```methodsynopsis\noci_password_change(    string $database_name,    string $username,    string $old_password,    string $new_password): resource\n```\n\nЗмінює пароль користувача, вказаного в `username`\n\nФункция**oci\\_password\\_change()** особливо корисна для скриптів PHP командного рядка або під час використання непостійних з'єднань у всьому додатку PHP.\n\n### Список параметрів\n\n`connection`\n\nІдентифікатор з'єднання, що повертається функцією [oci\\_connect()](function.oci-connect.md) або [oci\\_pconnect()](function.oci-pconnect.md)\n\n`username`\n\nІм'я користувача Oracle.\n\n`old_password`\n\nСтарий пароль.\n\n`new_password`\n\nНовий пароль.\n\n`database_name`\n\nНазва бази даних.\n\n### Значення, що повертаються\n\nЕсли указан параметр`database_name` **oci\\_password\\_change()** повертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки. Если указан параметр`connection` **oci\\_password\\_change()** повертає ресурс з'єднання у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Приклад використання** oci\\_password\\_change()\\*\\* зі зміною пароля вже підключеного користувача\\*\\*\n\n```php\n<?php\n\n$dbase      = 'localhost/orcl';\n$user       = 'cj';\n$current_pw = 'welcome';\n$new_pw     = 'geelong';\n\n$c = oci_pconnect($user, $current_pw, $dbase);\noci_password_change($c, $user, $current_pw, $new_pw);\necho \"Новый пароль : \" . $new_pw . \"\\n\";\n\n?>\n```\n\n**Приклад #2 Приклад використання** oci\\_password\\_change()\\*\\* із підключенням та зміною пароля одночасно\\*\\*\n\n```php\n<?php\n\n$dbase      = 'localhost/orcl';\n$user       = 'cj';\n$current_pw = 'welcome';\n$new_pw     = 'geelong';\n\n$c = oci_pconnect($user, $current_pw, $dbase);\nif (!$c) {\n    $m = oci_error();\n    if ($m['code'] == 28001) { // \"ORA-28001: the password has expired\"\n        // Подключение и сброс пароля одновременно\n        $c = oci_password_change($dbase, $user, $current_pw, $new_pw);\n        if ($c) {\n            echo \"Новый пароль : \" . $new_pw . \"\\n\";\n        }\n    }\n}\n\nif (!$c) {  // Ошибка не совпадала с 28001, или не получилось изменить пароль\n    $m = oci_error();\n    trigger_error('Не удалось подключиться к базе данных: '. $m['message'], E_USER_ERROR);\n}\n\n// Использование подключения $c\n// ...\n\n?>\n```\n\n### Примітки\n\n> **Зауваження** :\n> \n> Зміна пароля за допомогою цієї функції або безпосередньо в Oracle повинна виконуватися акуратно, оскільки PHP-додаток може продовжувати використовувати в постійних з'єднаннях дані автентифікації останнього успішного підключення, які вже застаріли. Найкращим рішенням може бути перезапуск усіх веб-серверів після зміни пароля.\n\n> **Зауваження** :\n> \n> При оновленні бібліотеки клієнта Oracle або бази даних від версії установки до версії 11.2.0.3 та вище функція **oci\\_password\\_change()** може повернути помилку \"ORA-1017: invalid username/password\" (Невірні ім'я користувача/пароль), якщо версії клієнта та сервера оновлені в один час.\n\n> **Зауваження** :\n> \n> Другий набір параметрів функції **oci\\_password\\_change()** доступний, починаючи з версії OCI8 1.1.\n","title":"oci\\_password\\_change","contentType":2,"navigation":[{"function.oci-parse.md":"« oci\\_parse"},{"function.oci-pconnect.md":"oci\\_pconnect »"},{"index.md":"PHP Manual"},{"ref.oci8.md":"OCI8 Функції"}]}},"__N_SSG":true}