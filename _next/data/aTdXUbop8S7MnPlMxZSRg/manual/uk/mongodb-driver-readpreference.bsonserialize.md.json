{"pageProps":{"page":{"slug":"mongodb-driver-readpreference.bsonserialize.md","content":"# MongoDB\\\\Driver\\\\ReadPreference::bsonSerialize\n\n(mongodb >=1.2.0)\n\nMongoDB\\\\Driver\\\\ReadPreference::bsonSerialize — Повертає об'єкт серіалізації BSON\n\n### Опис\n\n```methodsynopsis\nfinal public MongoDB\\Driver\\ReadPreference::bsonSerialize(): stdClass\n```\n\n### Список параметрів\n\nЦя функція не має параметрів.\n\n### Значення, що повертаються\n\nПовертає об'єкт серіалізації ReadPreference як BSON.\n\n### Помилки\n\n-   При помилці парсингу аргумент кидає виняток[MongoDB\\\\Driver\\\\Exception\\\\InvalidArgumentException](class.mongodb-driver-exception-invalidargumentexception.md)\n\n### Приклади\n\n**Приклад #1 Приклад використання** MongoDB\\\\Driver\\\\ReadPreference::bsonSerialize()\\*\\* з первинною перевагою читання\\*\\*\n\n```php\n<?php\n\n$rp = new MongoDB\\Driver\\ReadPreference(MongoDB\\Driver\\ReadPreference::RP_PRIMARY);\nvar_dump($rp->bsonSerialize());\n\necho \"\\n\", MongoDB\\BSON\\toJSON(MongoDB\\BSON\\fromPHP($rp));\n\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\nobject(stdClass)#2 (1) {\n  [\"mode\"]=>\n  string(7) \"primary\"\n}\n\n{ \"mode\" : \"primary\" }\n```\n\n**Приклад #2 Приклад використання** MongoDB\\\\Driver\\\\ReadPreference::bsonSerialize()\\*\\* з вторинною перевагою читання та наборами тегів\\*\\*\n\n```php\n<?php\n\n$rp = new MongoDB\\Driver\\ReadPreference(\n    MongoDB\\Driver\\ReadPreference::RP_SECONDARY,\n    [\n        ['dc' => 'ny'],\n        ['dc' => 'sf', 'use' => 'reporting'],\n        []\n    ]\n);\nvar_dump($rp->bsonSerialize());\n\necho \"\\n\", MongoDB\\BSON\\toJSON(MongoDB\\BSON\\fromPHP($rp));\n\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\nobject(stdClass)#2 (2) {\n  [\"mode\"]=>\n  string(9) \"secondary\"\n  [\"tags\"]=>\n  array(3) {\n    [0]=>\n    object(stdClass)#1 (1) {\n      [\"dc\"]=>\n      string(2) \"ny\"\n    }\n    [1]=>\n    object(stdClass)#5 (2) {\n      [\"dc\"]=>\n      string(2) \"sf\"\n      [\"use\"]=>\n      string(9) \"reporting\"\n    }\n    [2]=>\n    object(stdClass)#4 (0) {\n    }\n  }\n}\n\n{ \"mode\" : \"secondary\", \"tags\" : [ { \"dc\" : \"ny\" }, { \"dc\" : \"sf\", \"use\" : \"reporting\" }, {  } ] }\n```\n\n**Приклад #3 Приклад використання** MongoDB\\\\Driver\\\\ReadPreference::bsonSerialize()\\*\\* з вторинною перевагою читання та максимальним staleness\\*\\*\n\n```php\n<?php\n\n$rp = new MongoDB\\Driver\\ReadPreference(\n    MongoDB\\Driver\\ReadPreference::RP_SECONDARY,\n    null,\n    ['maxStalenessSeconds' => 120]\n);\nvar_dump($rp->bsonSerialize());\n\necho \"\\n\", MongoDB\\BSON\\toJSON(MongoDB\\BSON\\fromPHP($rp));\n\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\nobject(stdClass)#2 (2) {\n  [\"mode\"]=>\n  string(9) \"secondary\"\n  [\"maxStalenessSeconds\"]=>\n  int(120)\n}\n\n{ \"mode\" : \"secondary\", \"maxStalenessSeconds\" : 120 }\n```\n\n### Дивіться також\n\n-   [MongoDB\\\\BSON\\\\Serializable::bsonSerialize()](mongodb-bson-serializable.bsonserialize.md) \\- Надає масив або документ для серіалізації у BSON\n-   [» Довідкова інформація щодо переваги читання](https://www.mongodb.com/docs/manual/core/read-preference/)\n","title":"MongoDB\\\\Driver\\\\ReadPreference::bsonSerialize","contentType":2,"navigation":[{"class.mongodb-driver-readpreference.md":"« MongoDB\\\\Driver\\\\ReadPreference"},{"mongodb-driver-readpreference.construct.md":"MongoDB\\\\Driver\\\\ReadPreference::\\_\\_construct »"},{"index.md":"PHP Manual"},{"class.mongodb-driver-readpreference.md":"MongoDB\\\\Driver\\\\ReadPreference"}]}},"__N_SSG":true}