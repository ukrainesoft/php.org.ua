{"pageProps":{"page":{"slug":"function.getopt.md","content":"# getopt\n\n(PHP 4 >= 4.3.0, PHP 5, PHP 7, PHP 8)\n\ngetopt — Отримує параметри зі списку аргументів командного рядка\n\n### Опис\n\n```methodsynopsis\ngetopt(string $short_options, array $long_options = [], int &$rest_index = null): array|false\n```\n\nАналізує параметри, передані в скрипт.\n\n### Список параметрів\n\n`short_options`\n\nКожен символ у цьому рядку розглядатиметься як параметр і порівнюватиметься із символами, переданими у скрипт, перед якими стоятиме дефіс (`-`). НаПриклад, строка параметров`\"x\"` розпізнається як параметр `-x`. Допускаються лише символи a-z, A-Z та 0-9.\n\n`long_options`\n\nМасив параметрів. Кожен елемент масиву використовуватиметься як рядковий параметр і порівнюватиметься з параметрами, переданими в скрипт, перед якими стоятиме подвійний дефіс (`--`). Наприклад, елемент longopts `\"opt\"` буде розшифровуватися як `--opt`\n\n`rest_index`\n\nЕсли задан параметр`rest_index`, то індекс, на якому зупинився розбір, буде записано до нього.\n\nАргумент`short_options` може містити такі елементи:\n\n-   Окремі символи (що не мають значень)\n-   Символи, за якими слідує двокрапка (параметр вимагає значення)\n-   Символи, за якими слідує дві двокрапки (необов'язкове значення)\n\nЗначення параметрів йдуть за рядком параметра (символом). Якщо потрібно значення, то немає різниці, є між ними пробіл чи ні.\n\n> **Зауваження**: Необов'язкові значення не можна відокремлювати від інших пропусків `\" \"`\n\nЗначення масиву `long_options` можуть містити:\n\n-   Рядок (параметр не набуває жодних значень)\n-   Рядок, за яким слідує двокрапка (параметр вимагає значення)\n-   Рядок, за яким слідує дві двокрапки (необов'язкове значення)\n\n> **Зауваження** :\n> \n> Формати `short_options`и`long_options` практично збігаються. Відмінність полягає лише в тому, що `long_options` приймає масив параметрів (у якому кожен елемент є параметром) у той час, як `short_options` приймає рядок (де параметром є кожен символ).\n\n### Значення, що повертаються\n\nФункція поверне масив пар параметрів/аргументів або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n> **Зауваження** :\n> \n> Як тільки зустрінеться перший символ, що не є параметром, розбір рядка команди буде завершено, а частина рядка, що залишилася, буде проігнорована.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 7.1.0 | Добавлен параметр`rest_index` |\n\n### Приклади\n\n**Приклад #1 Приклад використання** getopt()**: основи**\n\n```php\n<?php\n// Скрипт example.php\n$options = getopt(\"f:hp:\");\nvar_dump($options);\n?>\n```\n\nshell> php example.php -fvalue -h\n\nРезультат виконання наведеного прикладу:\n\n```\narray(2) {\n  [\"f\"]=>\n  string(5) \"value\"\n  [\"h\"]=>\n  bool(false)\n}\n```\n\n**Приклад #2 Приклад використання** getopt()**: додавання довгих опцій**\n\n```php\n<?php\n// Скрипт example.php\n$shortopts  = \"\";\n$shortopts .= \"f:\";  // Обязательное значение\n$shortopts .= \"v::\"; // Необязательное значение\n$shortopts .= \"abc\"; // Эти параметры не принимают никаких значений\n\n$longopts  = array(\n    \"required:\",     // Обязательное значение\n    \"optional::\",    // Необязательное значение\n    \"option\",        // Нет значения\n    \"opt\",           // Нет значения\n);\n$options = getopt($shortopts, $longopts);\nvar_dump($options);\n?>\n```\n\nshell> php example.php -f \"value for f\" -v -a --required value --optional=\"optional value\" --option\n\nРезультат виконання наведеного прикладу:\n\n```\narray(6) {\n  [\"f\"]=>\n  string(11) \"value for f\"\n  [\"v\"]=>\n  bool(false)\n  [\"a\"]=>\n  bool(false)\n  [\"required\"]=>\n  string(5) \"value\"\n  [\"optional\"]=>\n  string(14) \"optional value\"\n  [\"option\"]=>\n  bool(false)\n}\n```\n\n**Приклад #3 Приклад використання** getopt()**: Передача кількох параметрів як одного**\n\n```php\n<?php\n// Скрипт example.php\n$options = getopt(\"abc\");\nvar_dump($options);\n?>\n```\n\nshell> php example.php -aaac\n\nРезультат виконання наведеного прикладу:\n\n```\narray(2) {\n  [\"a\"]=>\n  array(3) {\n    [0]=>\n    bool(false)\n    [1]=>\n    bool(false)\n    [2]=>\n    bool(false)\n  }\n  [\"c\"]=>\n  bool(false)\n}\n```\n\n**Приклад #4 Приклад**getopt()**с параметром`rest_index`**\n\n```php\n<?php\n// Скрипт example.php\n$rest_index = null;\n$opts = getopt('a:b:', [], $rest_index);\n$pos_args = array_slice($argv, $rest_index);\nvar_dump($pos_args);\n```\n\nshell> php example.php -a 1 -b 2 -- test\n\nРезультат виконання наведеного прикладу:\n\n```\narray(1) {\n  [0]=>\n  string(4) \"test\"\n}\n```\n\n### Дивіться також\n\n-   [](reserved.variables.argv.md)[$argv](reserved.variables.argv.md)\n","title":"getopt","contentType":2,"navigation":[{"function.getmyuid.md":"« getmyuid"},{"function.getrusage.md":"getrusage »"},{"index.md":"PHP Manual"},{"ref.info.md":"Опції PHP/інформаційні функції"}]}},"__N_SSG":true}