{"pageProps":{"page":{"slug":"function.dba-open.md","content":"# dba\\_open\n\n(PHP 4, PHP 5, PHP 7, PHP 8)\n\ndba\\_open — Відкриває базу даних\n\n### Опис\n\n```methodsynopsis\ndba_open(    string $path,    string $mode,    ?string $handler = null,    int $permission = 0644,    int $map_size = 0,    ?int $flags = null): resource|false\n```\n\n**dba\\_open()** встановлює екземпляр бази даних шляхом `path`в режиме`mode`используя обработчик`handler`\n\n### Список параметрів\n\n`path`\n\nШлях до файлів бази даних.\n\n`mode`\n\n`r`для режима чтения,`w` для режиму читання/запису з вже існуючою базою даних . `c` для режиму читання/запису та створення бази даних, якщо вона ще не була створена, та `n` для створення, обрізання та доступу для читання/запису. База даних створюється з архітектурою BTree, інші архітектури (на зразок Hash або Queue) не підтримуються.\n\nДодатково, за допомогою наступного символу, можна встановити режим блокування бази даних . `l` для блокування бази даних за допомогою файлу .lck, або `d` для самостійного блокування засобами самої бази. Важливо, щоб усі ваші програми робили це узгоджено.\n\nЯкщо ви хочете просто перевірити доступ і не хочете чекати на звільнення блокування, ви можете додати третій символ `t`. Якщо ви абсолютно впевнені, що не потрібно використовувати блокування бази даних, ви можете використовувати символ `-` замість `l`или`d`. Якщо жоден із символів: `d` `l`или`-` не заданий, база даних використовуватиме режим `d`\n\n> **Зауваження** :\n> \n> Одночасно може бути лише один процес, що пише в базу даних. Коли ви використовуєте dba на веб-сервері, і більш ніж один запит вимагає запису до бази даних, вони можуть це робити лише по черзі. Також, у момент читання запис не доступний. Модуль dba використовує блокування для запобігання небажаній поведінці. Вивчіть наступну таблицю:\n> \n> **Блокування DBA**\n> \n> | уже открыта | `mode` = \"rl\" | `mode` = \"rlt\" | `mode` = \"wl\" | `mode` = \"wlt\" | `mode` = \"rd\" | `mode` = \"rdt\" | `mode` = \"wd\" | `mode` = \"wdt\" |\n> | --- | --- | --- | --- | --- | --- | --- | --- | --- |\n> | не відкрита | ok | ok | ok | ok | ok | ok | ok | ok |\n> | `mode` = \"rl\" | ok | ok | wait | false | illegal | illegal | illegal | illegal |\n> | `mode` = \"wl\" | wait | false | wait | false | illegal | illegal | illegal | illegal |\n> | `mode` = \"rd\" | illegal | illegal | illegal | illegal | ok | ok | wait | false |\n> | `mode` = \"wd\" | illegal | illegal | illegal | illegal | wait | false | wait | false |\n> \n> -   ok: другий виклик буде успішним.\n> -   wait: другий виклик буде чекати, доки перший не викличе[dba\\_close()](function.dba-close.md)\n> -   false: другий виклик поверне\\*\\*`false`\\*\\*\n> -   illegal: ви не можете змішувати модифікатори`\"l\"`и`\"d\"`в параметре`mode`\n\n`handler`\n\nИмя[оброблювача](dba.requirements.md), який буде використовуватися для доступу на шляху `path`. Йому передаються всі необов'язкові параметри, задані в **dba\\_open()**. Якщо параметр `handler`равен\\*\\*`null`\\*\\*то викликається обробник за замовчуванням.\n\n`permission`\n\nНеобов'язковий параметр, заданий цілим числом (int), який надсилається драйверу. У нього те саме значення, що й у параметра `permissions` функції [chmod()](function.chmod.md), значение по умолчанию -`0644`\n\nДрайвери `db1` `db2` `db3` `db4` `dbm` `gdbm` `ndbm`и`lmdb`поддерживают параметр`permission`\n\n`map_size`\n\nНеобов'язковий параметр, заданий цілим числом (int), який надсилається драйверу. Його значення має бути кратно розміру сторінки ОС або нулю, щоб використовувати розмір карти за замовчуванням.\n\nЛише драйвер `lmdb`допускает параметр`map_size`\n\n`flags`\n\nПрапори передачі драйверам бази даних. Якщо вказано значення **`null`**, будуть надіслані прапори за замовчуванням. В даний час лише драйвер LMDB підтримує такі прапори: **`DBA_LMDB_USE_SUB_DIR`** і **`DBA_LMDB_NO_SUB_DIR`**\n\n### Значення, що повертаються\n\nПовертає обробник у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Помилки\n\nФункція повертає значення **`false`** та видає помилку рівня **`E_WARNING`**, якщо параметр `handler`равен\\*\\*`null`\\*\\*але немає оброблювача за замовчуванням.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.2.0 | Добавлен параметр`flags` |\n| 8.2.0 | Параметр`handler` тепер припускає значення **`null`** |\n| 7.3.14, 7.4.2 | Драйвер `lmdb` тепер підтримує додатковий параметр `map_size` |\n\n### Дивіться також\n\n-   [dba\\_popen()](function.dba-popen.md) \\- встановити постійний екземпляр бази даних\n-   [dba\\_close()](function.dba-close.md) \\- Закриває базу даних DBA\n","title":"dba\\_open","contentType":2,"navigation":[{"function.dba-nextkey.md":"« dba\\_nextkey"},{"function.dba-optimize.md":"dba\\_optimize »"},{"index.md":"PHP Manual"},{"ref.dba.md":"Функції DBA"}]}},"__N_SSG":true}