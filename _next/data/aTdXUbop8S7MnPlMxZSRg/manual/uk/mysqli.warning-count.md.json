{"pageProps":{"page":{"slug":"mysqli.warning-count.md","content":"# mysqli::$warning\\_count\n\n# mysqli\\_warning\\_count\n\n(PHP 5, PHP 7, PHP 8)\n\nmysqli::$warning\\_count -- mysqli\\_warning\\_count — Повертає кількість попереджень із останнього запиту заданого підключення\n\n### Опис\n\nОб'єктно-орієнтований стиль\n\nint[$mysqli->warning\\_count](mysqli.warning-count.md)\n\nПроцедурний стиль\n\n```methodsynopsis\nmysqli_warning_count(mysqli $mysql): int\n```\n\nПовертає кількість попереджень із останнього запиту.\n\n> **Зауваження** :\n> \n> Для отримання попереджень можна використовувати SQL-команду `SHOW WARNINGS [limit row_count]`\n\n### Список параметрів\n\n`mysql`\n\nТільки для процедурного стилю: об'єкт [mysqli](class.mysqli.md), який повернула функція [mysqli\\_connect()](function.mysqli-connect.md)или функция[mysqli\\_init()](mysqli.init.md)\n\n### Значення, що повертаються\n\nКількість попереджень чи нуль, якщо таких немає.\n\n### Приклади\n\n**Приклад #1 Приклад використання $mysqli->warning\\_count**\n\nОб'єктно-орієнтований стиль\n\n```php\n<?php\n$mysqli = new mysqli(\"localhost\", \"my_user\", \"my_password\", \"world\");\n\n/* проверка соединения */\nif (mysqli_connect_errno()) {\n    printf(\"Не удалось подключиться: %s\\n\", mysqli_connect_error());\n    exit();\n}\n\n$mysqli->query(\"CREATE TABLE myCity LIKE City\");\n\n/* знаменитый город в Уэльсе */\n$query = \"INSERT INTO myCity (CountryCode, Name) VALUES('GBR',\n        'Llanfairpwllgwyngyllgogerychwyrndrobwllllantysiliogogogoch')\";\n\n$mysqli->query($query);\n\nif ($mysqli->warning_count) {\n    if ($result = $mysqli->query(\"SHOW WARNINGS\")) {\n        $row = $result->fetch_row();\n        printf(\"%s (%d): %s\\n\", $row[0], $row[1], $row[2]);\n        $result->close();\n    }\n}\n\n/* закрываем соединение */\n$mysqli->close();\n?>\n```\n\nПроцедурний стиль\n\n```php\n<?php\n$link = mysqli_connect(\"localhost\", \"my_user\", \"my_password\", \"world\");\n\n/* проверка соединения */\nif (mysqli_connect_errno()) {\n    printf(\"Не удалось подключиться: %s\\n\", mysqli_connect_error());\n    exit();\n}\n\nmysqli_query($link, \"CREATE TABLE myCity LIKE City\");\n\n/* знаменитый город в Уэльсе */\n$query = \"INSERT INTO myCity (CountryCode, Name) VALUES('GBR',\n        'Llanfairpwllgwyngyllgogerychwyrndrobwllllantysiliogogogoch')\";\n\nmysqli_query($link, $query);\n\nif (mysqli_warning_count($link)) {\n    if ($result = mysqli_query($link, \"SHOW WARNINGS\")) {\n        $row = mysqli_fetch_row($result);\n        printf(\"%s (%d): %s\\n\", $row[0], $row[1], $row[2]);\n        mysqli_free_result($result);\n    }\n}\n\n/* закрываем соединение */\nmysqli_close($link);\n?>\n```\n\nРезультат виконання наведених прикладів:\n\n```\nWarning (1264): Data truncated for column 'Name' at row 1\n```\n\n### Дивіться також\n\n-   [mysqli\\_errno()](mysqli.errno.md) \\- Повертає код помилки останнього виклику функції\n-   [mysqli\\_error()](mysqli.error.md) \\- Повертає рядок із описом останньої помилки\n-   [mysqli\\_sqlstate()](mysqli.sqlstate.md) \\- Повертає код стану SQLSTATE останній MySQL операції\n","title":"mysqli::$warning\\_count","contentType":2,"navigation":[{"mysqli.use-result.md":"« mysqli::use\\_result"},{"class.mysqli-stmt.md":"mysqli\\_stmt »"},{"index.md":"PHP Manual"},{"class.mysqli.md":"mysqli"}]}},"__N_SSG":true}