- [« mhash_get_hash_name](function.mhash-get-hash-name.md)
- [mhash »](function.mhash.md)

- [PHP Manual](index.md)
- [Функції Mhash](ref.mhash.md)
- Генерація ключа

#mhash_keygen_s2k

(PHP 4 \>u003d 4.0.4, PHP 5, PHP 7, PHP 8)

mhash_keygen_s2k — Генерація ключа

**Увага**

Функція оголошена *УСТАРНІЙ*, починаючи з PHP 8.1.0. Використати цю
функцію не рекомендується.

### Опис

**mhash_keygen_s2k**(
int `$algo`,
string `$password`,
string `$salt`,
int `$length`
): string\|false

Генерує ключ відповідно до заданого `algo` та вказаного пароля
`password`.

Використовується алгоритм S2K із сіллю, як описано у документі OpenPGP
([»RFC 2440](http://www.faqs.org/rfcs/rfc2440)).

Пам'ятайте, що паролі користувача не є відповідними ключами для
криптографічних алгоритмів, тому що зазвичай вони як мінімум набираються
на клавіатурі. Такі паролі використовують лише 6-7 біт (або менше) на
символ. Так що такі паролі рекомендується попередньо
перетворювати (наприклад, цією функцією).

### Список параметрів

`algo`
Ідентифікатор хешу. Одна з констант **`MHASH_hashname`**.

`password`
Користувальницький пароль.

`salt`
Повинна бути різною і досить випадковою для кожного створюваного
ключа. Оскільки `salt` має бути відома під час перевірки ключа, то
гарною ідеєю буде додати її до ключа. Сіль має фіксований розмір
у 8 байт і буде доповнено нулями, якщо заданий параметр буде коротшим.

`length`
Довжина ключа у байтах.

### Значення, що повертаються

Повертає рядок із ключем або **`false`** у разі виникнення
помилки.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- -|
| 8.1.0 | Функція оголошена застарілою. Використовуйте замість неї [функції `hash_*()`](ref.hash.md). |
