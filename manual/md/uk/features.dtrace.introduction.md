- [« Динамічна трасування DTrace](features.dtrace.md)
- [Використання PHP та DTrace »](features.dtrace.dtrace.md)

- [PHP Manual](index.md)
- [Динамічна трасування DTrace](features.dtrace.md)
- Введення в PHP та DTrace

## Введення в PHP та DTrace

DTrace - це завжди доступний, що практично не споживає ресурсів
фреймворк трасування. Він доступний на безлічі платформ, включаючи
Solaris, macOS, Oracle Linux та BSD. DTrace може відстежувати поведінку
операційної системи та запущених користувацьких додатків. Він може
показувати значення параметрів та використовується для виведення статистики
продуктивність. Зонди відстежуються користувальницькими скриптами,
написаними скриптовою мовою DTrace D. Це дозволяє ефективно
аналізувати зрізи даних.

Зонди PHP, які не відстежуються користувальницькими DTrace D
скриптами, що не містять жодного додаткового коду і, отже,
під час нормальної роботи програми, жодної деградації
продуктивність не відбувається. Відстежувані зонди, у свою чергу,
дають дуже низьку просідання продуктивності, що дозволяє
використовувати їх у промислових середовищах.

PHP включає зонди "Статично визначеного трасування рівня
користувача" (User-level Statically Defined Tracing, або USDT), які
працюють під час виконання. Наприклад, коли D-скрипт відстежує зонд
`function-entry`, то щоразу при виклику функції, цей зонд запускає
відповідна дія D-скрипту. Ця дія, наприклад, друкує
аргументи зонда, такі як розташування цієї функції у PHP-скрипті. Або
це може бути агрегація даних, таких як кількість запусків кожної
із функції.

Тут описуються лише зонди PHP USDT. Для отримання інформації про те,
як стежити за довільними функціями та відстежувати поведінку
операційної системи, читайте відповідну літературу, специфічну
для кожної операційної системи та зовнішню повноцінну документацію
DTrace. Зверніть увагу, що різні реалізації DTrace можуть
відрізнятись набором доступного функціоналу.

Статичні зонди DTrace включені до PHP 5.4. До цієї версії їх можна
підключити як модуль [»PECL](https://pecl.php.net/), який зараз
вже досить марний.

Статичні зонди DTrace в PHP, також можуть бути використані з
SystemTap у деяких дистрибутивах Linux.
