{"pageProps":{"page":{"slug":"function.ftp-alloc.md","content":"# ftp\\_alloc\n\n(PHP 5, PHP 7, PHP 8)\n\nftp\\_alloc — Резервує місце на диску для закачуваного файлу\n\n### Опис\n\n```methodsynopsis\nftp_alloc(FTP\\Connection $ftp, int $size, string &$response = null): bool\n```\n\nНадсилає команду `ALLO` FTP-серверу для резервування місця під файл, що завантажується.\n\n> **Зауваження** :\n> \n> Багато FTP-серверів не підтримують цю команду. Такі сервери повертають код невдачі (**`false`**), що означає відсутність підтримки цієї команди, або код успішного виконання (**`true`**), що означає, що в резервуванні немає необхідності і клієнту слід продовжувати, ніби операція була успішно виконана. Тому цю функцію слід використовувати з серверами, які потребують обов'язкового резервування.\n\n### Список параметрів\n\n`ftp`\n\nAn[FTP\\\\Connection](class.ftp-connection.md)instance.\n\n`size`\n\nКількість байт, що резервуються.\n\n`response`\n\nТекстове подання відповіді сервера буде повернуто за посиланням у аргумент `response`якщо він вказаний.\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.1.0 | Параметр`ftp` тепер чекає екземпляр [FTP\\\\Connection](class.ftp-connection.md); раніше очікувався ресурс ([resource](language.types.resource.md) |\n\n### Приклади\n\n**Приклад #1 Приклад використання** ftp\\_alloc()\\*\\*\\*\\*\n\n```php\n<?php\n\n$file = \"/home/user/myfile\";\n\n/* соединение с сервером */\n$ftp = ftp_connect('ftp.example.com');\n$login_result = ftp_login($ftp, 'anonymous', 'user@example.com');\n\nif (ftp_alloc($ftp, filesize($file), $result)) {\n  echo \"Место на сервере успешно зарезервировано.  Отправляю $file.\\n\";\n  ftp_put($conn_id, '/incoming/myfile', $file, FTP_BINARY);\n} else {\n  echo \"Не удалось зарезервировать место на сервере. Ответ сервера: $result\\n\";\n}\n\nftp_close($ftp);\n\n?>\n```\n\n### Дивіться також\n\n-   [ftp\\_put()](function.ftp-put.md) \\- Завантажує файл на FTP-сервер\n-   [ftp\\_fput()](function.ftp-fput.md) \\- Завантажує попередньо відкритий файл на FTP-сервер\n","title":"ftp\\_alloc","contentType":2,"navigation":[{"ref.ftp.md":"« Функції FTP"},{"function.ftp-append.md":"ftp\\_append »"},{"index.md":"PHP Manual"},{"ref.ftp.md":"Функції FTP"}]}},"__N_SSG":true}