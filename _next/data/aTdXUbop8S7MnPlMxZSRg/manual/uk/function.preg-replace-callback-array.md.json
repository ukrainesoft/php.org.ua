{"pageProps":{"page":{"slug":"function.preg-replace-callback-array.md","content":"# preg\\_replace\\_callback\\_array\n\n(PHP 7, PHP 8)\n\npreg\\_replace\\_callback\\_array — Здійснює пошук та заміну за регулярним виразом за допомогою функцій зворотного дзвінка.\n\n### Опис\n\n```methodsynopsis\npreg_replace_callback_array(    array $pattern,    string|array $subject,    int $limit = -1,    int &$count = null,    int $flags = 0): string|array|null\n```\n\nПоведінка цієї функції схожа на [preg\\_replace\\_callback()](function.preg-replace-callback.md), за винятком того, що для кожного шаблону використовується своя функція зворотного дзвінка.\n\n### Список параметрів\n\n`pattern`\n\nАсоціативний масив, що зв'язує шаблони регулярного вираження (ключі) та [callable](language.types.callable.md)(значения).\n\n`subject`\n\nРядок, в якому буде здійснюватися пошук та заміна.\n\n`limit`\n\nМаксимальна кількість замін для кожного шаблону в рядку `subject`По умолчанию`-1` (без обмежень).\n\n`count`\n\nЯкщо заданий, то в зазначену змінну буде записано кількість зроблених замін.\n\n`flags`\n\n`flags` може бути комбінацією прапорів \\*\\*`PREG_OFFSET_CAPTURE`** і **`PREG_UNMATCHED_AS_NULL`\\*\\*які впливають на формат масиву збігів. Дивіться опис у [preg\\_match()](function.preg-match.md) для більш детальної інформації.\n\n### Значення, що повертаються\n\n**preg\\_replace\\_callback\\_array()** повертає масив, якщо параметр `subject` є масивом та рядок, якщо рядком. У разі виникнення помилки повертається **`null`**\n\nЯкщо збіги знайдені, буде повернуто новий рядок, а якщо ні, то вихідний `subject`\n\n### Помилки\n\nЯкщо переданий шаблон регулярного виразу не компілюється в допустимий регулярний вираз, видається помилка рівня **`E_WARNING`**\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 7.4.0 | Добавлен параметр`flags` |\n\n### Приклади\n\n**Приклад #1 Приклад використання** preg\\_replace\\_callback\\_array()\\*\\*\\*\\*\n\n```php\n<?php\n$subject = 'Aaaaaa Bbb';\n\npreg_replace_callback_array(\n    [\n        '~[a]+~i' => function ($match) {\n            echo 'Найдено ', strlen($match[0]), ' совпадений \"a\"', PHP_EOL;\n        },\n        '~[b]+~i' => function ($match) {\n            echo 'Найдено ', strlen($match[0]), ' совпадений \"b\"', PHP_EOL;\n        }\n    ],\n    $subject\n);\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nНайдено 6 совпадений \"a\"\nНайдено 3 совпадений \"b\"\n```\n\n### Дивіться також\n\n-   [Шаблони PCRE](pcre.pattern.md)\n-   [preg\\_replace\\_callback()](function.preg-replace-callback.md) \\- Виконує пошук за регулярним виразом та заміною з використанням callback-функції\n-   [preg\\_quote()](function.preg-quote.md) \\- Екранує символи у регулярних виразах\n-   [preg\\_replace()](function.preg-replace.md) \\- Виконує пошук та заміну за регулярним виразом\n-   [preg\\_last\\_error()](function.preg-last-error.md) \\- Повертає код помилки виконання останнього регулярного вираження PCRE\n-   [Анонімні функції](functions.anonymous.md)\n","title":"preg\\_replace\\_callback\\_array","contentType":2,"navigation":[{"function.preg-quote.md":"« preg\\_quote"},{"function.preg-replace-callback.md":"preg\\_replace\\_callback »"},{"index.md":"PHP Manual"},{"ref.pcre.md":"Функції PCRE"}]}},"__N_SSG":true}