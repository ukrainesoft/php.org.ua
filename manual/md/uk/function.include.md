- [«require](function.require.md)
- [require_once »] (function.require-once.md)

- [PHP Manual](index.md)
- [Керування конструкції](language.control-structures.md)
- include

## include

(PHP 4, PHP 5, PHP 7, PHP 8)

Вираз `include` включає та виконує зазначений файл.

Документація нижче також відноситься до виразу
[require](function.require.md).

Файли включаються виходячи з шляху зазначеного файлу, або якщо шлях не
вказано, використовується шлях, вказаний у директиві
[include_path](ini.core.md#ini.include-path). Якщо файл не знайдений у
[include_path](ini.core.md#ini.include-path), `include` спробує
перевірити директорію, в якій знаходиться поточний скрипт і
поточну робочу директорію перед тим, як видати помилку. Конструкція
`include` видасть **`E_WARNING`**, якщо не зможе знайти файл; поведінка
на відміну від [require](function.require.md), який видасть
**`E_ERROR`**.

Зверніть увагу, що і `include` і `require` видають додаткову
помилку рівня **`E_WARNING`**, якщо до файлу неможливо отримати доступ,
перед тим, як видати останню помилку рівня **`E_WARNING`** або
**`E_ERROR`** відповідно.

Якщо шлях зазначений - абсолютний (починається з літери диска або з `\'
Windows або з `/` в Unix/Linux системах) або щодо поточної
директорії (починається з `.` або `..`)
[include_path](ini.core.md#ini.include-path) буде проігноровано
взагалі. Наприклад, якщо ім'я файлу починається з `../`, парсер шукатиме
у батьківській директорії запитаний файл.

Для додаткової інформації про те, як PHP обробляє включаються
файли та шляхи, що включаються, дивіться документацію для директиви
[include_path](ini.core.md#ini.include-path).

Коли файл вмикається, його код успадковує ту ж [область видимості
змінних](language.variables.scope.md), що й рядок, на якому
відбулося включення. Всі змінні, доступні на цьому рядку
що включає файл, будуть також доступні у файлі. Однак усі
функції та класи, оголошені у файлі, що включається, мають глобальну
область видимості.

**Приклад #1 Простий приклад `include`**

` vars.php<?php$color u003d 'зелене';$fruit u003d 'яблуко';?>test.php<?phpecho "Одне $color $fruit"; // Одноinclude 'vars.php';echo "Одно $color $fruit"; // Одне зелене яблуко?> `

Якщо включення відбувається всередині функції файлу, що включає, тоді весь
код, що міститься в файлі, буде поводитися так, начебто
він був визначений усередині цієї функції. Тобто він буде в тій же області
видимості змінних цієї функції. Винятком до цього правила є
[магічні константи](language.constants.predefined.md), які
виконуються парсером перед тим, як відбувається увімкнення.

**Приклад #2 Увімкнення всередині функції**

`<?phpfunction foo(){   global $color; include 'vars.php'; echo "Одно $color $fruit";}/* vars.php в той же области видимости, что и foo(),  ** поэтому $fruit НЕ будет доступен за пределами этой области     ** $color доступен, поскольку мы объявили переменную глобальной */foo(); // Одне зелене яблукоecho "Одне $color $fruit"; // Одно зелене?> `

Коли файл вмикається, парсинг у режимі PHP-коду припиняється та
перемикається в режим HTML на початку вказаного файлу і продовжується
знову наприкінці. З цієї причини будь-який код всередині файлу,
який повинен бути виконаний як код PHP, повинен бути укладений
[коректні теги початку та кінця
PHP-коду](language.basic-syntax.phpmode.md).

Якщо "[обгортки URL
include](filesystem.configuration.md#ini.allow-url-include)" включені
в PHP, ви можете також вказати файл для увімкнення через URL (за допомогою
HTTP або інших обробників, що підтримуються - дивіться [Підтримувані
протоколи та обгортки](wrappers.md) для списку протоколів) замість
локального шляху. Якщо цільовий сервер інтерпретує вказаний файл як
код PHP, змінні можуть бути передані в файл, що включається за допомогою
рядки URL-запиту під час використання HTTP GET. Це зовсім не те ж
саме, що включення файлу та успадкування батьківської області
видимості; скрипт виконується на віддаленому сервері, і результат потім
включається у локальний скрипт.

**Приклад #3 Приклад `include` через HTTP**

`<?php/* У цьому прикладі передбачається, що www.example.com налаштований на обробку .php* файлів, але не .txt. Також, 'Спрацює' позначає, змінні* $foo і $bar доступні всередині включається файла. */// Не спрацює; file.txt не обробляється www.example.com як PHPinclude 'http://www.example.com/file.txt?foou003d1&baru003d2';// Не спрацює; буде шукати файл? file.php?foou003d1&baru003d2';?> `

**Увага**

# Попередження безпеки

Видалені файли можуть бути оброблені на віддаленому боці (у
залежно від розширення файлу та того, що віддалений сервер виконує
скрипти PHP чи ні), але це все одно має робити коректний
скрипт PHP, тому що він буде оброблений вже на локальному
сервер. Якщо файл з віддаленого сервера повинен бути оброблений і лише
відображено його результат, набагато ефективно скористатися функцією
[readfile()](function.readfile.md) Інакше слід
дотримуватися особливої обережності, щоб убезпечити віддалений скрипт для
отримання коректного та бажаного коду.

Дивіться також розділ [Видалені файли](features.remote-files.md),
функції [fopen()](function.fopen.md) та [file()](function.file.md)
для додаткової інформації.

Обробка значень, що повертаються: оператор `include` повертає значення
`FALSE` у разі виникнення помилки та видає попередження. Успішні
включення, поки це не перевизначено у файлі, повертають
значення `1`. Можливо виконати вираз
[return](function.return.md) всередині файлу, що вмикається, щоб завершити
процес виконання в цьому файлі і повернутися до виконання, що включає
файлу. Крім того, можна повернути значення з файлів, що включаються. Ви
можете отримати значення включення, якби ви викликали звичайну
функцію. Хоча це неможливо при включенні видаленого файлу, лише якщо
виведення віддаленого файлу не містить [коректні теги початку та кінця PHP
коду](language.basic-syntax.phpmode.md) (так само, як і локальний
файл). Ви можете визначити необхідні змінні всередині цих тегів та
вони будуть представлені залежно від того, який файл було вимкнено.

Оскільки `include` - це спеціальна мовна конструкція, круглі дужки
не обов'язкові довкола аргументу. Будьте уважні при порівнянні
значення, що повертається.

**Приклад #4 Порівняння значення, що повертається при include**

` <?php// не спрацює, інтерпретується якinclude(('vars.php') u003du003d TRUE), є include('1')if (include('vars.php') u003du003d TRUE) {    OK';}// спрацюєif ((include 'vars.php') u003du003d TRUE) {   echo 'OK';}?> `

**Приклад #5 Вирази `include` та [return](function.return.md)**

` return.php<?php$varu003du003d'PHP';return $var;?>noreturn.php<?php$var u003d 'PHP';?>testreturns.php<?php$foo u003d include 'return.php' ;echo $foo; // виведе 'PHP'$bar u003d include 'noreturn.php';echo $bar; // виведе 1?> `

$bar має значення `1`, т.к. увімкнення файлу відбулося успішно.
Зауважте різницю між прикладами зверху. Перший використовує
[return](function.return.md) всередині файлу, що включається, тоді як
другий не використовує. Якщо файл не може бути увімкнено, повертається
**`false`** і виникає **`E_WARNING`**.

Якщо у файлі визначено функції, вони можуть бути використані
в головному файлі незалежно від того, чи були вони оголошені до
[return](function.return.md) або після. Якщо файл вмикається двічі,
PHP видасть фатальну помилку, тому що функції вже було визначено.
Рекомендується використовувати [include_once](function.include-once.md)
замість того, щоб перевіряти, чи був файл вже включений.

Інший шлях "включити" PHP-файл у змінну - це захопити висновок з
за допомогою [функцій контролю виведення](ref.outcontrol.md) разом з
`include`. Наприклад:

**Приклад #6 Використання буферизації виводу для включення файлу PHP в
рядок**

` <?php$string u003d get_include_contents('somefile.php');function get_include_contents($filename) {    if (is_file($filename)) {         ob_start(); include $filename; return ob_get_clean(); }   return false;}?> `

Для того, щоб включати файли автоматично у скрипти, зверніть
увагу на конфігураційні директиви
[auto_prepend_file](ini.core.md#ini.auto-prepend-file) та
[auto_append_file](ini.core.md#ini.auto-append-file) в `php.ini`.

> **Примітка**: Оскільки це мовна конструкція, а не функція, вона
> не може викликатися за допомогою [змінних
> функцій](functions.variable-functions.md) або [іменованих
> аргументів](functions.arguments.md#functions.named-arguments).

Дивіться також [require](function.require.md),
[require_once](function.require-once.md),
[include_once](function.include-once.md),
[get_included_files()](function.get-included-files.md),
[readfile()](function.readfile.md), [virtual()](function.virtual.md)
та [include_path](ini.core.md#ini.include-path).
