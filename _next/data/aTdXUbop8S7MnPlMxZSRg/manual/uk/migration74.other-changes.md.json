{"pageProps":{"page":{"slug":"migration74.other-changes.md","content":"## Інші зміни\n\n### Поліпшення продуктивності\n\n#### Ядро PHP\n\nДодано спеціальний опкод віртуальної машини для функції [array\\_key\\_exists()](function.array-key-exists.md), що покращує продуктивність цієї функції, якщо значення параметра може бути статично дозволено. У коді, який використовує простір імен, можливо буде потрібно використання абсолютного імені (`\\array_key_exists()`) або ж явний імпорт функції.\n\n#### Регулярні вирази (сумісні з Perl)\n\nКогда функция[preg\\_match()](function.preg-match.md)в режиме UTF-8 (модификатор`\"u\"`) неодноразово викликається для одного і того ж рядка (можливо, на різних позиціях), перевірка правильності UTF-8 буде виконана лише один раз.\n\n### Зміни обробки INI-файлів\n\n[zend.exception\\_ignore\\_args](ini.core.md#ini.zend.exception-ignore-args) - нова INI-директива для включення або виключення аргументів з трасування стека, отриманих у винятках.\n\n[opcache.preload\\_user](opcache.configuration.md#ini.opcache.preload-user) - нова INI-директива для встановлення користувача, з-під якого має виконуватися код попереднього завантаження, інакше це буде root (не допускається з міркувань безпеки).\n\n### Міграція на pkg-config\n\nБагато модулів тепер використовують виключно pkg-config, щоб визначати залежності бібліотек. Як правило, це означає, що замість **\\--with-foo-dir=DIR** використовується тільки **\\--with-foo**. Користувацькі шляхи до бібліотек можуть бути вказані або шляхом додавання додаткових каталогів у `PKG_CONFIG_PATH`, або шляхом явного вказівки параметрів компіляції через `FOO_CFLAGS`и`FOO_LIBS`\n\nНаступні модулі та SAPI були порушені цією зміною:\n\n-   CURL:\n    -   Опция**\\--with-curl**більше не приймає каталог.\n-   Enchant:\n    -   Опция**\\--with-enchant**більше не приймає каталог.\n-   FPM:\n    -   Опция**\\--with-fpm-systemd**тепер використовує тільки pkg-config для перевірки libsystem. Мінімальна обов'язкова версія libsystemd – 209.\n-   GD:\n    -   Опция**\\--with-gd**перейменована в**\\--enable-gd**(має бути включений модуль чи ні), а опція**\\--with-external-gd**використовує зовнішню бібліотеку libgd замість тієї, яка йде в комплекті.\n    -   Опция**\\--with-png-dir**видалено. Наявність libpng тепер є обов'язковою.\n    -   Опция**\\--with-zlib-dir**видалено. Наявність zlib тепер є обов'язковою.\n    -   Опция**\\--with-freetype-dir**перейменована в**\\--with-freetype**\n    -   Опция**\\--with-jpeg-dir**перейменована в**\\--with-jpeg**\n    -   Опция**\\--with-webp-dir**перейменована в**\\--with-webp**\n    -   Опция**\\--with-xpm-dir**перейменована в**\\--with-xpm**\n-   IMAP:\n    -   Опция**\\--with-kerberos-systemd**більше не приймає каталог.\n-   Intl:\n    -   Опция**\\--with-icu-dir**видалено. Якщо передано**\\--enable-intl**тоді завжди потрібна наявність libicu.\n-   LDAP:\n    -   Опция**\\--with-ldap-sasl**більше не приймає каталог.\n-   Libxml:\n    -   Опция**\\--with-libxml-dir**видалено.\n    -   Опция**\\--enable-libxml**перейменована в**\\--with-libxml**\n    -   Опция**\\--with-libexpat-dir**перейменована в**\\--with-expat**та більше не приймає каталог.\n-   Litespeed:\n    -   Опция**\\--with-litespeed**перейменована в**\\--enable-litespeed**\n-   Mbstring:\n    -   Опция**\\--with-onig**видалено. Якщо**\\--disable-mbregex**не вказано, потрібно libonig.\n-   ODBC:\n    -   Опция**\\--with-iodbc**більше не приймає каталог.\n    -   Опция**\\--with-unixODBC**без каталогу тепер використовує pkg-config (переважно). Каталог, як і раніше, можна вказати для старих версій без libodbc.pc.\n-   OpenSSL:\n    -   Опция**\\--with-openssl**більше не приймає каталог.\n-   PCRE:\n    -   Опция**\\--with-pcre-regex**видалено. Замість цього**\\--with-external-pcre**дозволяє використовувати зовнішню PCRE-бібліотеку замість вбудованої.\n-   PDO\\_SQLite:\n    -   Опция**\\--with-pdo-sqlite**більше не приймає каталог.\n-   Readline:\n    -   Опция**\\--with-libedit**більше не приймає каталог.\n-   Sodium:\n    -   Опция**\\--with-sodium**більше не приймає каталог.\n-   SQLite3:\n    -   Опция**\\--with-sqlite3**більше не приймає каталог.\n-   XSL:\n    -   Опция**\\--with-xsl**більше не приймає каталог.\n-   Zip:\n    -   Опция**\\--with-libzip**видалено.\n    -   Опция**\\--enable-zip**перейменована в**\\--with-zip**\n\n### Екранування CSV\n\n[fputcsv()](function.fputcsv.md) [fgetcsv()](function.fgetcsv.md) [SplFileObject::fputcsv()](splfileobject.fputcsv.md) [SplFileObject::fgetcsv()](splfileobject.fgetcsv.md) і [SplFileObject::setCsvControl()](splfileobject.setcsvcontrol.md)теперь принимаем пустую строку в аргументе`$escape`. Це відключить пропрієтарний механізм екранування PHP.\n\nПоведение функции[str\\_getcsv()](function.str-getcsv.md) було відповідним чином скориговано (раніше порожній рядок був ідентичний використанню значення за замовчуванням).\n\nМетод[SplFileObject::getCsvControl()](splfileobject.getcsvcontrol.md) тепер також може повертати порожній рядок для третього елемента масиву відповідно.\n\n### Фільтрування даних\n\nМодуль[filter](book.filter.md) більше не підтримує **\\---with-pcre-dir** для Unix-складання і тому може бути спокійно зібраний для загального користування за допомогою **./configure**\n\n### GD\n\nПоведение функции[imagecropauto()](function.imagecropauto.md) у вбудованій бібліотеці libgd було синхронізовано із системною бібліотекою libgd:\n\n-   **`IMG_CROP_DEFAULT`**у разі невдалого виконання не замінюється на**`IMG_CROP_SIDES`**\n-   Порогове значення кадрування тепер розраховується з алгоритму системної бібліотеки libgd\n\nЗначение по умолчанию`$mode` [imagecropauto()](function.imagecropauto.md) було змінено на **`IMG_CROP_DEFAULT`**; передача`-1` тепер оголошено застарілою.\n\n[imagescale()](function.imagescale.md) тепер підтримує масштабування зі збереженням співвідношення сторін до фіксованої висоти під час передачі `-1`в параметр`$new_width`\n\n### Фреймворк хеш-кодів HASH\n\nМодуль[hash](book.hash.md) більше не можна відключити, тепер він є невід'ємною частиною будь-якої PHP-складання, подібно до модуля [date](book.datetime.md)\n\n### Intl\n\nМодуль[intl](book.intl.md) тепер вимагає щонайменше ICU 50.1.\n\nКласс[ResourceBundle](class.resourcebundle.md) тепер реалізує [Countable](class.countable.md)\n\n### Полегшений протокол доступу до каталогів (LDAP)\n\nПідтримка nsldap та umich\\_ldap було видалено.\n\n### Libxml\n\nУсі модулі на основі libxml тепер вимагають libxml версії 2.7.6 або новіші.\n\n### Багатобайтові рядки\n\nБібліотека oniguruma більше не йде в комплекті з PHP, замість неї в системі має бути libonig. Як альтернативу можна вказати **\\---disable-mbregex**, щоб вимкнути компонент mbregex.\n\n### OPcache\n\nКонфігураційні опції **\\--disable-opcache-file** і **\\--enable-opcache-file** видалені на користь використання INI-директиви [opcache.file\\_cache](opcache.configuration.md#ini.opcache.file-cache)\n\n### Хешування паролів\n\nФункції [password\\_hash()](function.password-hash.md) і [password\\_needs\\_rehash()](function.password-needs-rehash.md) тепер приймають рядок, що обнулюється, (string) і ціле число (int) в аргументі `$algo`\n\n### PEAR\n\nУстановка PEAR (разом із PECL) більше не ввімкнена за замовчуванням. Її можна явно увімкнути, використовуючи **\\--with-pear**. Ця опція оголошена застарілою та може бути видалена в майбутньому.\n\n### Reflection\n\nЗмінено числові значення констант-модифікаторів (`IS_ABSTRACT` `IS_DEPRECATED` `IS_EXPLICIT_ABSTRACT` `IS_FINAL` `IS_IMPLICIT_ABSTRACT` `IS_PRIVATE` `IS_PROTECTED` `IS_PUBLIC`и`IS_STATIC`) у класах [ReflectionClass](class.reflectionclass.md) [ReflectionFunction](class.reflectionfunction.md) [ReflectionMethod](class.reflectionmethod.md) [ReflectionObject](class.reflectionobject.md) і [ReflectionProperty](class.reflectionproperty.md)\n\n### SimpleXML\n\nКласс[SimpleXMLElement](class.simplexmlelement.md) тепер реалізує [Countable](class.countable.md)\n\n### SQLite3\n\nВбудована бібліотека libsqlite у збірці видалена. Для складання модуля [SQLite3](book.sqlite3.md) тепер потрібно libsqlite3 ≥ 3.7.4. Щоб зібрати модуль [PDO\\_SQLite](ref.pdo-sqlite.md) обов'язково потрібний libsqlite3 ≥ 3.5.0.\n\nСеріалізація та десеріалізація [SQLite3](class.sqlite3.md) [SQLite3Stmt](class.sqlite3stmt.md) і [SQLite3Result](class.sqlite3result.md) тепер явно заборонено. Раніше серіалізація екземплярів цих класів була можливою, але десеріалізація робила об'єкти невикористовуваними для подальшої роботи.\n\nНотацию`@param` тепер можна також використовувати для позначення параметрів SQL-запиту.\n\n### Zip\n\nВбудована бібліотека libzip видалена. Тепер обов'язково наявність у системі бібліотеки libzip >= 0.11, щоб зібрати модуль [zip](book.zip.md)\n","title":"Інші зміни","contentType":2,"navigation":[{"migration74.removed-extensions.md":"« Видалені модулі"},{"migration74.windows-support.md":"Підтримка Windows »"},{"index.md":"PHP Manual"},{"migration74.md":"Міграція з PHP 7.3.x на PHP 7.4.x"}]}},"__N_SSG":true}