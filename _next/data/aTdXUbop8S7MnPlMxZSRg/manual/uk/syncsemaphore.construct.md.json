{"pageProps":{"page":{"slug":"syncsemaphore.construct.md","content":"# SyncSemaphore::\\_\\_construct\n\n(PECL sync >= 1.0.0)\n\nSyncSemaphore::\\_\\_construct — Створення нового об'єкту SyncSemaphore\n\n### Опис\n\n```methodsynopsis\npublic SyncSemaphore::__construct(string $name = ?, int $initialval = 1, bool $autounlock = true)\n```\n\nСтворює іменований чи безіменний семафор.\n\n### Список параметрів\n\n`name`\n\nІм'я семафора, якщо це названий об'єкт семафора.\n\n> **Зауваження** :\n> \n> Якщо ім'я вже існує, воно має бути доступним для відкриття поточним користувачем, від імені якого запущено процес, інакше буде викинуто виняток із безглуздим повідомленням про помилку.\n\n`initialval`\n\nПочаткове значення семафору. Це кількість блокувань, яку можна отримати.\n\n`autounlock`\n\nВказує, чи слід автоматично розблокувати семафор після завершення скрипта PHP.\n\n**Увага**\n\nЯкщо об'єкт - це: іменований семафор з autounlock зі значенням **`false`**, об'єкт заблокований і скрипт PHP завершується до того, як об'єкт розблокується, базовий семафор опиниться в неузгодженому стані.\n\n### Значення, що повертаються\n\nНовий об'єкт [SyncSemaphore](class.syncsemaphore.md)\n\n### Помилки\n\nЯкщо семафор не може бути створений або відкритий, викидається виняток.\n\n### Приклади\n\n**Приклад #1 Приклад використання** SyncSemaphore::\\_\\_construct()\\*\\*\\*\\*\n\n```php\n<?php\n$semaphore = new SyncSemaphore(\"LimitedResource_2clients\", 2);\n\nif (!$semaphore->lock(3000))\n{\n    echo \"Невозможно заблокировать семафор.\";\n\n    exit();\n}\n\n/* ... */\n\n$semaphore->unlock();\n?>\n```\n\n### Дивіться також\n\n-   [SyncSemaphore::lock()](syncsemaphore.lock.md) \\- Зменшує рахунок семафора або чекає\n-   [SyncSemaphore::unlock()](syncsemaphore.unlock.md) \\- Збільшує рахунок семафору\n","title":"SyncSemaphore::\\_\\_construct","contentType":2,"navigation":[{"class.syncsemaphore.md":"« SyncSemaphore"},{"syncsemaphore.lock.md":"SyncSemaphore::lock »"},{"index.md":"PHP Manual"},{"class.syncsemaphore.md":"SyncSemaphore"}]}},"__N_SSG":true}