{"pageProps":{"page":{"slug":"faq.using.md","content":"# Використання PHP\n\nУ цьому розділі зібрано безліч спільних помилок, які можуть зустрітися при написанні PHP-скриптів.\n\n1.  [Я не можу запам'ятати порядок аргументів PHP-функцій, що вони, випадкові?](#faq.using.parameterorder)\n2.  [Я хочу написати загальний PHP-скрипт, який може обробляти дані, що надходять з будь-якої форми. Як дізнатися які змінні методи POST доступні?](#faq.using.anyform)\n3.  [Мені треба перетворити всі одиночні лапки (') у зворотний сліш з наступною одиночною лапкою (\\\\'). Як я можу це зробити за допомогою регулярного вираження? Я також хотів би перетворити \" на \\\\\"і \\\\в\\\\\\\\](#faq.using.addslashes)\n4.  [Коли я роблю таке, висновок друкується не так:Що відбувається?](#faq.using.wrong-order)\n5.  [Гей, що сталося з моїми рядками?](#faq.using.newlines)\n6.  [Я отримую повідомлення 'Warning: Cannot send session cookie - headers already sent...' або 'Cannot add header information - headers already sent...'.](#faq.using.headers-sent)\n7.  [Мені потрібний прямий доступ до інформації в заголовку запиту. Як я можу це зробити?](#faq.using.header)\n8.  [Коли я намагаюся використати аутентифікацію з IIS, я отримую 'No Input file specified'.](#faq.using.authentication)\n9.  [Windows: Я не маю доступу до файлів, що поділяються з іншим комп'ютером, за IIS.](#faq.using.iis.sharing)\n10.  [Як я повинен поєднувати XML та PHP? Він скаржиться на мої](#faq.using.mixml) [](#faq.using.mixml)12\\. [](#faq.using.mixml)[Де я можу знайти повний перелік змінних, доступних мені в PHP?](#faq.using.variables)\n11.  [Як я можу генерувати PDF-файли без використання платних або комерційних бібліотек, як PDFLib? Я хотів би щось безкоштовне і не потребує зовнішніх бібліотек PDF.](#faq.using.freepdf)\n12.  [Декілька PHP директив можуть приймати скорочення для байтових значень на відміну від тільки int байтових значень. Якими є всі доступні скорочення?](#faq.using.shorthandbytes)\n\n**Я не можу запам'ятати порядок аргументів PHP-функцій, що вони, випадкові?**\n\nPHP – це клей, який скріплює разом сотні різних зовнішніх бібліотек, тому іноді це здається досить заплутаним. Проте, загальне правило таке:\n\nПараметри [функцій роботи з масивами](book.array.md) упорядковані у вигляді \"*голка (needle), сіно (haystack)*\", тоді як порядок у [рядкових функціях](book.strings.md) зворотний, тобто аналогічний \"*сіно, голка*\".\n\n**Я хочу написати загальний PHP-скрипт, який може обробляти дані, що надходять з будь-якої форми. Як дізнатися які змінні методи POST доступні?**\n\nPHP предлагает множество[зумовлених змінних](language.variables.predefined.md), таких як суперглобальна $\\_POST. Ви можете пройтись по [$\\_POST](reserved.variables.post.md) так як це асоціативний масив усіх значень, які з POST. Для прикладу, давайте просто пройдемося по них з [foreach](control-structures.foreach.md), перевіримо на порожні ([empty()](function.empty.md)) значення та роздрукуємо.\n\n```php\n<?php\n$empty = $post = array();\nforeach ($_POST as $varname => $varvalue) {\n    if (empty($varvalue)) {\n        $empty[$varname] = $varvalue;\n    } else {\n        $post[$varname] = $varvalue;\n    }\n}\n\nprint \"<pre>\";\nif (empty($empty)) {\n    print \"В POST не было пустых значений, вот что там было:\\n\";\n    var_dump($post);\n} else {\n    print \"Пришло \" . count($empty) . \" пустых значений\\n\";\n    print \"Всего отправлено:\\n\"; var_dump($post);\n    print \"Пустых:\\n\"; var_dump($empty);\n    exit;\n}\n?>\n```\n\n\\**Мені треба перетворити всі одиночні лапки (') у зворотний сліш з наступною одиночною лапкою (\\\\'). Як я можу це зробити за допомогою регулярного вираження? Я також хотів би перетворити \" на \\\\\"і \\\\в\\\\\\\\\\**\n\nМаючи на увазі, що ви хочете використовувати результат перетворення в роботі з базою даних, використовуйте відповідний механізм екранування, що йде з базою даних, що використовується. Наприклад, використовуйте [mysql\\_real\\_escape\\_string()](function.mysql-real-escape-string.md) з MySQL та [pg\\_escape\\_string()](function.pg-escape-string.md) з PostgreSQL. Є також загальніші функції [addslashes()](function.addslashes.md) і [stripslashes()](function.stripslashes.md)Вони часто зустрічаються в старому PHP-коді.\n\n\\*\\*Коли я роблю таке, висновок друкується не в тому порядку:\n\n```php\n<?php\nfunction myfunc($argument)\n{\n    echo $argument + 10;\n}\n$variable = 10;\necho \"myfunc($variable) = \" . myfunc($variable);\n?>\n```\n\nЩо відбувається?\\*\\*\n\nДля того, щоб використовувати результат вашої функції у виразі (такому як з'єднання з іншими рядками, як у наведеному вище прикладі), вам необхідно повернути значення за допомогою [return](function.return.md), а не виводити його через [echo](function.echo.md)\n\n\\*\\*Гей, що сталося з моїми рядками?\n\n```php\n<pre>\n<?php echo \"Это должно быть на первой строке.\"; ?>\n<?php echo \"А это должно быть на следующей строке.\"; ?>\n</pre>\n```\n\n\\*\\*\n\nУ PHP блок коду завершується або з \"?>\", або з \"?>\\\\n\" (де \\\\n означає \"новий рядок\"). У наведеному вище прикладі пропозиції виведуться на одному рядку, так як PHP опускає символ нового рядка після завершення блоку. Це означає, що вам необхідно вставити додатковий символ нового рядка після кожного блоку PHP-коду, щоб виведення продовжувалося з нового рядка.\n\nЧому PHP робить це? Тому що при форматуванні звичайного HTML це зазвичай спрощує ваше життя коли вам не потрібний цей новий рядок і вам не треба створювати неймовірно довгі рядки для того, щоб зробити вихідний сторінки читаним.\n\n**Я отримую повідомлення 'Warning: Cannot send session cookie - headers already sent...' або 'Cannot add header information - headers already sent...'.**\n\nФункциям[header()](function.header.md) [setcookie()](function.setcookie.md), и[функцій сесії](ref.session.md) потрібно додати заголовки до вихідного потоку, але заголовки можуть бути надіслані лише перед іншим вмістом. Перед використанням цих функцій не можна нічого виводити, зокрема HTML. Функція [headers\\_sent()](function.headers-sent.md) перевірить, якщо ваш скрипт уже надіслав заголовки; також дивіться [функції керування висновком](ref.outcontrol.md)\n\n**Мені потрібний прямий доступ до інформації в заголовку запиту. Як я можу це зробити?**\n\nЦе робить функцію [getallheaders()](function.getallheaders.md)якщо ви запускаєте PHP як модуль Apache. Так, наступний шматок коду покаже вам усі заголовки запиту:\n\n```php\n<?php\n$headers = getallheaders();\nforeach ($headers as $name => $content) {\n    echo \"headers[$name] = $content<br />\\n\";\n}\n?>\n```\n\nТакже смотрите[apache\\_lookup\\_uri()](function.apache-lookup-uri.md) [apache\\_response\\_headers()](function.apache-response-headers.md) і [fsockopen()](function.fsockopen.md)\n\n**Коли я намагаюся використати аутентифікацію з IIS, я отримую 'No Input file specified'.**\n\nЦе нестача моделі безпеки IIS. Проблема загальна для всіх програм CGI, що виконуються під IIS. Щоб уникнути проблеми, створіть простий HTML файл (необроблений PHP) як вхідну сторінку в автентифікованій директорії. Потім використовуйте тег META для перенаправлення на PHP сторінку або помістіть посилання, що вказує на PHP сторінку. Після цього PHP розпізнає автентифікацію правильно. Це не повинно вплинути на інші веб-сервери NT. Для додаткової інформації дивіться: [» http://support.microsoft.com/kb/q160422/](http://support.microsoft.com/kb/q160422/)и раздел руководства[HTTP Аутентифікація](features.http-auth.md)\n\n**Windows: Я не маю доступу до файлів, що поділяються з іншим комп'ютером, за IIS.**\n\nВам необходимо сделать изменения. Идите в`Internet Information Services`. Знайдіть ваш PHP файл і перейдіть до його властивостей. Ідіть у закладку `File Security` `Edit -> Anonymous access and authentication control`\n\nВи можете виправити проблему або знявши позначку з `Anonymous Access` і залишивши зазначеним `Integrated Window Authentication`, либо отметив`Anonymous Access` і відредагувати права користувача, оскільки він може мати рацію.\n\n**Як я повинен поєднувати XML та PHP? Він скаржиться на мої**\n\n\\*\\*\n\nДля того, щоб вбудувати `. . За умовчанням ця директива включена (`On\\`).\n\n**Де я можу знайти повний перелік змінних, доступних мені в PHP?**\n\nЧитайте страницу руководства по[зумовленим змінним](language.variables.predefined.md), оскільки вона містить частковий список певних змінних, доступних вашому скрипту. Повний список доступних змінних (і безліч іншої інформації) можна побачити, викликавши функцію [phpinfo()](function.phpinfo.md)Не забудьте прочитать раздел руководства по[змінним, що лежить поза PHP](language.variables.external.md) оскільки він описує загальні сценарії для зовнішніх змінних, таких як HTML форма, куки та URL.\n\n**Як я можу генерувати PDF-файли без використання платних або комерційних бібліотек, як PDFLib? Я хотів би щось безкоштовне і не потребує зовнішніх бібліотек PDF.**\n\nЄ кілька альтернатив, написаних на PHP, таких як [» FPDF](http://www.fpdf.org/) і [» TCPDF](http://www.tcpdf.org/)\n\n**Декілька PHP директив можуть приймати скорочення для байтових значень на відміну від тільки int байтових значень. Якими є всі доступні скорочення?**\n\nДоступні опції: K (для кілобайт), M (для мегабайт) та G (для гігабайт); вони реєстронезалежні. Все інше вважається байтами . `1M`равно одному мегабайту или`1048576`байтам`1K`равно одному килобайту или`1024` байтам. Ці скорочення ви можете використовувати в php.ini та функції [ini\\_set()](function.ini-set.md)Обратите внимание, что числовое значение приводится к типу int; наПриклад,`0.5M` інтерпретується як\n\n> **Зауваження** **кілобайт та кібібайт**\n> \n> У нотації PHP один кілобайт дорівнює 1024 байтам, тоді як стандарт IEC вважає це за кібібайт. У результаті: k і K = 1024 байти.\n\n\\*\\*\n","title":"Використання PHP","contentType":2,"navigation":[{"faq.build.md":"« Проблеми складання"},{"faq.passwords.md":"Хешування паролів »"},{"index.md":"PHP Manual"},{"faq.md":"ЧАВО"}]}},"__N_SSG":true}