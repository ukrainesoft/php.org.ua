- [« pg_dbname](function.pg-dbname.md)
- [pg_end_copy »](function.pg-end-copy.md)

- [PHP Manual](index.md)
- [Функції PostgreSQL](ref.pgsql.md)
- Видаляє записи

#pg_delete

(PHP 4 \>u003d 4.3.0, PHP 5, PHP 7, PHP 8)

pg_delete — Видалення записів

### Опис

**pg_delete**(
[PgSql\Connection](class.pgsql-connection.md) `$connection`,
string `$table_name`,
array `$conditions`,
int `$flags` u003d **`PGSQL_DML_EXEC`**
): string\|bool

**pg_delete()** видаляє з таблиці записи, що відповідають ключам та
значенням масиву `conditions`.

Якщо `flags` вказано, [pg_convert()](function.pg-convert.md)
застосовується до `conditions` із зазначеними прапорами.

За промовчанням **pg_delete()** передає необроблені значення. Значення
повинні бути екрановані або опція **`PGSQL_DML_ESCAPE`** має бути
вказано. **`PGSQL_DML_ESCAPE`** укладає в лапки та екранує
параметри/ідентифікатори. Тому імена таблиць/стовпців стають
чутливими до регістру.

Зверніть увагу, що ні екранування, ні підготовлений запит не
захистять запит LIKE, JSON, масив, регулярні вирази тощо. Ці
параметри повинні оброблятися відповідно до їх контекстів, тобто.
слід екранувати/перевіряти значення.

### Список параметрів

`connection`
Примірник [PgSql\Connection](class.pgsql-connection.md).

`table_name`
Ім'я таблиці, з якої видаляються записи.

`conditions`
Асоціативний масив, ключі якого відповідають іменам полів таблиці
`table_name`, а значення відповідають значенням, що видаляються в цих
колонках.

`flags`
Комбінація констант **`PGSQL_CONV_FORCE_NULL`**,
**`PGSQL_DML_NO_CONV`**, **`PGSQL_DML_ESCAPE`**, **`PGSQL_DML_EXEC`**,
**`PGSQL_DML_ASYNC`** або **`PGSQL_DML_STRING`**. Якщо константа
**`PGSQL_DML_STRING`** присутній в аргументі `flags`, то функція
поверне рядок, що містить запит. Якщо встановлено
**`PGSQL_DML_NO_CONV`** або **`PGSQL_DML_ESCAPE`**, то функція
[pg_convert()](function.pg-convert.md) внутрішньо не викликається.

### Значення, що повертаються

Повертає **`true`** у разі успішного виконання або **`false`** у
у разі виникнення помилки. Повертає рядок, якщо в аргументі `flags`
передана константа **`PGSQL_DML_STRING`**.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- -------------------------------------------------- -----------------------|
| 8.1.0 | Параметр `connection` тепер чекає на екземпляр [PgSql\Connection](class.pgsql-connection.md); раніше очікувався ресурс ([resource](language.types.resource.md)). |

### Приклади

**Приклад #1 Приклад використання **pg_delete()****

`<?php $db u003d pg_connect('dbnameu003dfoo'); // Це безпечно в деякому ступеня, оскільки всі значення екрануються. // Однак PostgreSQL підтримує JSON/масив. Для цих значень це не безпечно за допомогою екранування, ні за допомогою підготовленого запиту. $res u003d pg_delete($db, 'post_log', $_POST, PG_DML_ESCAPE); if ($res) {      echo "Дані із POST віддалені: $res
";  } else {      echo "Користувач направив невірні вхідні дані
";  }?> `

### Дивіться також

- [pg_convert()](function.pg-convert.md) - Перетворює значення
асоціативного масиву прийнятні для використання в SQL-запитах
