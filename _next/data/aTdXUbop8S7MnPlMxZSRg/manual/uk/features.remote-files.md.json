{"pageProps":{"page":{"slug":"features.remote-files.md","content":"# Робота з віддаленими файлами\n\nУ випадку, якщо опція **allow\\_url\\_fopen** включена в конфігураційному файлі php.ini, ви можете використовувати URL-адреси HTTP і FTP у більшості функцій, які приймають як параметр ім'я файлу. Також ви можете використовувати посилання в операторах [include](function.include.md) [include\\_once](function.include-once.md) [require](function.require.md) і [require\\_once](function.require-once.md) (Для коректної роботи цих функцій повинна бути включена опція **allow\\_url\\_include**). Додаткову інформацію про протоколи, що підтримуються в PHP, ви можете знайти в [Підтримувані протоколи та обгортки](wrappers.md)\n\nНаприклад, ви можете використовувати це для того, щоб відкрити файл на віддаленому сервері, витягти необхідні вам дані та використовувати їх у запиті до бази даних або просто відобразити їх у дизайні вашого сайту.\n\n**Приклад #1 Отримання заголовка віддаленої сторінки**\n\n```php\n<?php\n$file = fopen (\"http://www.example.com/\", \"r\");\nif (!$file) {\n    echo \"<p>Невозможно открыть удалённый файл.\\n\";\n    exit;\n}\nwhile (!feof ($file)) {\n    $line = fgets ($file, 1024);\n    /* Сработает, только если заголовок и сопутствующие теги расположены в одной строке */\n    if (preg_match (\"@\\<title\\>(.*)\\</title\\>@i\", $line, $out)) {\n        $title = $out[1];\n        break;\n    }\n}\nfclose($file);\n?>\n```\n\nВи також можете працювати з віддаленими файлами, розташованими на FTP-сервері (маю на увазі, що ви авторизувалися з необхідними привілеями). Таким чином, ви можете тільки створювати нові файли, але спроба перезаписати існуючий файл за допомогою функції [fopen()](function.fopen.md) призведе до помилки.\n\nДля того, щоб авторизуватися під користувачем, відмінним від 'anonymous', вам необхідно вказати логін (і, можливо, пароль) в адресному рядку, наприклад:`ftp://user:password@ftp.example.com/path/to/file`'. (Ви можете використовувати цей синтаксис для доступу до віддалених файлів по HTTP-протоколу, якщо необхідна Basic-автентифікація.)\n\n**Приклад #2 Збереження даних на віддаленому сервері**\n\n```php\n<?php\n$file = fopen (\"ftp://ftp.example.com/incoming/outputfile\", \"w\");\nif (!$file) {\n    echo \"<p>Невозможно перезаписать удалённый файл.\\n\";\n    exit;\n}\n/* Запись данных. */\nfwrite ($file, $_SERVER['HTTP_USER_AGENT'] . \"\\n\");\nfclose ($file);\n?>\n```\n\n> **Зауваження** :\n> \n> Дивлячись на наведений вище приклад, у вас може виникнути ідея використовувати цю техніку для віддаленого лог-файлу. На жаль, це нереалізовано, оскільки спроба запису у вже існуючий видалений файл за допомогою функції [fopen()](function.fopen.md) призведе до помилки. У реалізації розподіленого логування, можливо, вам допоможе функція [syslog()](function.syslog.md)\n","title":"Робота з віддаленими файлами","contentType":2,"navigation":[{"features.file-upload.errors.seealso.md":"\" Дивіться також"},{"features.connection-handling.md":"Робота зі з'єднаннями »"},{"index.md":"PHP Manual"},{"features.md":"Особливості"}]}},"__N_SSG":true}