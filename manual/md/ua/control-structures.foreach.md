- [«for](control-structures.for.md)
- [break »](control-structures.break.md)

- [PHP Manual](index.md)
- [Керування конструкції](language.control-structures.md)
- foreach

## foreach

(PHP 4, PHP 5, PHP 7, PHP 8)

Конструкція `foreach` надає простий спосіб перебору масивів.
`foreach` працює тільки з масивами та об'єктами, і буде генерувати
помилку при спробі використання зі змінними інших типів або
неініціалізованими змінними. Існує два види синтаксису:

foreach (iterable_expression as $value)
statement
foreach (iterable_expression as $key u003d> $value)
statement

Перший цикл перебирає масив, що задається за допомогою
`iterable_expression`. На кожній ітерації значення поточного елемента
привласнюється змінної $value.

Другий цикл додатково надасть ключ поточного елемента змінної
$ key на кожній ітерації.

Зверніть увагу, що `foreach` не змінює покажчик внутрішнього
масиву, який використовується такими функціями, як
[current()](function.current.md) та [key()](function.key.md).

Можливо [налаштувати ітератори об'єктів](language.oop5.iterations.md).

Для того, щоб безпосередньо змінювати елементи масиву всередині циклу,
змінної `$value` має передувати знак &. У цьому випадку значення
буде присвоєно за посиланням (language.references.md).

` <?php$arr u003d array(1, 2, 3, 4);foreach ($arr as &$value) {    $value u003d $value * 2;}// масив $arr , 6, 8)unset($value); // розірвати посилання на останній елемент?> `

**Увага**

Посилання `$value` на останній елемент масиву залишиться після закінчення
циклу `foreach`. Рекомендується знищувати її за допомогою
[unset()](function.unset.md). В іншому випадку ви можете зіткнутися
з такою поведінкою:

` <?php$arr u003d array(1, 2, 3, 4);foreach ($arr as &$value) {    $value u003d $value * 2;}// $arr u003d array 8)// Без unset($value), $value все ще посилається на останній елемент: $arr[3]foreach ($arr as $key u003d> $value)          при кожній ітерації циклу   echo "{$key} u003d> {$value} "; print_r($arr);}// ...І в кінці кінців передостаннє значення визначить остаточний вміст $arr[3]// вихід:// 0 u003d> 2 Array ( [0] u003d>> 4, [2] u003d> 6, [3] u003d> 2 )// 1 u003d> 4 Array ( [0] u003d> 2, [1] u003d> 4, [2] u003d> 6, [3] > 4 )// 2 u003d> 6 Array ( [0] u003d> 2, [1] u003d> 4, [2] u003d> 6, [3] u003d> 6 )// 3 u003d> 6 Array (| > 2, [1] u003d> 4, [2] u003d> 6, [3] u003d> 6 )?> `

Можна перебирати значення постійного масиву за посиланням:

` <?phpforeach (array(1, 2, 3, 4) as &$value) {   $value u003d $value * 2;}?> `

> **Примітка**:
>
> Оператор `foreach` не підтримує можливість придушення повідомлень про
> помилки за допомогою префікса `@`.

Ще кілька прикладів, що демонструють використання оператора:

` <?php/* Приклад 1: тільки значення */$a u003d array(1, 2, 3, 17);foreach ($a as $v) {    echo "Поточне значення $.
";}/* Приклад 2: значення (для ілюстрації масив виводиться в виді значення з ключом) */$a u003d array(1,2,3,17); $a as $v) {   echo "\$a[$i] u003d> $v.
";|  $i++;}/* Приклад 3: ключ і значення */$a u003d array(    "one" u003d> 1,    "two" u003d> e, "| foreach ($a as $k u003d> $v) {   echo "\$a[$k] u003d> $v.
";}/* Приклад 4: багатомірні масиви */$a u003d array();$a[0][0] u003d "a";$a[0][1] u003d "b";$a[1] [0] u003d "y";$a[1][1] u003d "z";foreach ($a as $v1) {    foreach ($v1 as $v2) {        ech
";    }}/* Приклад 5: динамічні масиви */foreach (array(1, 2, 3, 4, 5) as $v) {    echo "$v
";}?> `

### Розпакування вкладених масивів за допомогою list()

(PHP 5 \>u003d 5.5.0, PHP 7, PHP 8)

Можна перебрати масив масивів і розпакувати вкладений масив у
змінні циклу, передавши [list()](function.list.md) як
значення.

Наприклад:

` <?php$array u003d [    [1, 2],   [3, 4],];foreach ($array as list($a, $b)) {    // $a вмісту  $b містить другий елемент. echo "A: $a; B: $b
";}?> `

Результат виконання цього прикладу:

A: 1; B: 2
A: 3; B: 4

Можна передавати меншу кількість елементів у
[list()](function.list.md), чим знаходиться у вкладеному масиві, в цьому
у разі решти значення масиву будуть проігноровані:

` <?php$array u003d [    [1, 2],   [3, 4],];foreach ($array as list($a)) {    // Зверніть увагу на$ echo "$a
";}?> `

Результат виконання цього прикладу:

1
3

Якщо масив містить недостатньо елементів для заповнення всіх
змінних з [list()](function.list.md), то буде згенеровано
зауваження про помилку:

` <?php$array u003d [    [1, 2],   [3, 4],];foreach ($array as list($a, $b, $c)) {    echo "$:| b; C: $c
";}?> `

Результат виконання цього прикладу:


Notice: Undefined offset: 2 in example.php on line 7
A: 1; B: 2; C:

Notice: Undefined offset: 2 in example.php on line 7
A: 3; B: 4; C:
