{"pageProps":{"page":{"slug":"memcached.getserverbykey.md","content":"# Memcached::getServerByKey\n\n(PECL memcached >= 0.1.0)\n\nMemcached::getServerByKey — Отримує інформацію про сервер за ключом\n\n### Опис\n\n```methodsynopsis\npublic Memcached::getServerByKey(string $server_key): array|false\n```\n\n**Memcached::getServerByKey()** повертає інформацію про сервер, який можна вибрати за допомогою спеціального параметра `server_key`, який використовується в \\*\\*Memcached::\\*ByKey()\\*\\*функциях.\n\n### Список параметрів\n\n`server_key`\n\nКлюч, що ідентифікує сервер, де зберігається значення. Замість хешування по ключу самого елемента, при виборі сервера, що підключається, memcached хешують по ключу сервера. Такий метод дозволяє групувати пов'язані елементи разом на одному сервері, що підвищує ефективність групових операцій.\n\n### Значення, що повертаються\n\nПовертає масив, що містить такі ключі: `host` `port`, и`weight` у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки. Используйте при необходимости[Memcached::getResultCode()](memcached.getresultcode.md)\n\n### Приклади\n\n**Приклад #1 Приклад використання** Memcached::getServerByKey()\\*\\*\\*\\*\n\n```php\n<?php\n$m = new Memcached();\n$m->addServers(array(\n    array('mem1.domain.com', 11211, 40),\n    array('mem2.domain.com', 11211, 40),\n    array('mem3.domain.com', 11211, 20),\n));\n\n$m->setOption(Memcached::OPT_LIBKETAMA_COMPATIBLE, true);\n\nvar_dump($m->getServerByKey('user'));\nvar_dump($m->getServerByKey('log'));\nvar_dump($m->getServerByKey('ip'));\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\narray(3) {\n  [\"host\"]=>\n  string(15) \"mem3.domain.com\"\n  [\"port\"]=>\n  int(11211)\n  [\"weight\"]=>\n  int(20)\n}\narray(3) {\n  [\"host\"]=>\n  string(15) \"mem2.domain.com\"\n  [\"port\"]=>\n  int(11211)\n  [\"weight\"]=>\n  int(40)\n}\narray(3) {\n  [\"host\"]=>\n  string(15) \"mem2.domain.com\"\n  [\"port\"]=>\n  int(11211)\n  [\"weight\"]=>\n  int(40)\n}\n```\n","title":"Memcached::getServerByKey","contentType":2,"navigation":[{"memcached.getresultmessage.md":"« Memcached::getResultMessage"},{"memcached.getserverlist.md":"Memcached::getServerList »"},{"index.md":"PHP Manual"},{"class.memcached.md":"Memcached"}]}},"__N_SSG":true}