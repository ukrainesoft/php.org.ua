{"pageProps":{"page":{"slug":"function.stat.md","content":"# stat\n\n(PHP 4, PHP 5, PHP 7, PHP 8)\n\nstat — Повертає інформацію про файл\n\n### Опис\n\n```methodsynopsis\nstat(string $filename): array|false\n```\n\nЗбирає статистичну інформацію про файл `filename`. Якщо `filename` є символічним посиланням, інформація збирається про сам файл, а не посилання. До PHP 7.4.0 у Windows NTS у цьому випадку будував статистику `size` `atime` `mtime`и`ctime` із символьного посилання.\n\nФункция[lstat()](function.lstat.md) ідентична функції **stat()** за винятком того, що в даному випадку вона поверне інформацію про символічне посилання.\n\n### Список параметрів\n\n`filename`\n\nШлях до файлу.\n\n### Значення, що повертаються\n\n\\*\\*Формат результату роботи функцій \\*\\*stat()**и[fstat()](function.fstat.md)**\n\n| Числовой | Ассоциативный | Опис |\n| --- | --- | --- |\n|  | dev | номер пристрою \\*\\*\\* |\n|  | ino | номер inode \\*\\*\\*\\* |\n|  | mode | режим захисту inode \\*\\*\\*\\*\\* |\n| 3 | nlink | кількість посилань |\n| 4 | uid | userid власника \\* |\n| 5 | gid | groupid власника \\* |\n| 6 | rdev | тип пристрою, якщо пристрій inode |\n| 7 | size | розмір у байтах |\n| 8 | atime | час останнього доступу (тимчасова мітка Unix) |\n| 9 | mtime | час останньої модифікації (тимчасова мітка Unix) |\n| 10 | ctime | час останньої зміни inode (тимчасова мітка Unix) |\n| 11 | blksize | розмір блоку введення-виведення файлової системи \\*\\* |\n| 12 | blocks | кількість використовуваних 512-байтних блоків \\*\\* |\n\n\\* У Windows це завжди буде\n\n\\*\\* Доступний лише на системах, які підтримують тип st\\_blksize - інші системи (наприклад, Windows) повернуть `-1`\n\n\\*\\*\\* У Windows, починаючи з PHP 7.4.0, це серійний номер тома, що містить файл, який є 64-розрядним цілим числом *без знаку*, тому може переповнитися у 32-розрядних системах. Раніше це було числове подання букви диска (наприклад, для`C:`) для\\*\\*stat()\\*\\*и для[lstat()](function.lstat.md)\n\n\\*\\*\\*\\* У Windows, починаючи з PHP 7.4.0, ідентифікатор, пов'язаний з файлом, який є 64-розрядним цілим числом *без знаку*може переповнитися в 32-розрядних системах. Раніше він завжди був\n\n\\*\\*\\*\\*\\* У Windows біт дозволу на запис встановлюється відповідно до атрибута файлу тільки для читання, те саме значення повідомляється для всіх користувачів, групи і власника. ACL не враховується, на відміну від [is\\_writable()](function.is-writable.md)\n\nЗначение`mode` містить інформацію, що читається кількома функціями. При записі у вісімковому вигляді, починаючи праворуч, перші три цифри повертаються функцією [chmod()](function.chmod.md). Наступна цифра ігнорується PHP. Наступні дві цифри вказують тип файлу:\n\n**`mode` типів файлів**\n\n| `mode` в восьмеричном виде | Значение |\n| --- | --- |\n| **`0140000`** | сокет |\n| **`0120000`** | символічне посилання |\n| **`0100000`** | звичайний файл |\n| **`0060000`** | блоковий пристрій |\n| **`0040000`** | директорія |\n| **`0020000`** | символьний пристрій |\n| **`0010000`** | fifo |\n\nТак, наприклад, звичайний файл може бути **`0100644`**, а директорія може бути **`0040755`**\n\nВ случае возникновения ошибки**stat()** повертає **`false`**\n\n> **Зауваження**: Так як тип integer в PHP є цілим числом зі знаком, і багато платформ використовують 32-бітові цілі числа, то деякі функції файлових систем можуть повертати несподівані результати для файлів розміром більше 2 Гб.\n\n### Помилки\n\nВ случае возникновения ошибки будет сгенерирована ошибка уровня\\*\\*`E_WARNING`\\*\\*\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 7.4.0 | У Windows номер пристрою тепер є серійним номером тома, що містить файл і номер inode - це ідентифікатор, пов'язаний із файлом. |\n| 7.4.0 | Статистика символьних посилань `size` `atime` `mtime`и`ctime` завжди відповідає статистиці цільового об'єкта. Це було раніше не характерно для NTS-збирання на Windows. |\n\n### Приклади\n\n**Приклад #1 Приклад використання** stat()\\*\\*\\*\\*\n\n```php\n<?php\n/* Получаем статистику файла */\n$stat = stat('C:\\php\\php.exe');\n\n/*\n * Выводим последнее время доступа к файлу, это то же самое, что и\n * вызов fileatime()\n */\necho 'Последнее время доступа: ' . $stat['atime'];\n\n/*\n * Выводим время изменения файла, это то же самое, что и\n * вызов filemtime()\n */\necho 'Время изменения: ' . $stat['mtime'];\n\n/* Выводим номер устройства */\necho 'Номер устройства: ' . $stat['dev'];\n?>\n```\n\n**Приклад #2 Использование информации из**stat()**вместе с[touch()](function.touch.md)**\n\n```php\n<?php\n/* Получаем статистику файла */\n$stat = stat('C:\\php\\php.exe');\n\n/* Удалось получить эту статистику? */\nif (!$stat) {\n    echo 'вызов stat() не удался...';\n} else {\n    /*\n     * Мы хотим увеличить время последнего доступа к файлу\n     * на 1 неделю вперёд.\n     */\n    $atime = $stat['atime'] + 604800;\n\n    /* Касаемся файла */\n    if (!touch('some_file.txt', time(), $atime)) {\n        echo 'Не удалось коснуться файла...';\n    } else {\n        echo 'touch() выполнился успешно...';\n    }\n}\n?>\n```\n\n### Примітки\n\n> **Зауваження** :\n> \n> Зверніть увагу, що обробка часу може відрізнятися в різних файлових системах.\n\n> **Зауваження**: Результати цієї функції кешуються Більш детальну інформацію дивіться у розділі [clearstatcache()](function.clearstatcache.md)\n\n**Підказка**\n\nПочинаючи з PHP 5.0.0, ця функція також може бути використана з *деякими* обгортками url. Список обгорток, що підтримуються сімейством функцій **stat()**, смотрите в разделе[Підтримувані протоколи та обгортки](wrappers.md)\n\n### Дивіться також\n\n-   [lstat()](function.lstat.md) \\- Повертає інформацію про файл або символічне посилання\n-   [fstat()](function.fstat.md) \\- Отримує інформацію про файл, використовуючи відкритий файловий покажчик\n-   [filemtime()](function.filemtime.md) \\- Повертає час останньої зміни файлу\n-   [filegroup()](function.filegroup.md) \\- Отримує ідентифікатор групи файлу\n-   [SplFileInfo](class.splfileinfo.md)\n","title":"stat","contentType":2,"navigation":[{"function.set-file-buffer.md":"« set\\_file\\_buffer"},{"function.symlink.md":"symlink »"},{"index.md":"PHP Manual"},{"ref.filesystem.md":"Функції файлової системи"}]}},"__N_SSG":true}