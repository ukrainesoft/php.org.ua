- [« xml_set_default_handler](function.xml-set-default-handler.md)
- [xml_set_end_namespace_decl_handler
»](function.xml-set-end-namespace-decl-handler.md)

- [PHP Manual](index.md)
- [Функції парсера XML](ref.xml.md)
- Установка обробника початкового та кінцевого елементів

#xml_set_element_handler

(PHP 4, PHP 5, PHP 7, PHP 8)

xml_set_element_handler — Встановлення обробника початкового та кінцевого
елементів

### Опис

**xml_set_element_handler**([XMLParser](class.xmlparser.md) `$parser`,
[callable](language.types.callable.md) `$start_handler`,
[callable](language.types.callable.md) `$end_handler`): bool

Встановлює функцію оброблювач елементів для XML-аналізатора `parser`.
`start_handler` та `end_handler` - рядки, що містять імена функцій,
які мають бути визначені на момент виклику функції
[xml_parse()](function.xml-parse.md) з аналізатора `parser`.

### Список параметрів

`parser`
Посилання на аналізатор XML.

`start_handler`
Функція з ім'ям `start_handler` повинна приймати три аргументи:

start_handler([XMLParser](class.xmlparser.md) `$parser`, string
`$name`, array `$attribs`)

`parser`
Перший аргумент parser є посиланням на XML-аналізатор, що викликає
обробник.

`name`
Другий аргумент `name` містить ім'я елемента, для якого цей
обробник викликається. Якщо налаштування
[case-folding](xml.case-folding.md) включена для цього аналізатора,
ім'я елемента буде у верхньому регістрі.

`attribs`
Третій аргумент `attribs` містить асоціативний масив із атрибутами
елемента (якщо є). Індексами цього масиву будуть імена атрибутів, а
значення масиву відповідатимуть значенням атрибутів. Імена
атрибутів повинні бути [приведені до регістру](xml.case-folding.md)
відповідно до тих самих критеріїв, що й імена елементів. Значення
атрибутів *не* приводяться до будь-якого регістру. Атрибути витягуються
з елемента в порядку прямого обходу по 'attribs', використовуючи функцію
[each()](function.each.md). Перший індекс у масиві відповідає
першому атрибуту і таке інше.

> **Примітка**: Як аргумент замість імені функції може бути
> передано масив, що містить посилання на об'єкт та ім'я методу.

`end_element`
Функція з ім'ям `end_element` повинна приймати два аргументи:

end_element(resource `$parser`, string `$name`)

`parser`
Перший аргумент parser є посиланням на XML-аналізатор, що викликає
обробник.

`name`
Другий аргумент `name` містить ім'я елемента, для якого цей
обробник викликається. Якщо налаштування
[case-folding](xml.case-folding.md) включена для цього аналізатора,
ім'я елемента буде у верхньому регістрі.

Якщо як обробник передано порожній рядок або **`false`**, цей
обробник вимикається.

### Значення, що повертаються

Повертає **`true`** у разі успішного виконання або **`false`** у
у разі виникнення помилки.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- ----------------|
| 8.0.0 | Параметр `parser` чекає на екземпляр [XMLParser](class.xmlparser.md); раніше очікували ресурс (resource). |
