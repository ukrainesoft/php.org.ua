- [«mcrypt_generic_deinit](function.mcrypt-generic-deinit.md)
- [mcrypt_generic »](function.mcrypt-generic.md)

- [PHP Manual](index.md)
- [Mcrypt](ref.mcrypt.md)
- Функція ініціалізує всі буфери, необхідні для шифрування

# mcrypt_generic_init

(PHP 4 \>u003d 4.0.2, PHP 5, PHP 7 \< 7.2.0, PECL mcrypt \>u003d 1.0.0)

mcrypt_generic_init — Функція ініціалізує всі буфери, необхідні для
шифрування

**Увага**

Ця функція оголошена *УСТАРНІЙ*, починаючи з PHP 7.1.0 і була *Видалена*
у версії PHP 7.2.0. Використовувати цю функцію не рекомендується.

### Опис

**mcrypt_generic_init**(resource `$td`, string `$key`, string `$iv`):
int

Ви повинні викликати цю функцію перед будь-яким викликом
[mcrypt_generic()](function.mcrypt-generic.md) або
[mdecrypt_generic()](function.mdecrypt-generic.md).

### Список параметрів

`td`
Дескриптор шифрування.

`key`
Максимальна довжина ключа має бути отримана за допомогою функції
[mcrypt_enc_get_key_size()](function.mcrypt-enc-get-key-size.md) та
будь-яке менше значення допустиме.

`iv`
Зазвичай розмір вектора (IV), що ініціалізує, повинен збігатися з розміром
блоку, але ви все одно повинні отримати це значення за допомогою функції
[mcrypt_enc_get_iv_size()](function.mcrypt-enc-get-iv-size.md). IV
ігнорується у ECB. IV ПОВИНЕН бути присутнім у режимах CFB, CBC, STREAM,
nOFB та OFB. Він повинен бути випадковим та унікальним (але не обов'язково
секретним). Один і той же IV повинен використовуватися як при шифруванні
так і при дешифруванні. Якщо ви не бажаєте його використовувати - просто
встановіть його рівним нулю, але так чинити не рекомендується.

### Значення, що повертаються

У разі виникнення помилки ця функція повертає негативне
число: -3 якщо довжина ключа некоректна, -4 якщо виникли проблеми з
виділенням пам'яті, а будь-яке інше значення означає невідому
помилку. Також у разі будь-якої помилки буде викликано попередження. якщо
передані некоректні параметри, буде повернено **false**.

### Дивіться також

- [mcrypt_module_open()](function.mcrypt-module-open.md) - Відкриває
модуль шифрування з використанням вказаних алгоритму та режиму
