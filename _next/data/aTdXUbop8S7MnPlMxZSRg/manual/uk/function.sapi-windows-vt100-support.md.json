{"pageProps":{"page":{"slug":"function.sapi-windows-vt100-support.md","content":"# sapi\\_windows\\_vt100\\_support\n\n(PHP 7 >= 7.2.0, PHP 8)\n\nsapi\\_windows\\_vt100\\_support — Отримати або встановити підтримку VT100 для заданого потоку, пов'язаного з буфером виведення консолі Windows\n\n### Опис\n\n```methodsynopsis\nsapi_windows_vt100_support(resource $stream, ?bool $enable = null): bool\n```\n\nЯкщо параметр `enable`равен\\*\\*`null`\\*\\*, функція повертає **`true`** або **`false`** в залежності від того, дозволені чи ні керуючі послідовності VT100 для `stream`\n\nЯкщо параметр `enable` є логічним значенням (bool), функція спробує увімкнути або вимкнути функціональність VT100 для потоку `stream`. У цьому випадку функція поверне **`true`** або **`false`** залежно від успішності виконання.\n\nПри старті PHP намагається включити VT100 для потоків **`STDOUT`** і **`STDERR`**. Але якщо, наприклад, ці потоки перенаправлені у файл, то підтримка VT100 може включитися.\n\nЯкщо включена підтримка VT100, можна використовувати керуючі послідовності, оскільки вони відомі терміналу. Вони дозволяють змінювати виведення терміналу. У Windows ці послідовності відомі як \"Console Virtual Terminal Sequences\".\n\n**Увага**\n\nЦя функція використовує реалізацію прапора **`ENABLE_VIRTUAL_TERMINAL_PROCESSING`** у Windows 10 API, отже функціональність VT100 може бути недоступна у старіших версіях Windows.\n\n### Список параметрів\n\n`stream`\n\nПотік, з яким працюватиме функція.\n\n`enable`\n\nЯкщо є логічним значенням (bool), то має бути або **`true`**, либо\\*\\*`false`\\*\\*, для включення та відключення VT100 відповідно.\n\n### Значення, що повертаються\n\nЯкщо параметр `enable`равен\\*\\*`null`\\*\\*, функція повертає **`true`** або **`false`** залежно від того, дозволені чи ні керуючі послідовності VT100\n\nЯкщо параметр `enable` є логічним значенням (bool): Повертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.0.0 | `enable` тепер допускає значення null. |\n\n### Приклади\n\n\\*\\*Приклад #1 Стан \\*\\*sapi\\_windows\\_vt100\\_support()**по умолчанию**\n\nПо умолчанию, для\\*\\*`STDOUT`** і **`STDERR`\\*\\*поддержка VT100 включена.\n\nphp -r \"var\\_export(sapi\\_windows\\_vt100\\_support(STDOUT));echo ' ';var\\_export(sapi\\_windows\\_vt100\\_support(STDERR));\"\n\nВисновок наведеного прикладу буде схожим на:\n\n```\ntrue true\n```\n\nЯкщо потік перенаправлений, то підтримка VT100 буде вимкнена:\n\nphp -r \"var\\_export(sapi\\_windows\\_vt100\\_support(STDOUT));echo ' ';var\\_export(sapi\\_windows\\_vt100\\_support(STDERR));\" 2>NUL\n\nВисновок наведеного прикладу буде схожим на:\n\ntrue false\n\n**Приклад #2 Изменение состояния с помощью**sapi\\_windows\\_vt100\\_support()\\*\\*\\*\\*\n\nВи не можете включити підтримку VT100 для **`STDOUT`** або **`STDERR`** якщо ці потоки перенаправлені.\n\nphp -r \"var\\_export(sapi\\_windows\\_vt100\\_support(STDOUT, true));echo ' ';var\\_export(sapi\\_windows\\_vt100\\_support(STDERR, true));\" 2>NUL\n\nВисновок наведеного прикладу буде схожим на:\n\n```\ntrue false\n```\n\n**Приклад #3 Приклад використання за допомогою VT100**\n\n```php\n<?php\n$out = fopen('php://stdout','w');\nfwrite($out, 'Just forgot a lettr.');\n// Переместить курсор на две позиции назад\nfwrite($out, \"\\033[2D\");\n// Вставляет один пробел, сдвигая существующий текст вправо -> Просто забыли букву.\nfwrite($out, \"\\033[1@\");\nfwrite($out, 'e');\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nJust forgot a letter.\n```\n","title":"sapi\\_windows\\_vt100\\_support","contentType":2,"navigation":[{"function.sapi-windows-set-ctrl-handler.md":"« sapi\\_windows\\_set\\_ctrl\\_handler"},{"function.show-source.md":"show\\_source »"},{"index.md":"PHP Manual"},{"ref.misc.md":"Різні функції"}]}},"__N_SSG":true}