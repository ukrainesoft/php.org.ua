{"pageProps":{"page":{"slug":"features.commandline.differences.md","content":"## Основні відмінності від інших реалізацій SAPI\n\nОсновні відмінності CLI SAPI від інших реалізацій SAPI:\n\n-   На відміну від CGI SAPI, заголовки не пишуться до потоку виведення.\n    \n    Незважаючи на те, що в CGI SAPI є спосіб придушення HTTP-заголовків, CLI SAPI немає можливості їх включити.\n    \n    CLI за замовчуванням запускається в тихому режимі, проте ключі**\\-q** і **\\--no-header**збережені для зворотної сумісності, що дозволяє використовувати старі CGI-скрипти.\n    \n    Поточна директорія не змінюється робочу директорію скрипта. (Ключі**\\-C** і **\\--no-chdir**збережені для зворотної сумісності)\n    \n    Повідомлення про помилки видаються в текстовому режимі (без HTML-форматування).\n    \n-   Деякі налаштування php.ini перевизначаються CLI SAPI, оскільки вони не мають сенсу під час роботи в командному рядку:\n    \n    **Перевизначені директиви php.ini**\n    \n    | Директива | Значение по умолчанию в CLI SAPI | Комментарий |\n    | --- | --- | --- |\n    | [html\\_errors](errorfunc.configuration.md#ini.md-errors) | **`false`** | По умолчанию\\*\\*`false`\\*\\*, т.к. буває досить складно читати в консолі повідомлення про помилку, коли вони наповнені безглуздими HTML-тегами. |\n    | [implicit\\_flush](outcontrol.configuration.md#ini.implicit-flush) | **`true`** | Зазвичай в консолі бажано відображати висновок, наприклад, [print](function.print.md) [echo](function.echo.md) та інших, відразу ж минаючи буфер. Тим не менш, як і раніше можна використовувати [буферизацію висновку](ref.outcontrol.md) для відкладеного висновку чи маніпуляцій із ним. |\n    | [max\\_execution\\_time](info.configuration.md#ini.max-execution-time) | 0 (без обмежень) | PHP, що виконується в консолі, зазвичай використовується для більш широкого діапазону завдань, ніж звичайні веб-скрипти. Оскільки вони можуть виконуватися дуже довго, то максимальний час виконання необмежено. |\n    | [register\\_argc\\_argv](ini.core.md#ini.register-argc-argv) | **`true`** |  |\n    | Встановлення цієї опції значення **`true`** означає, що скрипти, що запускаються через CLI SAPI, завжди мають доступ до *argc* (кількість аргументів, переданих додатком) та *argv* (Масив поточних аргументів). |  |  |\n    \n    При використанні CLI SAPI змінні[$argc](reserved.variables.argc.md) і [$argv](reserved.variables.argv.md)автоматично заповнюються відповідними значеннями. Ці значення можна також знайти в масиві[$\\_SERVER](reserved.variables.server.md), наприклад:[$\\_SERVER\\['argv'\\]](reserved.variables.server.md)\n    \n    [output\\_buffering](outcontrol.configuration.md#ini.output-buffering) **`false`**\n    \n    Незважаючи на те, що ця опція php.ini жорстко встановлена ​​в\\*\\*`false`\\*\\*, функції [буферизації висновку](book.outcontrol.md)все ще доступні.\n    \n    [max\\_input\\_time](info.configuration.md#ini.max-input-time) **`false`**\n    \n    PHP CLI не підтримує GET, POST або завантаження файлів.\n    \n    > **Зауваження** :\n    > \n    > Ці директиви не можуть бути ініціалізовані іншими значеннями конфігураційного файлу php.ini або будь-якого іншого (у разі, якщо він вказаний). Це обмеження пов'язане з тим, що значення використовуються після обробки конфігураційних файлів. Тим не менш, ці значення можуть бути змінені під час роботи скрипта (хоча це не має особливого сенсу для всіх них, наприклад[register\\_argc\\_argv](ini.core.md#ini.register-argc-argv)\n    \n    > **Зауваження** :\n    > \n    > Рекомендується встановити опцію[ignore\\_user\\_abort](misc.configuration.md#ini.ignore-user-abort)для скриптів, які використовуються з командного рядка. За подробицями звертайтесь до функції[ignore\\_user\\_abort()](function.ignore-user-abort.md)\n    \n-   Для полегшення роботи в оточенні оболонки було визначено кілька констант для[потоків введення/виводу](features.commandline.io-streams.md)\n    \n-   CLI SAPI**не**змінює поточну директорію на директорію скрипта.\n    \n    **Приклад #1 Приклад, що демонструє різницю із CGI SAPI:**\n    \n    ```php\n    <?php\n    // Найпростіший тестовий скрипт під назвою test.php\n    echo getcwd(), \"\\n\";\n    ?>\n    ```\n    \n    Якщо використовується CGI-версія, результат роботи буде наступним:\n    \n    ```\n    $ pwd\n    /tmp\n    \n    $ php -q another_directory/test.php\n    /tmp/another_directory\n    ```\n    \n    Це наочно демонструє, що PHP змінює поточну директорію на директорію скрипта.\n    \n    Використання CLI SAPI дає інший результат:\n    \n    ```\n    $ pwd\n    /tmp\n    \n    $ php -f another_directory/test.php\n    /tmp\n    ```\n    \n    Це забезпечує більшу гнучкість при написанні консольних скриптів на PHP.\n    \n    > **Зауваження** :\n    > \n    > CGI SAPI дозволяє отримати аналогічну CLI SAPI поведінку у разі використання ключа**\\-C**під час запуску з командного рядка.\n","title":"Основні відмінності від інших реалізацій SAPI","contentType":2,"navigation":[{"features.commandline.introduction.md":"\" Вступ"},{"features.commandline.options.md":"Опції »"},{"index.md":"PHP Manual"},{"features.commandline.md":"Робота з PHP з командного рядка"}]}},"__N_SSG":true}