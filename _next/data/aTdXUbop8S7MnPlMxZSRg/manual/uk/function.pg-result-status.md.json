{"pageProps":{"page":{"slug":"function.pg-result-status.md","content":"# pg\\_result\\_status\n\n(PHP 4 >= 4.2.0, PHP 5, PHP 7, PHP 8)\n\npg\\_result\\_status — Повернення стану результату запиту\n\n### Опис\n\n```methodsynopsis\npg_result_status(PgSql\\Result $result, int $mode = PGSQL_STATUS_LONG): string|int\n```\n\n**pg\\_result\\_status()** повертає поточний стан екземпляра [PgSql\\\\Result](class.pgsql-result.md), або тег завершення сервером роботи з цим ресурсом.\n\n### Список параметрів\n\n`result`\n\nЕкземпляр [PgSql\\\\Result](class.pgsql-result.md), що повертається функціями [pg\\_query()](function.pg-query.md) [pg\\_query\\_params()](function.pg-query-params.md) або [pg\\_execute()](function.pg-execute.md)(среди прочего).\n\n`mode`\n\nПриймає одне із двох значень: **`PGSQL_STATUS_LONG`** для отримання числового позначення стану `result`, либо\\*\\*`PGSQL_STATUS_STRING`\\*\\* для отримання стану теги у вигляді рядка. За замовчуванням використовується **`PGSQL_STATUS_LONG`**\n\n### Значення, що повертаються\n\nЯкщо як аргумент передається **`PGSQL_STATUS_LONG`**, то повертається одна з перерахованих констант: **`PGSQL_EMPTY_QUERY`** **`PGSQL_COMMAND_OK`** **`PGSQL_TUPLES_OK`** **`PGSQL_COPY_OUT`** **`PGSQL_COPY_IN`** **`PGSQL_BAD_RESPONSE`** **`PGSQL_NONFATAL_ERROR`** **`PGSQL_FATAL_ERROR`**. В іншому випадку функція поверне рядкове подання стану результату запиту.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.1.0 | Параметр`result` тепер чекає екземпляр [PgSql\\\\Result](class.pgsql-result.md); раніше очікувався ресурс ([resource](language.types.resource.md) |\n\n### Приклади\n\n**Приклад #1 Приклад використання** pg\\_result\\_status()\\*\\*\\*\\*\n\n```php\n<?php\n\n// Подключаемся к базе данных\n$conn = pg_pconnect(\"dbname=publisher\");\n\n// Выполняем команду COPY\n$result = pg_query($conn, \"COPY authors FROM STDIN;\");\n\n// Получаем состояние результата запроса\n$status = pg_result_status($result);\n\n// Разбираем полученные данные\nif ($status == PGSQL_COPY_IN)\n   echo \"Copy began.\";\nelse\n   echo \"Copy failed.\";\n\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nCopy began.\n```\n\n### Дивіться також\n\n-   [pg\\_connection\\_status()](function.pg-connection-status.md) \\- Визначає стан підключення\n","title":"pg\\_result\\_status","contentType":2,"navigation":[{"function.pg-result-seek.md":"« pg\\_result\\_seek"},{"function.pg-select.md":"pg\\_select »"},{"index.md":"PHP Manual"},{"ref.pgsql.md":"Функції PostgreSQL"}]}},"__N_SSG":true}