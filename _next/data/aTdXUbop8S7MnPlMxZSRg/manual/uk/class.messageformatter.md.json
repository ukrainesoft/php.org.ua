{"pageProps":{"page":{"slug":"class.messageformatter.md","content":"# Клас MessageFormatter\n\n(PHP 5 >= 5.3.0, PHP 7, PHP 8, PECL intl >= 1.0.0)\n\n## Вступ\n\nMessageFormatter - це клас, що дозволяє створювати склеювані, незалежні від мови повідомлення. Методи цього класу використовуються для створення всіх повідомлень, що показуються користувачеві.\n\nКлас MessageFormatter збирає повідомлення з різних фрагментів (таких як текст, числа та дати), що поставляються програмою. Даний клас дозволяє програмі не замислюватися над тим, в якому порядку ці фрагменти треба склеювати. Клас використовує специфікації форматування для складання цих фрагментів повідомлення, що зберігається у вигляді одного рядка в сховищі ресурсів. Наприклад, MessageFormatter дозволить надрукувати фразу \"Finished printing x out of y files...\" в такий спосіб, щоб забезпечити гнучкість перекладу.\n\nРаніше повідомлення для кінцевого користувача створювалося як закінчена фраза та оброблялася як рядок. Така процедура призводила до проблем локалізації, оскільки структура фрази, порядок слів, формат чисел тощо дуже відрізнялися в різних мовах. Нейтральна до мови процедура створення повідомлень тримає кожну частину повідомлення окремо та надає ключі до даних. Використовуючи ці ключі, клас MessageFormatter може склеювати частини повідомлення, перетворювати їх відповідно до локалі та відображати у вигляді грамотного повідомлення кінцевому користувачеві.\n\nMessageFormatter бере набір об'єктів, форматує їх і вставляє шаблон в потрібних місцях. Спільно з MessageFormatter корисно використовувати засоби форматування вибору (choice formatter) для обробки множини/однини, порівняння чисел і вибору з масиву елементів. Зазвичай формат повідомлення береться із ресурсів, а аргументи передаються під час виконання.\n\n## Огляд класів\n\n```classsynopsis\n\n    \n     class MessageFormatter\n     {\n\n    /* Методы */\n    \n   public __construct(string $locale, string $pattern)\n\n    public static create(string $locale, string $pattern): ?MessageFormatter\npublic static formatMessage(string $locale, string $pattern, array $values): string|false\npublic format(array $values): string|false\npublic getErrorCode(): int\npublic getErrorMessage(): string\npublic getLocale(): string\npublic getPattern(): string|false\npublic static parseMessage(string $locale, string $pattern, string $message): array|false\npublic parse(string $string): array|false\npublic setPattern(string $pattern): bool\n\n   }\n```\n\n## Дивіться також\n\n-   [» ICU. Документація із форматування.](https://unicode-org.github.io/icu/userguide/format_parse/)\n-   [» ICU. Опис форматування повідомлень.](https://unicode-org.github.io/icu/userguide/format_parse/messages/)\n-   [» ICU. Засоби форматування повідомлень](https://unicode-org.github.io/icu/userguide/format_parse/messages/)\n-   [» ICU. Засоби форматування вибору](https://unicode-org.github.io/icu-docs/apidoc/released/icu4c/classChoiceFormat.md)\n\n## Зміст\n\n-   [MessageFormatter::create](messageformatter.create.md)— Створює засіб форматування повідомлень\n-   [MessageFormatter::formatMessage](messageformatter.formatmessage.md)— Швидко форматує повідомлення\n-   [MessageFormatter::format](messageformatter.format.md)— Форматує повідомлення\n-   [MessageFormatter::getErrorCode](messageformatter.geterrorcode.md)— Повертає код помилки останньої операції\n-   [MessageFormatter::getErrorMessage](messageformatter.geterrormessage.md)— Повертає текст помилки останньої операції\n-   [MessageFormatter::getLocale](messageformatter.getlocale.md)— Повертає локаль, для якої було створено засіб форматування\n-   [MessageFormatter::getPattern](messageformatter.getpattern.md)— Повертає шаблон, який використовує засіб форматування\n-   [MessageFormatter::parseMessage](messageformatter.parsemessage.md)— Швидко розбирає вхідний рядок\n-   [MessageFormatter::parse](messageformatter.parse.md)— Розбирає рядок згідно з шаблоном\n-   [MessageFormatter::setPattern](messageformatter.setpattern.md)— Встановлює шаблон, який використовує засіб форматування\n","title":"Клас MessageFormatter","contentType":2,"navigation":[{"normalizer.normalize.md":"« Normalizer::normalize"},{"messageformatter.create.md":"MessageFormatter::create »"},{"index.md":"PHP Manual"},{"book.intl.md":"intl"}]}},"__N_SSG":true}