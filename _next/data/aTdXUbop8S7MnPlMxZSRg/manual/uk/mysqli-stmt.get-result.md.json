{"pageProps":{"page":{"slug":"mysqli-stmt.get-result.md","content":"# mysqli\\_stmt::get\\_result\n\n# mysqli\\_stmt\\_get\\_result\n\n(PHP 5 >= 5.3.0, PHP 7, PHP 8)\n\nmysqli\\_stmt::get\\_result -- mysqli\\_stmt\\_get\\_result — Отримує результат із підготовленого запиту у вигляді об'єкта [mysqli\\_result](class.mysqli-result.md)\n\n### Опис\n\nОб'єктно-орієнтований стиль\n\n```methodsynopsis\npublic mysqli_stmt::get_result(): mysqli_result|false\n```\n\nПроцедурний стиль\n\n```methodsynopsis\nmysqli_stmt_get_result(mysqli_stmt $statement): mysqli_result|false\n```\n\nОтримує набір результатів з підготовленого запиту як об'єкта [mysqli\\_result](class.mysqli-result.md). Дані будуть завантажені з сервера MySQL у PHP. Метод слід викликати лише для запитів, які виробляють набір результатів.\n\n> **Зауваження** :\n> \n> Доступно лише з модулем [mysqlnd](book.mysqlnd.md)\n\n> **Зауваження** :\n> \n> Цю функцію не можна використовувати спільно з [mysqli\\_stmt\\_store\\_result()](mysqli-stmt.store-result.md). Обидві ці функції отримують повний набір результатів із сервера MySQL.\n\n### Список параметрів\n\n`stmt`\n\nТільки для процедурного стилю: об'єкт [mysqli\\_stmt](class.mysqli-stmt.md), який повернула функція [mysqli\\_stmt\\_init()](mysqli.stmt-init.md)\n\n### Значення, що повертаються\n\nПовертає **`false`** у разі виникнення помилки. Для успішних запитів, які виробляють набір результатів, таких як `SELECT, SHOW, DESCRIBE`или`EXPLAIN` **mysqli\\_stmt\\_get\\_result()** поверне об'єкт [mysqli\\_result](class.mysqli-result.md). Для інших успішних запитів **mysqli\\_stmt\\_get\\_result()** поверне \\*\\*`false`\\*\\*ю[mysqli\\_stmt\\_errno()](mysqli-stmt.errno.md) можна використовувати, щоб розрізняти дві причини появи **`false`**; через помилку до PHP 7.4.13 для цієї мети доводилося використовувати [mysqli\\_errno()](mysqli.errno.md)\n\n### Помилки\n\nЯкщо сповіщення про помилки mysqli включено (**`MYSQLI_REPORT_ERROR`**) та запитана операція не вдалася, видається попередження. Якщо, крім того, встановлено режим **`MYSQLI_REPORT_STRICT`**, натомість буде викинуто виняток [mysqli\\_sql\\_exception](class.mysqli-sql-exception.md)\n\n### Приклади\n\n**Приклад #1 Об'єктно-орієнтований стиль**\n\n```php\n<?php\n\nmysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n$mysqli = new mysqli(\"localhost\", \"my_user\", \"my_password\", \"world\");\n\n$query = \"SELECT Name, Population, Continent FROM Country WHERE Continent=? ORDER BY Name LIMIT 1\";\n\n$stmt = $mysqli->prepare($query);\n$stmt->bind_param(\"s\", $continent);\n\n$continentList = array('Europe', 'Africa', 'Asia', 'North America');\n\nforeach ($continentList as $continent) {\n    $stmt->execute();\n    $result = $stmt->get_result();\n    while ($row = $result->fetch_array(MYSQLI_NUM)) {\n        foreach ($row as $r) {\n            print \"$r \";\n        }\n        print \"\\n\";\n    }\n}\n```\n\n**Приклад #2 Процедурний стиль**\n\n```php\n<?php\n\nmysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n$link = mysqli_connect(\"localhost\", \"my_user\", \"my_password\", \"world\");\n\n$query = \"SELECT Name, Population, Continent FROM Country WHERE Continent=? ORDER BY Name LIMIT 1\";\n\n$stmt = mysqli_prepare($link, $query);\nmysqli_stmt_bind_param($stmt, \"s\", $continent);\n\n$continentList= array('Europe', 'Africa', 'Asia', 'North America');\n\nforeach ($continentList as $continent) {\n    mysqli_stmt_execute($stmt);\n    $result = mysqli_stmt_get_result($stmt);\n    while ($row = mysqli_fetch_array($result, MYSQLI_NUM)) {\n        foreach ($row as $r) {\n            print \"$r \";\n        }\n        print \"\\n\";\n    }\n}\n```\n\nВисновок наведених прикладів буде схожим на:\n\n```\nAlbania 3401200 Europe\nAlgeria 31471000 Africa\nAfghanistan 22720000 Asia\nAnguilla 8000 North America\n```\n\n### Дивіться також\n\n-   [mysqli\\_prepare()](mysqli.prepare.md) \\- готує SQL вираз до виконання\n-   [mysqli\\_stmt\\_result\\_metadata()](mysqli-stmt.result-metadata.md) \\- Повертає метадані результуючої таблиці запиту, що готується.\n-   [mysqli\\_stmt\\_fetch()](mysqli-stmt.fetch.md) \\- пов'язує результати підготовленого виразу зі змінними\n-   [mysqli\\_fetch\\_array()](mysqli-result.fetch-array.md) \\- Вибирає наступний рядок з набору результатів і поміщає його в асоціативний масив, звичайний масив або в обидва\n-   [mysqli\\_stmt\\_store\\_result()](mysqli-stmt.store-result.md) \\- Зберігає набір результатів у внутрішньому буфері\n","title":"mysqli\\_stmt::get\\_result","contentType":2,"navigation":[{"mysqli-stmt.free-result.md":"« mysqli\\_stmt::free\\_result"},{"mysqli-stmt.get-warnings.md":"mysqli\\_stmt::get\\_warnings »"},{"index.md":"PHP Manual"},{"class.mysqli-stmt.md":"mysqli\\_stmt"}]}},"__N_SSG":true}