{"pageProps":{"page":{"slug":"class.ziparchive.md","content":"# Класс[ZipArchive](class.ziparchive.md)\n\n(PHP 5 >= 5.2.0, PHP 7, PHP 8, PECL zip >= 1.1.0)\n\n## Вступ\n\nФайловий архів, стислий Zip.\n\n## Огляд класів\n\n```classsynopsis\n\n    \n     class ZipArchive\n    \n\n    \n     implements\n      Countable {\n\n    /* Константы */\n    \n     public\n     const\n     int\n      CREATE;\n\n    public\n     const\n     int\n      EXCL;\n\n    public\n     const\n     int\n      CHECKCONS;\n\n    public\n     const\n     int\n      OVERWRITE;\n\n    public\n     const\n     int\n      RDONLY;\n\n    public\n     const\n     int\n      FL_NOCASE;\n\n    public\n     const\n     int\n      FL_NODIR;\n\n    public\n     const\n     int\n      FL_COMPRESSED;\n\n    public\n     const\n     int\n      FL_UNCHANGED;\n\n    public\n     const\n     int\n      FL_RECOMPRESS;\n\n    public\n     const\n     int\n      FL_ENCRYPTED;\n\n    public\n     const\n     int\n      FL_OVERWRITE;\n\n    public\n     const\n     int\n      FL_LOCAL;\n\n    public\n     const\n     int\n      FL_CENTRAL;\n\n    public\n     const\n     int\n      FL_ENC_GUESS;\n\n    public\n     const\n     int\n      FL_ENC_RAW;\n\n    public\n     const\n     int\n      FL_ENC_STRICT;\n\n    public\n     const\n     int\n      FL_ENC_UTF_8;\n\n    public\n     const\n     int\n      FL_ENC_CP437;\n\n    public\n     const\n     int\n      FL_OPEN_FILE_NOW;\n\n    public\n     const\n     int\n      CM_DEFAULT;\n\n    public\n     const\n     int\n      CM_STORE;\n\n    public\n     const\n     int\n      CM_SHRINK;\n\n    public\n     const\n     int\n      CM_REDUCE_1;\n\n    public\n     const\n     int\n      CM_REDUCE_2;\n\n    public\n     const\n     int\n      CM_REDUCE_3;\n\n    public\n     const\n     int\n      CM_REDUCE_4;\n\n    public\n     const\n     int\n      CM_IMPLODE;\n\n    public\n     const\n     int\n      CM_DEFLATE;\n\n    public\n     const\n     int\n      CM_DEFLATE64;\n\n    public\n     const\n     int\n      CM_PKWARE_IMPLODE;\n\n    public\n     const\n     int\n      CM_BZIP2;\n\n    public\n     const\n     int\n      CM_LZMA;\n\n    public\n     const\n     int\n      CM_LZMA2;\n\n    public\n     const\n     int\n      CM_ZSTD;\n\n    public\n     const\n     int\n      CM_XZ;\n\n    public\n     const\n     int\n      CM_TERSE;\n\n    public\n     const\n     int\n      CM_LZ77;\n\n    public\n     const\n     int\n      CM_WAVPACK;\n\n    public\n     const\n     int\n      CM_PPMD;\n\n    public\n     const\n     int\n      ER_OK;\n\n    public\n     const\n     int\n      ER_MULTIDISK;\n\n    public\n     const\n     int\n      ER_RENAME;\n\n    public\n     const\n     int\n      ER_CLOSE;\n\n    public\n     const\n     int\n      ER_SEEK;\n\n    public\n     const\n     int\n      ER_READ;\n\n    public\n     const\n     int\n      ER_WRITE;\n\n    public\n     const\n     int\n      ER_CRC;\n\n    public\n     const\n     int\n      ER_ZIPCLOSED;\n\n    public\n     const\n     int\n      ER_NOENT;\n\n    public\n     const\n     int\n      ER_EXISTS;\n\n    public\n     const\n     int\n      ER_OPEN;\n\n    public\n     const\n     int\n      ER_TMPOPEN;\n\n    public\n     const\n     int\n      ER_ZLIB;\n\n    public\n     const\n     int\n      ER_MEMORY;\n\n    public\n     const\n     int\n      ER_CHANGED;\n\n    public\n     const\n     int\n      ER_COMPNOTSUPP;\n\n    public\n     const\n     int\n      ER_EOF;\n\n    public\n     const\n     int\n      ER_INVAL;\n\n    public\n     const\n     int\n      ER_NOZIP;\n\n    public\n     const\n     int\n      ER_INTERNAL;\n\n    public\n     const\n     int\n      ER_INCONS;\n\n    public\n     const\n     int\n      ER_REMOVE;\n\n    public\n     const\n     int\n      ER_DELETED;\n\n    public\n     const\n     int\n      ER_ENCRNOTSUPP;\n\n    public\n     const\n     int\n      ER_RDONLY;\n\n    public\n     const\n     int\n      ER_NOPASSWD;\n\n    public\n     const\n     int\n      ER_WRONGPASSWD;\n\n    public\n     const\n     int\n      ER_OPNOTSUPP;\n\n    public\n     const\n     int\n      ER_INUSE;\n\n    public\n     const\n     int\n      ER_TELL;\n\n    public\n     const\n     int\n      ER_COMPRESSED_DATA;\n\n    public\n     const\n     int\n      ER_CANCELLED;\n\n    public\n     const\n     int\n      ER_DATA_LENGTH;\n\n    public\n     const\n     int\n      ER_NOT_ALLOWED;\n\n    public\n     const\n     int\n      AFL_RDONLY;\n\n    public\n     const\n     int\n      AFL_IS_TORRENTZIP;\n\n    public\n     const\n     int\n      AFL_WANT_TORRENTZIP;\n\n    public\n     const\n     int\n      AFL_CREATE_OR_KEEP_FILE_FOR_EMPTY_ARCHIVE;\n\n    public\n     const\n     int\n      OPSYS_DOS;\n\n    public\n     const\n     int\n      OPSYS_AMIGA;\n\n    public\n     const\n     int\n      OPSYS_OPENVMS;\n\n    public\n     const\n     int\n      OPSYS_UNIX;\n\n    public\n     const\n     int\n      OPSYS_VM_CMS;\n\n    public\n     const\n     int\n      OPSYS_ATARI_ST;\n\n    public\n     const\n     int\n      OPSYS_OS_2;\n\n    public\n     const\n     int\n      OPSYS_MACINTOSH;\n\n    public\n     const\n     int\n      OPSYS_Z_SYSTEM;\n\n    public\n     const\n     int\n      OPSYS_CPM;\n\n    public\n     const\n     int\n      OPSYS_WINDOWS_NTFS;\n\n    public\n     const\n     int\n      OPSYS_MVS;\n\n    public\n     const\n     int\n      OPSYS_VSE;\n\n    public\n     const\n     int\n      OPSYS_ACORN_RISC;\n\n    public\n     const\n     int\n      OPSYS_VFAT;\n\n    public\n     const\n     int\n      OPSYS_ALTERNATE_MVS;\n\n    public\n     const\n     int\n      OPSYS_BEOS;\n\n    public\n     const\n     int\n      OPSYS_TANDEM;\n\n    public\n     const\n     int\n      OPSYS_OS_400;\n\n    public\n     const\n     int\n      OPSYS_OS_X;\n\n    public\n     const\n     int\n      OPSYS_DEFAULT;\n\n    public\n     const\n     int\n      EM_NONE;\n\n    public\n     const\n     int\n      EM_TRAD_PKWARE;\n\n    public\n     const\n     int\n      EM_AES_128;\n\n    public\n     const\n     int\n      EM_AES_192;\n\n    public\n     const\n     int\n      EM_AES_256;\n\n    public\n     const\n     int\n      EM_UNKNOWN;\n\n    public\n     const\n     string\n      LIBZIP_VERSION;\n\n    public\n     const\n     int\n      LENGTH_TO_END;\n\n    public\n     const\n     int\n      LENGTH_UNCHECKED;\n\n\n    /* Свойства */\n    public\n     readonly\n     int\n      $lastId;\n\n    public\n     readonly\n     int\n      $status;\n\n    public\n     readonly\n     int\n      $statusSys;\n\n    public\n     readonly\n     int\n      $numFiles;\n\n    public\n     readonly\n     string\n      $filename;\n\n    public\n     readonly\n     string\n      $comment;\n\n\n    /* Методы */\n    \n   public addEmptyDir(string $dirname, int $flags = 0): bool\npublic addFile(    string $filepath,    string $entryname = \"\",    int $start = 0,    int $length = ZipArchive::LENGTH_TO_END,    int $flags = ZipArchive::FL_OVERWRITE): bool\npublic addFromString(string $name, string $content, int $flags = ZipArchive::FL_OVERWRITE): bool\npublic addGlob(string $pattern, int $flags = 0, array $options = []): array|false\npublic addPattern(string $pattern, string $path = \".\", array $options = []): array|false\npublic clearError(): void\npublic close(): bool\npublic count(): int\npublic deleteIndex(int $index): bool\npublic deleteName(string $name): bool\npublic extractTo(string $pathto, array|string|null $files = null): bool\npublic getArchiveComment(int $flags = 0): string|false\npublic getArchiveFlag(int $flag = 0, int $flags = 0): int\npublic getCommentIndex(int $index, int $flags = 0): string|false\npublic getCommentName(string $name, int $flags = 0): string|false\npublic getExternalAttributesIndex(    int $index,    int &$opsys,    int &$attr,    int $flags = 0): bool\npublic getExternalAttributesName(    string $name,    int &$opsys,    int &$attr,    int $flags = 0): bool\npublic getFromIndex(int $index, int $len = 0, int $flags = 0): string|false\npublic getFromName(string $name, int $len = 0, int $flags = 0): string|false\npublic getNameIndex(int $index, int $flags = 0): string|false\npublic getStatusString(): string\npublic getStream(string $name): resource|false\npublic getStreamIndex(int $index, int $flags = 0): resource|false\npublic getStreamName(string $name, int $flags = 0): resource|false\npublic static isCompressionMethodSupported(int $method, bool $enc = true): bool\npublic static isEncryptionMethodSupported(int $method, bool $enc = true): bool\npublic locateName(string $name, int $flags = 0): int|false\npublic open(string $filename, int $flags = 0): bool|int\npublic registerCancelCallback(callable $callback): bool\npublic registerProgressCallback(float $rate, callable $callback): bool\npublic renameIndex(int $index, string $new_name): bool\npublic renameName(string $name, string $new_name): bool\npublic replaceFile(    string $filepath,    int $index,    int $start = 0,    int $length = ZipArchive::LENGTH_TO_END,    int $flags = 0): bool\npublic setArchiveComment(string $comment): bool\npublic setArchiveFlag(int $flag, int $value): bool\npublic setCommentIndex(int $index, string $comment): bool\npublic setCommentName(string $name, string $comment): bool\npublic setCompressionIndex(int $index, int $method, int $compflags = 0): bool\npublic setCompressionName(string $name, int $method, int $compflags = 0): bool\npublic setEncryptionIndex(int $index, int $method, ?string $password = null): bool\npublic setEncryptionName(string $name, int $method, ?string $password = null): bool\npublic setExternalAttributesIndex(    int $index,    int $opsys,    int $attr,    int $flags = 0): bool\npublic setExternalAttributesName(    string $name,    int $opsys,    int $attr,    int $flags = 0): bool\npublic setMtimeIndex(int $index, int $timestamp, int $flags = 0): bool\npublic setMtimeName(string $name, int $timestamp, int $flags = 0): bool\npublic setPassword(string $password): bool\npublic statIndex(int $index, int $flags = 0): array|false\npublic statName(string $name, int $flags = 0): array|false\npublic unchangeAll(): bool\npublic unchangeArchive(): bool\npublic unchangeIndex(int $index): bool\npublic unchangeName(string $name): bool\n\n   }\n```\n\n## Властивості\n\nlastId\n\nЗначення індексу останнього доданого запису (файл або каталог). Доступно з PHP 8.0.0 та PECL zip 1.18.0.\n\nstatus\n\nЗаголовок Zip-архіву. Доступно для закритого архіву, починаючи з PHP 8.0.0 та PECL zip 1.18.0.\n\nstatusSys\n\nСистемний статус zip-архіву. Доступно для закритого архіву, починаючи з PHP 8.0.0 та PECL zip 1.18.0.\n\nnumFiles\n\nКількість файлів в архіві\n\nfilename\n\nІм'я файлу у файловій системі\n\ncomment\n\nКоментар до архіву\n\n## Зміст\n\n-   [ZipArchive::addEmptyDir](ziparchive.addemptydir.md) \\- Додає нову директорію\n-   [ZipArchive::addFile](ziparchive.addfile.md)— Додає до ZIP-архіву файл по зазначеному шляху\n-   [ZipArchive::addFromString](ziparchive.addfromstring.md)— Додає файл до ZIP-архіву, використовуючи його вміст\n-   [ZipArchive::addGlob](ziparchive.addglob.md)— Додати файли з директорії відповідно до шаблону\n-   [ZipArchive::addPattern](ziparchive.addpattern.md)— Додати файли з директорії відповідно до шаблону регулярного вираження PCRE\n-   [ZipArchive::clearError](ziparchive.clearerror.md)— Видаляє повідомлення про помилку статусу, системні та/або повідомлення модуля zip\n-   [ZipArchive::close](ziparchive.close.md)— Закриває активний архів (відкритий чи новостворений)\n-   [ZipArchive::count](ziparchive.count.md)— Підраховує кількість файлів в архіві\n-   [ZipArchive::deleteIndex](ziparchive.deleteindex.md)— Видаляє елемент в архіві, використовуючи його індекс\n-   [ZipArchive::deleteName](ziparchive.deletename.md)— Видаляє елемент в архіві, використовуючи його ім'я\n-   [ZipArchive::extractTo](ziparchive.extractto.md)— Витягує вміст архіву\n-   [ZipArchive::getArchiveComment](ziparchive.getarchivecomment.md)— Повертає коментар ZIP-архіву\n-   [ZipArchive::getArchiveFlag](ziparchive.getarchiveflag.md)— Повертає значення глобального прапора ZIP-архіву\n-   [ZipArchive::getCommentIndex](ziparchive.getcommentindex.md)— Повертає коментар елемента, використовуючи його індекс\n-   [ZipArchive::getCommentName](ziparchive.getcommentname.md)— Повертає коментар елемента, використовуючи його ім'я\n-   [ZipArchive::getExternalAttributesIndex](ziparchive.getexternalattributesindex.md)— Витягує зовнішні атрибути запису за його індексом\n-   [ZipArchive::getExternalAttributesName](ziparchive.getexternalattributesname.md)— Витягти зовнішні атрибути запису на її ім'я\n-   [ZipArchive::getFromIndex](ziparchive.getfromindex.md)— Повертає вміст елемента за його індексом\n-   [ZipArchive::getFromName](ziparchive.getfromname.md)— Повертає вміст елемента на його ім'я\n-   [ZipArchive::getNameIndex](ziparchive.getnameindex.md)— Повертає ім'я елемента за його індексом\n-   [ZipArchive::getStatusString](ziparchive.getstatusstring.md)— Повертають статус повідомлення про помилку, системний та/або zip-статус\n-   [ZipArchive::getStream](ziparchive.getstream.md)— Отримати дескриптор файлу елемента, визначений на ім'я елемента (тільки для читання)\n-   [ZipArchive::getStreamIndex](ziparchive.getstreamindex.md)— Отримує обробник файлу для запису, визначеного його індексом (тільки для читання)\n-   [ZipArchive::getStreamName](ziparchive.getstreamname.md)— Отримує обробник файлу для запису, визначеного його ім'ям (тільки для читання)\n-   [ZipArchive::isCompressionMethodSupported](ziparchive.iscompressionmethoddupported.md)— Перевіряє, чи підтримується метод стиснення libzip\n-   [ZipArchive::isEncryptionMethodSupported](ziparchive.isencryptionmethoddupported.md)— Перевіряє, чи підтримується метод шифрування libzip\n-   [ZipArchive::locateName](ziparchive.locatename.md)— Повертає індекс елемента в архіві\n-   [ZipArchive::open](ziparchive.open.md) \\- Відкриває ZIP-архів\n-   [ZipArchive::registerCancelCallback](ziparchive.registercancelcallback.md)— Реєструє callback-функцію для дозволу скасування під час закриття архіву\n-   [ZipArchive::registerProgressCallback](ziparchive.registerprogresscallback.md)— Реєструє callback-функцію для надання оновлень під час закриття архіву\n-   [ZipArchive::renameIndex](ziparchive.renameindex.md)— Перейменовує елемент за його індексом\n-   [ZipArchive::renameName](ziparchive.renamename.md)— Перейменовує елемент на його ім'я\n-   [ZipArchive::replaceFile](ziparchive.replacefile.md)— Замінює файл у ZIP-архіві заданим шляхом\n-   [ZipArchive::setArchiveComment](ziparchive.setarchivecomment.md)— Встановлює коментар до ZIP-архіву\n-   [ZipArchive::setArchiveFlag](ziparchive.setarchiveflag.md)— Встановлює глобальний прапор ZIP-архіву\n-   [ZipArchive::setCommentIndex](ziparchive.setcommentindex.md)— Встановлює коментар до елемента за його індексом\n-   [ZipArchive::setCommentName](ziparchive.setcommentname.md)— Встановлює коментар до елемента, заданого на ім'я\n-   [ZipArchive::setCompressionIndex](ziparchive.setcompressionindex.md)— Встановити метод стиснення запису, заданого його індексом\n-   [ZipArchive::setCompressionName](ziparchive.setcompressionname.md)— Встановити метод стиснення запису, заданого на ім'я\n-   [ZipArchive::setEncryptionIndex](ziparchive.setencryptionindex.md)— Встановити метод шифрування запису за його індексом\n-   [ZipArchive::setEncryptionName](ziparchive.setencryptionname.md)— Встановити метод шифрування запису на його ім'я\n-   [ZipArchive::setExternalAttributesIndex](ziparchive.setexternalattributesindex.md)— Встановити зовнішні атрибути запису за його індексом\n-   [ZipArchive::setExternalAttributesName](ziparchive.setexternalattributesname.md)— Встановлення зовнішніх атрибутів запису, заданого на ім'я\n-   [ZipArchive::setMtimeIndex](ziparchive.setmtimeindex.md)— Встановити час модифікації файлу за його індексом\n-   [ZipArchive::setMtimeName](ziparchive.setmtimename.md)— Встановити час модифікації файлу на ім'я\n-   [ZipArchive::setPassword](ziparchive.setpassword.md)— Встановлення пароля для активного архіву\n-   [ZipArchive::statIndex](ziparchive.statindex.md)— Отримання детальної інформації про елемент за його індексом\n-   [ZipArchive::statName](ziparchive.statname.md)— Отримання детальної інформації про елемент на його ім'я\n-   [ZipArchive::unchangeAll](ziparchive.unchangeall.md)— Скасовує всі зміни, зроблені в архіві\n-   [ZipArchive::unchangeArchive](ziparchive.unchangearchive.md)— Повертає всі глобальні зміни, зроблені в архіві\n-   [ZipArchive::unchangeIndex](ziparchive.unchangeindex.md)— Скасує всі зміни у позиції із заданим індексом\n-   [ZipArchive::unchangeName](ziparchive.unchangename.md)— Скасує всі зміни у позиції із заданим ім'ям\n","title":"Класс[ZipArchive](class.ziparchive.md)","contentType":2,"navigation":[{"zip.examples.md":"« Приклади"},{"ziparchive.addemptydir.md":"ZipArchive::addEmptyDir »"},{"index.md":"PHP Manual"},{"book.zip.md":"Zip"}]}},"__N_SSG":true}