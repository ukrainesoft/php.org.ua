{"pageProps":{"page":{"slug":"function.sqlsrv-connect.md","content":"# sqlsrv\\_connect\n\n(No version information available, might only be in Git)\n\nsqlsrv\\_connect — Відкриває з'єднання з базою даних Microsoft SQL Server\n\n### Опис\n\n```methodsynopsis\nsqlsrv_connect(string $serverName, array $connectionInfo = ?): resource\n```\n\nВідкриває з'єднання з базою даних Microsoft SQL Server. За промовчанням спроба підключення виконується за допомогою автентифікації Windows. Щоб підключитися з використанням автентифікації SQL Server, увімкніть \"UID\" і \"PWD\" в масив параметрів підключення.\n\n### Список параметрів\n\n`serverName`\n\nІм'я сервера, до якого встановлюється з'єднання. Щоб підключитися до певного екземпляра, після імені сервера вкажіть зворотну косу межу та ім'я екземпляра (наприклад, serverName\\\\sqlexpress).\n\n`connectionInfo`\n\nАсоціативний масив, який визначає параметри підключення до сервера. Якщо значення для ключів UID і PWD не вказано, буде зроблено спробу підключення за допомогою автентифікації Windows. Повний список підтримуваних ключів дивіться у розділі [» Параметри підключення SQLSRV](http://msdn.microsoft.com/en-us/library/ff628167.aspx)\n\n### Значення, що повертаються\n\nРесурс підключення. Якщо з'єднання не може бути відкрито, повертається **`false`**\n\n### Приклади\n\n**Приклад #1 Підключення за допомогою автентифікації Windows.**\n\n```php\n<?php\n$serverName = \"serverName\\\\sqlexpress\"; //serverName\\instanceName\n\n// Поскольку UID и PWD не указаны в массиве $connectionInfo,\n// будет предпринята попытка подключения с использованием проверки подлинности Windows.\n$connectionInfo = array( \"Database\"=>\"dbName\");\n$conn = sqlsrv_connect( $serverName, $connectionInfo);\n\nif( $conn ) {\n     echo \"Соединение установлено.<br />\";\n}else{\n     echo \"Соединение не установлено.<br />\";\n     die( print_r( sqlsrv_errors(), true));\n}\n?>\n```\n\n**Приклад #2 Підключення за допомогою імені користувача та пароля.**\n\n```php\n<?php\n$serverName = \"serverName\\\\sqlexpress\"; //serverName\\instanceName\n$connectionInfo = array( \"Database\"=>\"dbName\", \"UID\"=>\"userName\", \"PWD\"=>\"password\");\n$conn = sqlsrv_connect( $serverName, $connectionInfo);\n\nif( $conn ) {\n     echo \"Соединение установлено.<br />\";\n}else{\n     echo \"Соединение не установлено.<br />\";\n     die( print_r( sqlsrv_errors(), true));\n}\n?>\n```\n\n**Приклад #3 Підключення за допомогою порту.**\n\n```php\n<?php\n$serverName = \"serverName\\\\sqlexpress, 1542\"; //serverName\\instanceName, portNumber (по умолчанию 1433)\n$connectionInfo = array( \"Database\"=>\"dbName\", \"UID\"=>\"userName\", \"PWD\"=>\"password\");\n$conn = sqlsrv_connect( $serverName, $connectionInfo);\n\nif( $conn ) {\n     echo \"Соединение установлено.<br />\";\n}else{\n     echo \"Соединение не установлено.<br />\";\n     die( print_r( sqlsrv_errors(), true));\n}\n?>\n```\n\n### Примітки\n\nПо умолчанию**sqlsrv\\_connect()** використовує пул сполук підвищення продуктивності з'єднання. Щоб вимкнути пул з'єднань (тобто примусово встановлювати нове з'єднання під час кожного виклику), встановіть для параметра \"ConnectionPooling\" у масиві $connectionOptions значення 0 (або **`false`**). Для отримання додаткової інформації дивіться розділ [» Пул з'єднань SQLSRV](http://msdn.microsoft.com/en-us/library/cc644930.aspx)\n\nМодуль SQLSRV не має спеціальної функції для зміни бази даних після підключення. Цільова база даних вказується в масиві $connectionOptions, що передається в sqlsrv\\_connect. Щоб змінити базу даних під час відкритого з'єднання, виконайте наступний запит \"USE dbName\" (наприклад, sqlsrv\\_query($conn, \"USE dbName\")).\n\n### Дивіться також\n\n-   [sqlsrv\\_close()](function.sqlsrv-close.md) \\- Закриває відкрите з'єднання та звільняє ресурси, пов'язані з цим з'єднанням\n-   [sqlsrv\\_errors()](function.sqlsrv-errors.md) \\- Повертає інформацію про помилку та попередження останньої виконаної операції SQLSRV\n-   [sqlsrv\\_query()](function.sqlsrv-query.md) \\- готує та виконує запит\n","title":"sqlsrv\\_connect","contentType":2,"navigation":[{"function.sqlsrv-configure.md":"« sqlsrv\\_configure"},{"function.sqlsrv-errors.md":"sqlsrv\\_errors »"},{"index.md":"PHP Manual"},{"ref.sqlsrv.md":"Функції SQLSRV"}]}},"__N_SSG":true}