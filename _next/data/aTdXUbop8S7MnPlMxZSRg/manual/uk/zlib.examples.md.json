{"pageProps":{"page":{"slug":"zlib.examples.md","content":"# Приклади\n\nУ цьому прикладі відкривається тимчасовий файл, записується рядок, а потім двічі виводиться вміст.\n\n**Приклад #1 Приклад використання Zlib**\n\n```php\n<?php\n\n$filename = tempnam('/tmp', 'zlibtest') . '.gz';\necho \"<html>\\n<head></head>\\n<body>\\n<pre>\\n\";\n$s = \"Только тест, тест, тест, тест, тест, тест, тест, тест!\\n\";\n\n// Открытие файла для записи с максимальным сжатием\n$zp = gzopen($filename, \"w9\");\n\n// Запись строки в файл\ngzwrite($zp, $s);\n\n// Закрытие файла\ngzclose($zp);\n\n// Открытие файла для чтения\n$zp = gzopen($filename, \"r\");\n\n// Чтение трёх символов\necho gzread($zp, 3);\n\n// Вывод до конца файла, а затем закрытие файла\ngzpassthru($zp);\ngzclose($zp);\n\necho \"\\n\";\n\n// Открытие файла и вывод содержимого (во второй раз)\nif (readgzfile($filename) != strlen($s)) {\n     echo \"Возникла ошибка с функциями zlib!\";\n}\nunlink($filename);\necho \"</pre>\\n</body>\\n</html>\\n\";\n\n?>\n```\n\n**Приклад #2 Робота з API інкрементальної компресії та декомпресії**\n\n```php\n<?php\n\n// Выполнение компрессии GZIP:\n$deflateContext = deflate_init(ZLIB_ENCODING_GZIP);\n$compressed = deflate_add($deflateContext, \"Данные для сжатия\", ZLIB_NO_FLUSH);\n$compressed .= deflate_add($deflateContext, \", больше данных\", ZLIB_NO_FLUSH);\n$compressed .= deflate_add($deflateContext, \"и ещё больше данных!\", ZLIB_FINISH);\n\n// Выполнение декомпрессии GZIP:\n$inflateContext = inflate_init(ZLIB_ENCODING_GZIP);\n$uncompressed = inflate_add($inflateContext, $compressed, ZLIB_NO_FLUSH);\n$uncompressed .= inflate_add($inflateContext, NULL, ZLIB_FINISH);\necho $uncompressed;\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nДанные для сжатия, больше данных и ещё больше данных!\n```\n","title":"Приклади","contentType":2,"navigation":[{"zlib.constants.md":"« Зумовлені константи"},{"ref.zlib.md":"Функції Zlib »"},{"index.md":"PHP Manual"},{"book.zlib.md":"Zlib"}]}},"__N_SSG":true}