{"pageProps":{"page":{"slug":"function.ssh2-auth-pubkey-file.md","content":"# ssh2\\_auth\\_pubkey\\_file\n\n(PECL ssh2 >= 0.9.0)\n\nssh2\\_auth\\_pubkey\\_file — Аутентифікація з відкритим ключем\n\n### Опис\n\n```methodsynopsis\nssh2_auth_pubkey_file(    resource $session,    string $username,    string $pubkeyfile,    string $privkeyfile,    string $passphrase = ?): bool\n```\n\nАутентифікація з відкритим ключем, збереженим у файлі.\n\n### Список параметрів\n\n`session`\n\nІдентифікатор з'єднання SSH, отриманий з [ssh2\\_connect()](function.ssh2-connect.md)\n\n`username`\n\n`pubkeyfile`\n\nВідкритий ключ у форматі OpenSSH. Має виглядати приблизно так:\n\nssh-rsa AAAAB3NzaC1yc2EAAA....NX6sqSnHA8= rsa-key-20121110\n\n`privkeyfile`\n\n`passphrase`\n\nЯкщо `privkeyfile` зашифрований (як би мав), то необхідно надати `passphrase`\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Аутентифікація з відкритим ключем**\n\n```php\n<?php\n$connection = ssh2_connect('shell.example.com', 22, array('hostkey'=>'ssh-rsa'));\n\nif (ssh2_auth_pubkey_file($connection, 'username',\n                          '/home/username/.ssh/id_rsa.pub',\n                          '/home/username/.ssh/id_rsa', 'secret')) {\n  echo \"Успешная аутентификация с открытым ключом\\n\";\n} else {\n  die('Неудачная аутентификация с открытым ключом');\n}\n?>\n```\n\n### Примітки\n\n> **Зауваження** :\n> \n> Основна бібліотека libssh не підтримує часткові автентифікації дуже чисто. Тобто, якщо вам потрібно надати як відкритий ключ, так і пароль, він виглядатиме так, якби ця функція зазнала невдачі. У цьому випадку невдалий виклик може означати, що автентифікація не завершена. Вам потрібно ігнорувати це невдале виконання, продовжити роботу та викликати [ssh2\\_auth\\_password()](function.ssh2-auth-password.md) для завершення автентифікації.\n","title":"ssh2\\_auth\\_pubkey\\_file","contentType":2,"navigation":[{"function.ssh2-auth-password.md":"« ssh2\\_auth\\_password"},{"function.ssh2-connect.md":"ssh2\\_connect »"},{"index.md":"PHP Manual"},{"ref.ssh2.md":"Функції SSH2"}]}},"__N_SSG":true}