- [« pcntl_wait](function.pcntl-wait.md)
- [pcntl_wexitstatus »](function.pcntl-wexitstatus.md)

- [PHP Manual](index.md)
- [Функції PCNTL](ref.pcntl.md)
- Очікує чи повертає статус породженого дочірнього процесу

#pcntl_waitpid

(PHP 4 \>u003d 4.1.0, PHP 5, PHP 7, PHP 8)

pcntl_waitpid — Очікує або повертає статус породженого дочірнього
процесу

### Опис

**pcntl_waitpid**(
int `$process_id`,
int `&$status`,
int `$flags` u003d 0,
array `&$resource_usage` u003d \[\]
): int

Функція очікування призупиняє виконання поточного процесу
поки дочірній процес, вказаний в аргументі `process_id`, не
завершиться або поки не буде отримано сигнал, який завершує поточний
процес чи викликає функцію обробки сигналу.

Якщо дочірній процес, зазначений у аргументі `process_id`, вже
завершився на час виклику (так звані "зомбі" процеси), функція
негайно поверне управління. Будь-які системні ресурси, що використовуються
дочірнім процесом буде звільнено. Зверніться до вашого системного
керівництву waitpid(2) для уточнення специфіки роботи waitpid у вашій
системі.

### Список параметрів

`process_id`
Аргумент `process_id` може приймати одне з наступних значень:

| | |
|--------|---------------------------------------- -------------------------------------------------- -------------------------------------------------- -----|
| `<-1` | очікувати на будь-який дочірній процес, у якого значення ідентифікатор групи процесів (group ID) дорівнює модулю значення аргументу \|`process_id`\|. |
| `-1` | чекати на будь-який дочірній процес; це така ж поведінка, що й у функції wait. |
| `0` | очікувати будь-який дочірній процес, ідентифікатор групи процесів (group ID) якого дорівнює ідентифікатору поточного процесу. |
| `>0` | чекати дочірній процес ID якого дорівнює `process_id`. |

**можливі значення аргументу `process_id`**

> **Примітка**:
>
> Вказівка `-1` як `process_id` - це аналог функції
> [pcntl_wait()](function.pcntl-wait.md) (мінус `flags`).

`status`
**pcntl_waitpid()** розмістить інформацію про статус за посиланням у аргументі
`status`, який може бути переданий у такі функції:
[pcntl_wifexited()](function.pcntl-wifexited.md),
[pcntl_wifstopped()](function.pcntl-wifstopped.md),
[pcntl_wifsignaled()](function.pcntl-wifsignaled.md),
[pcntl_wexitstatus()](function.pcntl-wexitstatus.md),
[pcntl_wtermsig()](function.pcntl-wtermsig.md) та
[pcntl_wstopsig()](function.pcntl-wstopsig.md).

`flags`
Значення аргументу `flags` – це бітова маска, яка може приймати
значення нуль або більше шляхом логічного об'єднання наступних
констант:

| | |
|-------------|--------------------------------------- -------------------------------------------------- -------|
| `WNOHANG` | Негайно повернути управління, якщо жоден із дочірніх процесів не завершено |
| `WUNTRACED` | Повернути управління для зупинених дочірніх процесів, статус яких ще не повідомлено |

**Можливі значення для `flags`**

### Значення, що повертаються

[pcntl_wait()](function.pcntl-wait.md) повертає ID завершеного
дочірнього процесу, -1 у разі виникнення помилки або нуль, якщо
**`WNOHANG`** було передано в аргумент `flags` і не було доступних
дочірніх процесів.

### Дивіться також

- [pcntl_fork()](function.pcntl-fork.md) - Розгалужити (fork) поточний
запущений процес
- [pcntl_signal()](function.pcntl-signal.md) - Встановлення обробника
сигналу
- [pcntl_wifexited()](function.pcntl-wifexited.md) - Перевіряє,
чи відповідає код завершення процесу нормальному завершенню
- [pcntl_wifstopped()](function.pcntl-wifstopped.md) - Перевірити,
чи зупинено дочірній процес
- [pcntl_wifsignaled()](function.pcntl-wifsignaled.md) - Перевірити,
чи відповідає код завершення процесу завершення сигналу
- [pcntl_wexitstatus()](function.pcntl-wexitstatus.md) - Отримати
код повернення завершеного дочірнього процесу
- [pcntl_wtermsig()](function.pcntl-wtermsig.md) - Отримати сигнал,
через який було примусово завершено дочірній процес
- [pcntl_wstopsig()](function.pcntl-wstopsig.md) - Отримати сигнал,
через який було зупинено дочірній процес
