{"pageProps":{"page":{"slug":"function.curl_upkeep.md","content":"# curl\\_upkeep\n\n(PHP 8 >= 8.2.0)\n\ncurl\\_upkeep — Виконує будь-які перевірки працездатності з'єднань\n\n### Опис\n\n```methodsynopsis\ncurl_upkeep(CurlHandle $handle): bool\n```\n\nДоступний при збиранні з libcurl >= 7.62.0.\n\nДеякі протоколи підтримують механізми підтримки з'єднання. Ці механізми зазвичай передають невеликий обсяг трафіку існуючими сполуками, щоб зберегти їх. Це може запобігти закриттю з'єднань, наприклад, через занадто старанних фаєрволів.\n\nВ даний час функція підтримки з'єднання доступна лише для з'єднань HTTP/2. Для підтримки з'єднання зазвичай надсилається невеликий обсяг трафіку. HTTP/2 підтримує з'єднання, надсилаючи фрагмент HTTP/2 PING.\n\n### Список параметрів\n\n`handle`\n\nДескриптор cURL, отриманий з [curl\\_init()](function.curl-init.md)\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Приклад використання** curl\\_upkeep()\\*\\*\\*\\*\n\n```php\n<?php\n$url = \"https://example.com\";\n\n$ch = curl_init();\ncurl_setopt($ch, CURLOPT_URL, $url);\ncurl_setopt($ch, CURLOPT_RETURNTRANSFER, true);\ncurl_setopt($ch, CURLOPT_HTTP_VERSION,CURL_HTTP_VERSION_2_0);\ncurl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);\ncurl_setopt($ch, CURLOPT_UPKEEP_INTERVAL_MS, 200);\nif (curl_exec($ch)) {\n    usleep(300);\n    var_dump(curl_upkeep($ch));\n}\ncurl_close($ch);\n?>\n```\n\n### Дивіться також\n\n-   [curl\\_init()](function.curl-init.md) \\- Ініціалізує сеанс cURL\n","title":"curl\\_upkeep","contentType":2,"navigation":[{"function.curl-unescape.md":"« curl\\_unescape"},{"function.curl-version.md":"curl\\_version »"},{"index.md":"PHP Manual"},{"ref.curl.md":"Опції cURL"}]}},"__N_SSG":true}