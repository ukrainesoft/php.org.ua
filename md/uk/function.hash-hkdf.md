- [«hash_final](function.hash-final.md)
- [hash_hmac_algos »](function.hash-hmac-algos.md)

- [PHP Manual](index.md)
- [Функції Hash](ref.hash.md)
- Формування ключа HKDF для заданих вхідних даних

# hash_hkdf

(PHP 7 \>u003d 7.1.2, PHP 8)

hash_hkdf — Формування ключа HKDF для заданих вхідних даних

### Опис

**hash_hkdf**(
string `$algo`,
string `$key`,
int `$length` u003d 0,
string `$info` u003d "",
string `$salt` u003d ""
): string

### Список параметрів

`algo`
Ім'я вибраного хешируючого алгоритму (наприклад, "sha256", "sha512",
"haval160,4" і т.д.) Список підтримуваних алгоритмів можна переглянути в
опис функції [hash_algos()](function.hash-algos.md).

> **Примітка**:
>
> Не криптографічні функції, що хешують, не допускаються.

`key`
Вхідні дані (необроблені бінарні дані). Не може бути порожнім.

`length`
Вибрана довжина виведення у байтах. Не може бути більш ніж у 255 разів
більше розміру обраної функції, що хешує.

Якщо `length` встановлено як `0`, то виведення за довжиною дорівнюватиме розміру
обраної функції, що хешує.

`info`
Інформаційний рядок, специфічний для застосування/контексту.

`salt`
Сіль, що використовується при формуванні ключа.

Хоча й необов'язково, але додавання випадкової солі значно покращує
силу HKDF.

### Значення, що повертаються

Повертає рядок, що містить необроблені бінарні дані,
що представляють сформований ключ або **`false`** у разі невдачі.

### Помилки

Помилка рівня **`E_WARNING`** буде згенерована у разі, якщо
параметр `key` порожній, у параметрі `algo` вказаний невідомий чи не
криптографічний алгоритм, параметр `length` менше `0` або дуже
великий (більш ніж 255 разів більше розміру хеш-функции).

### Приклади

**Приклад #1 Приклад використання **hash_hkdf()****

`<?php// Генеруємо випадковий ключ і соль для посилення процесу формування.$inputKey u003d random_bytes(32);$salt u003drandom_bytes(16); hash_hkdf('sha256', $inputKey, 32, 'aes-256-encryption', $salt);$authenticationKey u003d hash_hkdf('sha256', $inputKey, 32, 'sha-256-; ($encryptionKey !u003du003d $authenticationKey); //bool(true)?> `

У прикладі вище створена пара різних ключів, що підходять для створення
конструкції encrypt-then-HMAC, використовуючи AES-256 та SHA-256 для
кодування та аутентифікації відповідно.

### Дивіться також

- [hash_pbkdf2()](function.hash-pbkdf2.md) - Формування ключа
PBKDF2 для заданих вхідних даних
- [»RFC 5869](http://www.faqs.org/rfcs/rfc5869)
- [» користувацька
реалізація](https://github.com/narfbg/hash_hkdf_compat)
