{"pageProps":{"page":{"slug":"function.cubrid-next-result.md","content":"# cubrid\\_next\\_result\n\n(PECL CUBRID >= 8.4.0)\n\ncubrid\\_next\\_result — Отримує результат наступного запиту під час виконання кількох SQL-операторів.\n\n### Опис\n\n```methodsynopsis\ncubrid_next_result(resource $result): bool\n```\n\nФункция**cubrid\\_next\\_result()** використовується для отримання результатів наступного запиту, якщо виконується кілька SQL-операторів та для [cubrid\\_execute()](function.cubrid-execute.md)установлен флаг\\*\\*`CUBRID_EXEC_QUERY_ALL`\\*\\*\n\n### Список параметрів\n\n`result`\n\n`result` із виклику функції [cubrid\\_execute()](function.cubrid-execute.md)\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Приклад використання** cubrid\\_next\\_result()\\*\\*\\*\\*\n\n```php\n<?php\n$conn = cubrid_connect(\"127.0.0.1\", 33000, \"demodb\", \"dba\");\n\n$sql_stmt = \"SELECT * FROM code; SELECT * FROM history WHERE host_year=2004 AND event_code=20281\";\n$res = cubrid_execute($conn, $sql_stmt, CUBRID_EXEC_QUERY_ALL);\n\nget_result_info($res);\ncubrid_next_result($res);\nget_result_info($res);\n\nfunction get_result_info($req)\n{\n    printf(\"\\n------------ get_result_info --------------------\\n\");\n\n    $row_num = cubrid_num_rows($req);\n    $col_num = cubrid_num_cols($req);\n\n    $column_name_list = cubrid_column_names($req);\n    $column_type_list = cubrid_column_types($req);\n\n    $column_last_name = cubrid_field_name($req, $col_num - 1);\n    $column_last_table = cubrid_field_table($req, $col_num - 1);\n\n    $column_last_type = cubrid_field_type($req, $col_num - 1);\n    $column_last_len = cubrid_field_len($req, $col_num - 1);\n\n    $column_1_flags = cubrid_field_flags($req, 1);\n\n    printf(\"%-30s %d\\n\", \"Количество строк:\", $row_num);\n    printf(\"%-30s %d\\n\", \"Количество столбцов:\", $col_num);\n    printf(\"\\n\");\n\n    printf(\"%-30s %-30s %-15s\\n\", \"Названия столбцов\", \"Типы столбцов\", \"Длина столбцов\");\n    printf(\"------------------------------------------------------------------------------\\n\");\n\n    $size = count($column_name_list);\n    for($i = 0; $i < $size; $i++) {\n        $column_len = cubrid_field_len($req, $i);\n        printf(\"%-30s %-30s %-15s\\n\", $column_name_list[$i], $column_type_list[$i], $column_len);\n    }\n    printf(\"\\n\\n\");\n\n    printf(\"%-30s %s\\n\", \"Название последнего столбца:\", $column_last_name);\n    printf(\"%-30s %s\\n\", \"Таблица последнего столбца:\", $column_last_table);\n    printf(\"%-30s %s\\n\", \"Тип последнего столбца:\", $column_last_type);\n    printf(\"%-30s %d\\n\", \"Длина последнего столбца:\", $column_last_len);\n    printf(\"%-30s %s\\n\", \"Флаги второго столбца:\", $column_1_flags);\n\n    printf(\"\\n\\n\");\n}\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\n------------ get_result_info --------------------\nRow count:                     6\nColumn count:                  2\n\nНазвания столбцов                 Типы столбцов                   Длина столбцов\n------------------------------------------------------------------------------\ns_name                         char                           1\nf_name                         varchar                        6\n\n\nНазвание последнего столбца:          f_name\nТаблица последнего столбца:           code\nТип последнего столбца:              varchar\nДлина последнего столбца:            6\nФлаги второго столбца:\n\n\n\n------------ get_result_info --------------------\nКоличество строк:                    4\nКоличество столбцов:                  5\n\nНазвания столбцов                 Типы столбцов                   Длина столбцов\n------------------------------------------------------------------------------\nevent_code                     integer                        11\nathlete                        varchar                        40\nhost_year                      integer                        11\nscore                          varchar                        10\nunit                           varchar                        5\n\n\nНазвание последнего столбца:      unit\nТаблица последнего столбца:       history\nТип последнего столбца:          varchar\nДлина последнего столбца:        5\nФлаги второго столбца:          not_null primary_key unique_key\n```\n\n### Дивіться також\n\n-   [cubrid\\_execute()](function.cubrid-execute.md) \\- Виконує підготовлений SQL-оператор\n","title":"cubrid\\_next\\_result","contentType":2,"navigation":[{"function.cubrid-move-cursor.md":"« cubrid\\_move\\_cursor"},{"function.cubrid-num-cols.md":"cubrid\\_num\\_cols »"},{"index.md":"PHP Manual"},{"ref.cubrid.md":"Функції CUBRID"}]}},"__N_SSG":true}