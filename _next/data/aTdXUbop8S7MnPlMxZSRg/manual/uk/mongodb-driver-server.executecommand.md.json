{"pageProps":{"page":{"slug":"mongodb-driver-server.executecommand.md","content":"# MongoDB\\\\Driver\\\\Server::executeCommand\n\n(mongodb >=1.0.0)\n\nMongoDB\\\\Driver\\\\Server::executeCommand — Виконати команду бази даних на сервері\n\n### Опис\n\n```methodsynopsis\nfinal public MongoDB\\Driver\\Server::executeCommand(string $db, MongoDB\\Driver\\Command $command, array|MongoDB\\Driver\\ReadPreference|null $options = null): MongoDB\\Driver\\Cursor\n```\n\nВиконує команду на сервері.\n\nЦей метод не застосовує особливої ​​логіки до команди. Хоча цей метод приймає `\"readConcern\"`и`\"writeConcern\"`, які будуть включені в документи коанди, ці опції не будуть відповідати значенням за замовчуванням [MongoDB URI з'єднання](mongodb-driver-manager.construct.md#mongodb-driver-manager.construct-uri) , і не враховуватиметься версія сервера MongoDB. Тому користувачам рекомендується використовувати конкретні методи команди читання та/або запису, якщо це можливо.\n\n> **Зауваження**: Опция`\"readPreference\"` не контролює сервер, якого драйвер виконує операцію; вона завжди виконуватиметься на цьому об'єкті сервера. Натомість, він може бути використаний при виконанні операції на другому вузлі (з набору реплік, не автономний) або на вузлі mongos для забезпечення того, що драйвер встановлює дротовий протокол відповідним чином або додає перевагу читання до операції відповідно.\n\n### Список параметрів\n\n`db`(string)\n\nІм'я бази даних, у якій запускається команда.\n\n`command` [MongoDB\\\\Driver\\\\Command](class.mongodb-driver-command.md)) .\n\nКоманда для виконання.\n\n`options`\n\n**options**\n\n| Опция | Тип | Опис |\n| --- | --- | --- |\n| readConcern | [MongoDB\\\\Driver\\\\ReadConcern](class.mongodb-driver-readconcern.md) |  |\n| Гарантія для застосування до операції. |  |  |\n\nЦя опція доступна в MongoDB 3.2+ і призведе до виключення під час виконання, якщо вказана для старої версії сервера.\n\n| | readPreference |[MongoDB\\\\Driver\\\\ReadPreference](class.mongodb-driver-readpreference.md)\n\nПеревага читання, що використовується для вибору сервера для виконання операції.\n\n| | session |[MongoDB\\\\Driver\\\\Session](class.mongodb-driver-session.md)\n\nСесія зв'язування з операцією.\n\n| | writeConcern |[MongoDB\\\\Driver\\\\WriteConcern](class.mongodb-driver-writeconcern.md)\n\nГарантія запису для застосування до операції.\n\n**Увага**\n\nПри использовании`\"session\"` та наявності незавершених транзакцій, ви не можете вказати `\"readConcern\"`or`\"writeConcern\"` option. Це призведе до викидання винятків [MongoDB\\\\Driver\\\\Exception\\\\InvalidArgumentException](class.mongodb-driver-exception-invalidargumentexception.md). Натомість ви повинні встановити ці дві опції при створенні транзакції за допомогою [MongoDB\\\\Driver\\\\Session::startTransaction()](mongodb-driver-session.starttransaction.md)\n\n### Значення, що повертаються\n\nУ разі успішного виконання повертає [MongoDB\\\\Driver\\\\Cursor](class.mongodb-driver-cursor.md)\n\n### Помилки\n\n-   Викидається виняток [MongoDB\\\\Driver\\\\Exception\\\\InvalidArgumentException](class.mongodb-driver-exception-invalidargumentexception.md)якщо опція `\"session\"`вказано з відповідною транзакцією у поєднанні з опцією`\"readConcern\"`или`\"writeConcern\"`\n-   Викидається [MongoDB\\\\Driver\\\\Exception\\\\InvalidArgumentException](class.mongodb-driver-exception-invalidargumentexception.md)якщо опція `\"session\"`вказано у поєднанні з непідтвердженою гарантією запису.\n-   При помилці парсингу аргумент кидає виняток[MongoDB\\\\Driver\\\\Exception\\\\InvalidArgumentException](class.mongodb-driver-exception-invalidargumentexception.md)\n-   При невдалому з'єднанні з сервером (крім помилок аутентифікації) кидає виняток[MongoDB\\\\Driver\\\\Exception\\\\ConnectionException](class.mongodb-driver-exception-connectionexception.md)\n-   У разі невдалої аутентифікації кидає виняток[MongoDB\\\\Driver\\\\Exception\\\\AuthenticationException](class.mongodb-driver-exception-authenticationexception.md)\n-   Викидає виняток [MongoDB\\\\Driver\\\\Exception\\\\RuntimeException](class.mongodb-driver-exception-runtimeexception.md)у разі інших помилок (наприклад, неправильна команда, видача команди записи на вторинний пристрій).\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| PECL mongodb 1.4.4 | Якщо опція `\"session\"` використовується у поєднанні з непідтвердженою гарантією запису, викидається виняток [MongoDB\\\\Driver\\\\Exception\\\\InvalidArgumentException](class.mongodb-driver-exception-invalidargumentexception.md) |\n| PECL mongodb 1.4.0 | Третій параметр тепер є масивом `options`. . Для зворотної сумісності цей параметр все одно прийме об'єкт [MongoDB\\\\Driver\\\\ReadPreference](class.mongodb-driver-readpreference.md) |\n\n### Примітки\n\n> **Зауваження**: Відповідальність коду, що викликає, полягає в тому, що сервер в змозі виконувати операцію запису. Наприклад, виконання операції запису на вторинному вузлі (за винятком «локальної» бази даних) завершиться невдачею.\n\n### Дивіться також\n\n-   [MongoDB\\\\Driver\\\\Command](class.mongodb-driver-command.md)\n-   [MongoDB\\\\Driver\\\\Cursor](class.mongodb-driver-cursor.md)\n-   [MongoDB\\\\Driver\\\\Server::executeReadCommand()](mongodb-driver-server.executereadcommand.md) \\- Виконує команду бази даних, яка читає на сервері\n-   [MongoDB\\\\Driver\\\\Server::executeReadWriteCommand()](mongodb-driver-server.executereadwritecommand.md) \\- Виконує команду бази даних, яка читає та пише на сервері\n-   [MongoDB\\\\Driver\\\\Server::executeWriteCommand()](mongodb-driver-server.executewritecommand.md) \\- Виконує команду бази даних, що пише на сервері\n-   [MongoDB\\\\Driver\\\\Manager::executeCommand()](mongodb-driver-manager.executecommand.md) \\- Виконує команду бази даних\n","title":"MongoDB\\\\Driver\\\\Server::executeCommand","contentType":2,"navigation":[{"mongodb-driver-server.executebulkwrite.md":"« MongoDB\\\\Driver\\\\Server::executeBulkWrite"},{"mongodb-driver-server.executequery.md":"MongoDB\\\\Driver\\\\Server::executeQuery »"},{"index.md":"PHP Manual"},{"class.mongodb-driver-server.md":"MongoDB\\\\Driver\\\\Server"}]}},"__N_SSG":true}