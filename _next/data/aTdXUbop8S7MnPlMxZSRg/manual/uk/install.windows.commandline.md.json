{"pageProps":{"page":{"slug":"install.windows.commandline.md","content":"## Командний рядок PHP у Microsoft Windows\n\nЦей розділ містить примітки та підказки, які стосуються запуску PHP з командного рядка для Windows.\n\n> **Зауваження** :\n> \n> Спочатку слід прочитати [кроки ручної установки](install.windows.manual.md)!\n\nЗапуск PHP з командного рядка можна виконати без внесення будь-яких змін до Windows.\n\n```\nC:\\php\\php.exe -f \"C:\\PHP Scripts\\script.php\" -- -arg1 -arg2 -arg3\n```\n\nАле є кілька кроків, які допоможуть спростити цей процес. Деякі з цих кроків вже мали бути зроблені, але вони повторюються тут, щоб мати можливість надати повну покрокову послідовність.\n\n> **Зауваження** :\n> \n> І PATH, і PATHEXT є важливими змінними, які спочатку існували у Windows, і слід подбати про те, щоб не перезаписувати жодну зі змінних, а лише додавати до них.\n\n-   Додайте розташування файлу PHP (php.exe, php-win.exe або php-cli.exe залежно від вашої версії PHP і переваг відображення) в змінну оточення PATH. Докладніше про те, як додати каталог PHP до PATH, читайте в[відповідного запису часто задаваних питань](faq.installation.md#faq.installation.addtopath)\n    \n-   Додати розширення`.PHP`до змінної оточення PATHEXT. Це можна зробити одночасно із зміною змінної оточення PATH. Виконайте ті ж дії, що і в[ЧАВО](faq.installation.md#faq.installation.addtopath), але змініть змінну оточення PATHEXT, а не PATH.\n    \n    > **Зауваження** :\n    > \n    > Позиція, в яку ви поміщаєте`.PHP`, визначатиме, який скрипт чи програма виконуватиметься при збігу імен файлів. Наприклад, розміщення`.PHP`перед`.BAT`призведе до запуску вашого скрипта, а не пакетного файлу, якщо існує пакетний файл з тим самим ім'ям.\n    \n-   Зв'яжіть розширення`.PHP`із типом файлу. Це робиться за допомогою наступної команди:\n    \n    ```\n    assoc .php=phpfile\n    ```\n    \n-   Зв'яжіть тип файлу`phpfile`з відповідним файлом PHP, що виконується. Це робиться за допомогою наступної команди:\n    \n    ```\n    ftype phpfile=\"C:\\php\\php.exe\" -f \"%1\" -- %~2\n    ```\n    \n\nВиконання цих кроків дозволить запускати скрипти PHP з будь-якого каталогу без необхідності вводити файл PHP або розширення, що виконується. `.PHP`, і всі параметри буде передано скрипту для обробки.\n\nУ наведеному нижче прикладі описано подробиці про деякі зміни в реєстрі, які можна зробити вручну.\n\n**Приклад #1 Зміни у реєстрі**\n\n```\nWindows Registry Editor Version 5.00\n\n[HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\.php]\n@=\"phpfile\"\n\"Content Type\"=\"application/php\"\n\n[HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\phpfile]\n@=\"PHP Script\"\n\"EditFlags\"=dword:00000000\n\"BrowserFlags\"=dword:00000008\n\"AlwaysShowExt\"=\"\"\n\n[HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\phpfile\\DefaultIcon]\n@=\"C:\\\\php\\\\php-win.exe,0\"\n\n[HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\phpfile\\shell]\n@=\"Open\"\n\n[HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\phpfile\\shell\\Open]\n@=\"&Open\"\n\n[HKEY_LOCAL_MACHINE\\SOFTWARE\\Classes\\phpfile\\shell\\Open\\command]\n@=\"\\\"C:\\\\php\\\\php.exe\\\" -f \\\"%1\\\" -- %~2\"\n```\n\nЗ цими змінами цю команду можна записати як:\n\n```\n\"C:\\PHP Scripts\\script\" -arg1 -arg2 -arg3\n```\n\nабо, якщо ваш шлях `\"C:\\PHP Scripts\"` знаходиться в змінному оточенні PATH:\n\n```\nscript -arg1 -arg2 -arg3\n```\n\n> **Зауваження** :\n> \n> Є невелика проблема, якщо ви збираєтеся використовувати цю техніку і використовувати свої скрипти PHP як фільтр командного рядка, як у прикладі нижче:\n> \n> ```\n> dir | \"C:\\PHP Scripts\\script\" -arg1 -arg2 -arg3\n> ```\n> \n> або\n> \n> ```\n> dir | script -arg1 -arg2 -arg3\n> ```\n> \n> Ви можете виявити, що сценарій просто зависає і нічого не виводиться. Щоб це запрацювало, необхідно внести ще одну зміну до Реєстру.\n> \n> ```\n> Windows Registry Editor Version 5.00\n> \n> [HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Windows\\CurrentVersion\\policies\\Explorer]\n> \"InheritConsoleHandles\"=dword:00000001\n> ```\n> \n> Додаткову інформацію щодо цієї проблеми можна знайти в цій [» статті бази знань Microsoft : 321788](http://support.microsoft.com/default.aspx?scid=kb;en-us;321788). У Windows 10 цей параметр змінено на протилежний, і стандартне встановлення Windows 10 підтримує успадковані дескриптори консолі. Це [»  повідомлення на форумі Microsoft](https://social.msdn.microsoft.com/Forums/en-US/f19d740d-21c8-4dc2-a9ab-d5c0527e932b/nasty-file-association-regression-bug-in-windows-10-console?forum=windowssdk) надає пояснення.\n","title":"Командний рядок PHP у Microsoft Windows","contentType":2,"navigation":[{"install.windows.building.md":"« Складання з вихідних кодів"},{"install.windows.apache2.md":"Apache 2.x у Microsoft Windows »"},{"index.md":"PHP Manual"},{"install.windows.md":"Встановлення у системах Windows"}]}},"__N_SSG":true}