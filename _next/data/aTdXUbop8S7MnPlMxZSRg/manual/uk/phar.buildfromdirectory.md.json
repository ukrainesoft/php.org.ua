{"pageProps":{"page":{"slug":"phar.buildfromdirectory.md","content":"# Phar::buildFromDirectory\n\n(PHP 5 >= 5.3.0, PHP 7, PHP 8, PECL phar >= 2.0.0)\n\nPhar::buildFromDirectory — Створює phar-архів із файлів, розташованих усередині директорії\n\n### Опис\n\n```methodsynopsis\npublic Phar::buildFromDirectory(string $directory, string $pattern = \"\"): array\n```\n\n> **Зауваження** :\n> \n> Для коректної роботи з об'єктами [Phar](class.phar.md) цьому методу необхідне встановлення значення php.ini `phar.readonly`в . В іншому випадку, буде викинуто виняток [PharException](class.pharexception.md)\n\nЗаповнює phar-архів вмістом директорії. Необов'язковий другий параметр є регулярним виразом (PCRE) та використовується для виключення файлів. Будь-який файл, ім'я якого відповідає регулярному виразу, буде включений, всі інші будуть виключені. Для більш детального контролю використовуйте [Phar::buildFromIterator()](phar.buildfromiterator.md)\n\n### Список параметрів\n\n`directory`\n\nПовний або абсолютний шлях до директорії, всі файли якої мають бути додані до архіву.\n\n`pattern`\n\nНеобов'язковий регулярний вираз (PCRE), який використовується для фільтрації списку файлів. До архіву будуть включені лише ті файли, шляхи до яких відповідають регулярному виразу.\n\n### Значення, що повертаються\n\n**Phar::buildFromDirectory()** повертає асоціативний масив, в якому відображено відповідність шляху до файлу всередині архіву до шляху до файлу у файловій системі.\n\n### Помилки\n\nЦей метод викидає виняток [BadMethodCallException](class.badmethodcallexception.md) у разі, якщо не вдалося створити примірник ітератора внутрішніх директорій. Виняток [PharException](class.pharexception.md) викидається у разі помилок збереження phar-архіву.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.1.0 | **Phar::buildFromDirectory()** більше не повертає значення **`false`** |\n\n### Приклади\n\n**Приклад #1 Приклад використання** Phar::buildFromDirectory()\\*\\*\\*\\*\n\n```php\n<?php\n// создать с псевдонимом \"project.phar\"\n$phar = new Phar('project.phar', 0, 'project.phar');\n// добавить все файлы директории project в файл project.phar\n$phar->buildFromDirectory(dirname(__FILE__) . '/project');\n$phar->setStub($phar->createDefaultStub('cli/index.php', 'www/index.php'));\n\n$phar2 = new Phar('project2.phar', 0, 'project2.phar');\n// добавить все файлы директории project в файл project2.phar, включая только php-файлы\n$phar2->buildFromDirectory(dirname(__FILE__) . '/project', '/\\.php$/');\n$phar2->setStub($phar->createDefaultStub('cli/index.php', 'www/index.php'));\n?>\n```\n\n### Дивіться також\n\n-   [Phar::buildFromIterator()](phar.buildfromiterator.md) \\- Створює phar-архів із ітератора\n","title":"Phar::buildFromDirectory","contentType":2,"navigation":[{"phar.apiversion.md":"« Phar::apiVersion"},{"phar.buildfromiterator.md":"Phar::buildFromIterator »"},{"index.md":"PHP Manual"},{"class.phar.md":"Phar"}]}},"__N_SSG":true}