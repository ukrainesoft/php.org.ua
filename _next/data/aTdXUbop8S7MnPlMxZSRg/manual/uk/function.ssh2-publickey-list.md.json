{"pageProps":{"page":{"slug":"function.ssh2-publickey-list.md","content":"# ssh2\\_publickey\\_list\n\n(PECL ssh2 >= 0.10)\n\nssh2\\_publickey\\_list - Список вже авторизованих відкритих ключів\n\n### Опис\n\n```methodsynopsis\nssh2_publickey_list(resource $pkey): array\n```\n\nСписок авторизованих відкритих ключів.\n\n### Список параметрів\n\n`pkey`\n\nРесурс підсистеми відкритого ключа\n\n### Значення, що повертаються\n\nПовертає індексований масив ключів, кожен з яких є асоціативним масивом, що містить елементи з ключами: name, blob, attrs.\n\n**Елементи публічного ключа**\n\n| Ключ массива | Что означает |\n| --- | --- |\n| name | Ім'я алгоритму, за допомогою якого створювався ключ: `ssh-dss`или`ssh-rsa` |\n| blob | Рядок бінарних даних - сам ключ |\n| attrs | Атрибути, надані ключу. Найчастіше використовується (і єдиний доступний підсистемою відкритого ключа версії 1) - це `comment`, що представляє собою рядок вільного формату. |\n\n### Приклади\n\n**Приклад #1 Список авторизованих ключів за допомогою **ssh2\\_publickey\\_list()****\n\n```php\n<?php\n$ssh2 = ssh2_connect('shell.example.com', 22);\nssh2_auth_password($ssh2, 'jdoe', 'secret');\n$pkey = ssh2_publickey_init($ssh2);\n\n$list = ssh2_publickey_list($pkey);\n\nforeach($list as $key) {\n  echo \"Key: {$key['name']}\\n\";\n  echo \"Blob: \" . chunk_split(base64_encode($key['blob']), 40, \"\\n\") . \"\\n\";\n  echo \"Comment: {$key['attrs']['comment']}\\n\\n\";\n}\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nKey: ssh-rsa\nBlob: AAAAB3NzaC1yc2EAAAABIwAAAIEA5HVt6VqSGd5P\nTrLRdjNONxXH1tVFGn0Bd26BF0aCP9qyJRlvdJ3j\n4WBeX4ZmrveGrjMgkseSYc4xZ26sDHwfL351xjza\nLpipu\\BGRrw17mWVBhuCExo476ri5tQFzbTc54VE\nHYckxQ16CjSTibI5X69GmnYC9PNqEYq/1TP+HF10\nComment: John's Key\n\nKey: ssh-rsa\nBlob: AAAAB3NzaHVt6VqSGd5C1yc2EAAAABIwA232dnJA\nAIEA5HVt6VqSGd5PTrLRdjNONxX/1TP+HF1HVt6V\nqSGd50H1tVFGn0BB3NzaC1yc2EAd26BF0aCP9qyJ\nRlvdJ3j4WBeX4ZmrveGrjMgkseSYc4xZ26HVt6Vq\nSGd5sDHwfL351xjzaLpipu\\BGB3NzaC1yc2EA/1T\nComment: Alice's Key\n```\n\n### Примітки\n\n> **Зауваження**: Через підсистему відкритих ключів керують відкритими ключами на сервері, на якому клієнт *вже* пройшов аутентифікацію. Натомість для аутентифікації з відкритим ключем на віддаленій системі викликають функцію [ssh2\\_auth\\_pubkey\\_file()](function.ssh2-auth-pubkey-file.md)\n\n### Дивіться також\n\n-   [ssh2\\_publickey\\_init()](function.ssh2-publickey-init.md) \\- Ініціалізує підсистему відкритого ключа\n-   [ssh2\\_publickey\\_add()](function.ssh2-publickey-add.md) \\- Додає авторизований відкритий ключ\n-   [ssh2\\_publickey\\_remove()](function.ssh2-publickey-remove.md) \\- Видаляє авторизований відкритий ключ\n","title":"ssh2\\_publickey\\_list","contentType":2,"navigation":[{"function.ssh2-publickey-init.md":"« ssh2\\_publickey\\_init"},{"function.ssh2-publickey-remove.md":"ssh2\\_publickey\\_remove »"},{"index.md":"PHP Manual"},{"ref.ssh2.md":"Функції SSH2"}]}},"__N_SSG":true}