{"pageProps":{"page":{"slug":"function.getimagesize.md","content":"# getimagesize\n\n(PHP 4, PHP 5, PHP 7, PHP 8)\n\ngetimagesize — Отримання розміру зображення\n\n### Опис\n\n```methodsynopsis\ngetimagesize(string $filename, array &$image_info = null): array|false\n```\n\nФункция**getimagesize()** визначить розмір будь-якого заданого, підтримуваного зображення та поверне цей розмір разом із типом файлу та текстовим рядком `height/width`, яку можна буде використовувати всередині тега HTML `IMG`, а також поверне відповідний тип вмісту HTTP.\n\nТакже**getimagesize()** може повернути додаткові відомості про зображення через аргумент `image_info`\n\n**Застереження**\n\nФункція очікує, що `filename` є правильним файлом зображення. Якщо буде передано файл, що не містить зображення, він може бути некоректно інтерпретований як зображення і функція завершиться успішно, але масив буде містити безглузді значення.\n\nНе используйте**getimagesize()** для перевірки, що файл є зображенням. Для цього використовуйте модуль [Fileinfo](book.fileinfo.md)\n\n> **Зауваження**: Зверніть увагу на те, що окремі частини JPC та JP2 зображень можуть мати різну глибину кольору. У цьому випадку параметр \"bits\" буде стояти максимальне значення з усіх виявлених. Також JP2 файли можуть містити `кілька кодових потоків JPEG 2000`. В такому випадку **getimagesize()** поверне значення для першого потоку, який буде виявлено функцією в корені файлу.\n\n> **Зауваження**: Інформація про іконки витягується з іконки з найбільшим бітрейтом\n\n> **Зауваження**: Зображення GIF складаються з одного або декількох кадрів, де кожен кадр може займати лише частину зображення. Розмір зображення, що повертається **getimagesize()**, буде загальним розміром (прочитаним з дескриптора логічного екрану).\n\n### Список параметрів\n\n`filename`\n\nЦей аргумент задає файл, відомості про який витягуватиметься. Це може бути локальний чи віддалений (залежить від конфігурації) файл. Передача даних віддаленого файлу повинна здійснюватися одним із [підтримуваних потоків](wrappers.md)\n\n`image_info`\n\nЦей необов'язковий аргумент дозволяє отримати деякі розширені відомості з файлу зображення. На даний момент можна отримати різні JPG APP маркери у вигляді асоціативного масиву. Деякі програми використовують ці маркери для вбудовування тексту у зображення. Найчастіше вбудовують [» IPTC](http://www.iptc.org/) відомості в APP13 маркер. Для перетворення двійкових даних APP13 маркера на щось легкочитане можна скористатися функцією [iptcparse()](function.iptcparse.md)\n\n> **Зауваження** :\n> \n> `image_info` підтримує лише файли JFIF.\n\n### Значення, що повертаються\n\nПовертає масив із 7 елементів. Не всі типи зображень містять елементи з каналами (`channels`) та бітрейтом (`bits`\n\nІндекси 0 і 1 містять ширину та висоту зображення.\n\n> **Зауваження** :\n> \n> Деякі формати файлів можуть зберігати кілька зображень або взагалі не містити зображення. В таких випадках **getimagesize()** не зможе визначити розмір зображення . **getimagesize()** поверне нулі як значення висоти і ширини.\n\nИндекс 2 содержит одну из констант типа изображения[IMAGETYPE\\_XXX](image.constants.md)\n\nІндекс 3 містить рядок зі значеннями ширини та висоти зображення `height=\"yyy\" width=\"xxx\"`яка може бути використана всередині тега IMG.\n\n`mime` - Відповідний MIME-тип зображення. Ці відомості використовуються для коректної обробки зображення на основі заголовка `Content-type` :\n\n**Приклад #1**getimagesize()\\*\\* та MIME типи\\*\\*\n\n```php\n<?php\n$size = getimagesize($filename);\n$fp = fopen($filename, \"rb\");\nif ($size && $fp) {\n    header(\"Content-type: {$size['mime']}\");\n    fpassthru($fp);\n    exit;\n} else {\n    // ошибка\n}\n?>\n```\n\n`channels` приймає значення 3 для RGB картинок та 4 для CMYK.\n\n`bits` - Глибина кольору, число біт для кожного кольору.\n\nДля деяких типів зображень наявність значень `channels`и`bits` може збити з пантелику. Наприклад, GIF завжди використовує 3 канали на піксель, але глибину кольору неможливо обчислити для анімованих GIF зображень із загальною таблицею кольорів.\n\nУ разі виникнення помилки функція поверне **`false`**\n\n### Помилки\n\nЯкщо доступ до файлу `filename`невозможен,**getimagesize()** викличе помилку рівня **`E_WARNING`**. У разі виникнення помилки читання файлу **getimagesize()** викличе помилку рівня **`E_NOTICE`**\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.2.0 | Тепер повертає фактичні розміри, біти та канали зображень AVIF; раніше розміри повідомлялися як `0x0`, а біти та канали не повідомлялися взагалі. |\n| 7.1.0 | Додано підтримку WebP. |\n\n### Приклади\n\n**Приклад #2 Приклад використання** getimagesize()\\*\\*\\*\\*\n\n```php\n<?php\nlist($width, $height, $type, $attr) = getimagesize(\"img/flag.jpg\");\necho \"<img src=\\\"img/flag.jpg\\\" $attr alt=\\\"Приклад getimagesize()\\\" />\";\n?>\n```\n\n**Приклад #3 getimagesize (URL)**\n\n```php\n<?php\n$size = getimagesize(\"http://www.example.com/gifs/logo.gif\");\n\n// если в имени файла есть пробелы, учтите это должным образом\n$size = getimagesize(\"http://www.example.com/gifs/lo%20go.gif\");\n\n?>\n```\n\n**Приклад #4 getimagesize(), що повертає IPTC**\n\n```php\n<?php\n$size = getimagesize(\"testimg.jpg\", $info);\nif (isset($info[\"APP13\"])) {\n    $iptc = iptcparse($info[\"APP13\"]);\n    var_dump($iptc);\n}\n?>\n```\n\n### Примітки\n\n> **Зауваження** :\n> \n> Ця функція не потребує бібліотеки GD.\n\n### Дивіться також\n\n-   [image\\_type\\_to\\_mime\\_type()](function.image-type-to-mime-type.md) \\- Отримання Mime-типу для типу зображення, що повертається функціями getimagesize, exif\\_read\\_data, exif\\_thumbnail, exif\\_imagetype\n-   [exif\\_imagetype()](function.exif-imagetype.md) \\- Determine the type of an image\n-   [exif\\_read\\_data()](function.exif-read-data.md) \\- Читає заголовки EXIF ​​із файлів зображень\n-   [exif\\_thumbnail()](function.exif-thumbnail.md) \\- Отримує вбудоване прев'ю зображення\n-   [imagesx()](function.imagesx.md) \\- Отримання ширини зображення\n-   [imagesy()](function.imagesy.md) \\- Отримання висоти зображення\n","title":"getimagesize","contentType":2,"navigation":[{"function.gd-info.md":"« gd\\_info"},{"function.getimagesizefromstring.md":"getimagesizefromstring »"},{"index.md":"PHP Manual"},{"ref.image.md":"Функції GD та функції для роботи із зображеннями"}]}},"__N_SSG":true}