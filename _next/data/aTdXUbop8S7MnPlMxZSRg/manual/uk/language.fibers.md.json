{"pageProps":{"page":{"slug":"language.fibers.md","content":"# Fibers\n\n### Огляд файберів\n\n(PHP 8 >= 8.1.0)\n\nФайбери є перериваються функції повного циклу. Файбери можуть бути припинені з будь-якого місця циклу, припиняючи виконання у файбері доти, доки файбер не буде відновлено в майбутньому.\n\nФайбери призупиняють весь цикл виконання, тому функцію, що викликає, безпосередньо не потрібно змінювати спосіб її виклику.\n\nВиконання може бути перервано у будь-якому місці циклу за допомогою методу [Fiber::suspend()](fiber.suspend.md) (тобто виклик [Fiber::suspend()](fiber.suspend.md) може перебувати у глибоко вкладеної функції або навіть взагалі не існувати).\n\nНа відміну від генераторів ([Generator](class.generator.md)) без стека, у кожного об'єкта [Fiber](class.fiber.md) є свій власний стек викликів, що дозволяє призупиняти їх усередині глибоко вкладених функцій викликів. Функція, яка оголошує точку переривання (тобто виклик методу [Fiber::suspend()](fiber.suspend.md)), не повинна змінювати свій тип, що повертається, на відміну від функції, що використовує [yield](language.generators.syntax.md#control-structures.yield), який має повертати екземпляр [Generator](class.generator.md)\n\nФайбери можуть бути призупинені під час виклику будь-якої функції, включаючи ті, що викликаються з віртуальної машини PHP, наприклад, функції, що надаються [array\\_map()](function.array-map.md), або методи, що викликаються [foreach](control-structures.foreach.md) для об'єкту [Iterator](class.iterator.md)\n\nПісля припинення виконання файбера може бути відновлено з будь-яким значенням за допомогою методу [Fiber::resume()](fiber.resume.md) або шляхом передачі виключення у файбер за допомогою [Fiber::throw()](fiber.throw.md). Значення повертається (або викидається виняток) з методу [Fiber::suspend()](fiber.suspend.md)\n\n> **Зауваження**: Через поточні обмеження неможливо переключати файбер у деструкторі об'єкта.\n\n**Приклад #1 Простий приклад**\n\n```php\n<?php\n$fiber = new Fiber(function (): void {\n   $value = Fiber::suspend('fiber');\n   echo \"Значение возобновлённого файбера: \", $value, PHP_EOL;\n});\n\n$value = $fiber->start();\n\necho \"Значение приостановленного файбера: \", $value, PHP_EOL;\n\n$fiber->resume('test');\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nЗначение приостановленного файбера: fiber\nЗначение возобновлённого файбера: test\n```\n","title":"Fibers","contentType":2,"navigation":[{"language.exceptions.extending.md":"« Спадкування винятків"},{"language.generators.md":"Генератори »"},{"index.md":"PHP Manual"},{"langref.md":"Довідник мови"}]}},"__N_SSG":true}