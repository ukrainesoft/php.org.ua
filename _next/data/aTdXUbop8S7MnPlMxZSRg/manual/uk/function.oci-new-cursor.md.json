{"pageProps":{"page":{"slug":"function.oci-new-cursor.md","content":"# oci\\_new\\_cursor\n\n(PHP 5, PHP 7, PHP 8, PECL OCI8 >= 1.1.0)\n\noci\\_new\\_cursor — Повертає ідентифікатор створеного курсору\n\n### Опис\n\n```methodsynopsis\noci_new_cursor(resource $connection): resource|false\n```\n\nСтворює новий курсор для зазначеного з'єднання та повертає його ідентифікатор.\n\n### Список параметрів\n\n`connection`\n\nІдентифікатор з'єднання з сервером Oracle, який повертається функцією [oci\\_connect()](function.oci-connect.md) або [oci\\_pconnect()](function.oci-pconnect.md)\n\n### Значення, що повертаються\n\nПовертає покажчик на новий вираз або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Прив'язка REF CURSOR у виклику процедур, що зберігаються Oracle**\n\n```php\n<?php\n\n// Предварительная подготовка:\n//   создайте или замените процедуру myproc(myrc out sys_refcursor) как\n//   begin\n//     open myrc for select first_name from employees;\n//   end;\n\n$conn = oci_connect(\"hr\", \"hrpwd\", \"localhost/XE\");\nif (!$conn) {\n    $m = oci_error();\n    trigger_error(htmlentities($m['message']), E_USER_ERROR);\n}\n\n$curs = oci_new_cursor($conn);\n$stid = oci_parse($conn, \"begin myproc(:cursbv); end;\");\noci_bind_by_name($stid, \":cursbv\", $curs, -1, OCI_B_CURSOR);\noci_execute($stid);\n\noci_execute($curs);  // Выполняет REF CURSOR как обычный идентификатор выражения\nwhile (($row = oci_fetch_array($curs, OCI_ASSOC+OCI_RETURN_NULLS)) != false) {\n    echo $row['FIRST_NAME'] . \"<br />\\n\";\n}\n\noci_free_statement($stid);\noci_free_statement($curs);\noci_close($conn);\n\n?>\n```\n","title":"oci\\_new\\_cursor","contentType":2,"navigation":[{"function.oci-new-connect.md":"« oci\\_new\\_connect"},{"function.oci-new-descriptor.md":"oci\\_new\\_descriptor »"},{"index.md":"PHP Manual"},{"ref.oci8.md":"OCI8 Функції"}]}},"__N_SSG":true}