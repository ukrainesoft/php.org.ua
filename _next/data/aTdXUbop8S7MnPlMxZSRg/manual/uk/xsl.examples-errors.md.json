{"pageProps":{"page":{"slug":"xsl.examples-errors.md","content":"## Обробка помилок за допомогою функцій обробки помилок libxml\n\nlibxml надає ряд функцій для обробки помилок, які можуть використовуватися для вилову та роботи з помилками під час обробки XSLT.\n\n**Приклад #1 fruits.xml**\n\nПравильний XML.\n\nApple Banana Cherry\n\n**Приклад #2 fruits.xsl**\n\nМістить неправильне \"select\" вираз.\n\n<xsl:stylesheet version=\"1.0\" xmlns:xsl=\"[http://www.w3.org/1999/XSL/Transform\">](http://www.w3.org/1999/XSL/Transform%22%3E) <xsl:output method=\"html\" encoding=\"utf-8\" indent=\"no\"/> <xsl:template match=\"fruits\">\n\n[xsl:apply-templates/](xsl:apply-templates/)\n\n<xsl:template match=\"fruit\">- <xsl:value-of select=\"THIS IS A DELIBERATE ERROR!\"/>\n\n**Приклад #3 Збір та виведення помилок**\n\nПриклад нижче відловлює та відображає помилки libxml, що з'являються під час виклику методу [XSLTProcessor::importStyleSheet()](xsltprocessor.importstylesheet.md) зі стилем, що містить помилки.\n\n```php\n<?php\n\n$xmldoc = new DOMDocument();\n$xsldoc = new DOMDocument();\n$xsl = new XSLTProcessor();\n\n$xmldoc->loadXML('fruits.xml');\n$xsldoc->loadXML('fruits.xsl');\n\nlibxml_use_internal_errors(true);\n$result = $xsl->importStyleSheet($xsldoc);\nif (!$result) {\n    foreach (libxml_get_errors() as $error) {\n        echo \"Libxml error: {$error->message}\\n\";\n    }\n}\nlibxml_use_internal_errors(false);\n\nif ($result) {\n    echo $xsl->transformToXML($xmldoc);\n}\n\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\nLibxml error: Invalid expression\n\nLibxml error: compilation error: file fruits.xsl line 9 element value-of\nLibxml error: xsl:value-of : could not compile select expression 'THIS IS A DELIBERATE ERROR!'\n```\n","title":"Обробка помилок за допомогою функцій обробки помилок libxml","contentType":2,"navigation":[{"xsl.examples-collection.md":"« Файли collection.xml та collection.xsl для прикладів"},{"class.xsltprocessor.md":"XSLTProcessor »"},{"index.md":"PHP Manual"},{"xsl.examples.md":"Приклади"}]}},"__N_SSG":true}