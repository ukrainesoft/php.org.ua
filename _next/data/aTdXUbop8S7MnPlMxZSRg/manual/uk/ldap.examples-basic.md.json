{"pageProps":{"page":{"slug":"ldap.examples-basic.md","content":"## Базове використання\n\nОтримати інформацію для всіх записів, де прізвище починається з \"S\" із сервера каталогів, показуючи в результаті ім'я та адресу електронної пошти.\n\n**Приклад #1 Приклад пошуку LDAP**\n\n```php\n<?php\n// базовая последовательность работы с LDAP:\n// подключение, привязка, поиск, интерпретация результата, закрытие подключения\n\necho \"<h3>Проверочный запрос к LDAP</h3>\";\necho \"Подключение ...\";\n$ds=ldap_connect(\"localhost\");  // Необходимо указать корректный LDAP сервер\necho \"Результат подключения: \" . $ds . \"<br />\";\n\nif ($ds) {\n    echo \"Привязка ...\";\n    $r=ldap_bind($ds);     // \"анонимная\" привязка,\n                           // доступ только для чтения\n    echo \"Результат привязки: \" . $r . \"<br />\";\n\n    echo \"Поиск (sn=S*) ...\";\n    // Поиск по фамилиям записей\n    $sr=ldap_search($ds, \"o=My Company, c=US\", \"sn=S*\");\n    echo \"Результат поиска: \" . $sr . \"<br />\";\n\n    echo \"Получено количество записей \" . ldap_count_entries($ds, $sr) . \"<br />\";\n\n    echo \"Получение элементов ...<p>\";\n    $info = ldap_get_entries($ds, $sr);\n    echo \"Элемент: \" . $info[\"count\"] . \" Данные:<p>\";\n\n    for ($i=0; $i<$info[\"count\"]; $i++) {\n        echo \"dn: \" . $info[$i][\"dn\"] . \"<br />\";\n        echo \"первый cn: \" . $info[$i][\"cn\"][0] . \"<br />\";\n        echo \"первый email: \" . $info[$i][\"mail\"][0] . \"<br /><hr />\";\n    }\n\n    echo \"Закрытие соединения\";\n    ldap_close($ds);\n\n} else {\n    echo \"<h4>Невозможно подключиться к серверу LDAP</h4>\";\n}\n?>\n```\n","title":"Базове використання","contentType":2,"navigation":[{"ldap.examples.md":"« Приклади"},{"ldap.examples-controls.md":"LDAP Controls »"},{"index.md":"PHP Manual"},{"ldap.examples.md":"Приклади"}]}},"__N_SSG":true}