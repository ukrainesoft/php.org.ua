{"pageProps":{"page":{"slug":"sqlite3.createcollation.md","content":"# SQLite3::createCollation\n\n(PHP 5 >= 5.3.11, PHP 7, PHP 8)\n\nSQLite3::createCollation — Реєструє функцію PHP для використання як функцію сортування SQL\n\n### Опис\n\n```methodsynopsis\npublic SQLite3::createCollation(string $name, callable $callback): bool\n```\n\nРеєструє функцію PHP або функцію користувача для використання як функції сортування в SQL-запитах.\n\n### Список параметрів\n\n`name`\n\nІм'я створюваної або перевизначуваної функції сортування SQL\n\n`callback`\n\nІм'я PHP-функції або визначуваної користувачем функції для застосування як callback, що визначає поведінку параметрів сортування. Вона повинна приймати два значення і результат, що повертається, повинен бути такий же, як у [strcmp()](function.strcmp.md), тобто. він повинен повертати -1, 1 або 0, якщо перший рядок сортується до, після або дорівнює другому.\n\nФункція має бути визначена як:\n\n```methodsynopsis\ncollation(mixed $value1, mixed $value2): int\n```\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Приклад використання** SQLite3::createCollation()\\*\\*\\*\\*\n\nРеєструє PHP-функцію [strnatcmp()](function.strnatcmp.md) як послідовність сортування у базі даних SQLite3.\n\n```php\n<?php\n\n$db = new SQLite3(\":memory:\");\n$db->exec(\"CREATE TABLE test (col1 string)\");\n$db->exec(\"INSERT INTO test VALUES ('a1')\");\n$db->exec(\"INSERT INTO test VALUES ('a10')\");\n$db->exec(\"INSERT INTO test VALUES ('a2')\");\n\n$db->createCollation('NATURAL_CMP', 'strnatcmp');\n\n$defaultSort = $db->query(\"SELECT col1 FROM test ORDER BY col1\");\n$naturalSort = $db->query(\"SELECT col1 FROM test ORDER BY col1 COLLATE NATURAL_CMP\");\n\necho \"сортировка по умолчанию:\\n\";\nwhile ($row = $defaultSort->fetchArray()){\n    echo $row['col1'], \"\\n\";\n}\n\necho \"\\nсортировка natural order:\\n\";\nwhile ($row = $naturalSort->fetchArray()){\n    echo $row['col1'], \"\\n\";\n}\n\n$db->close();\n\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\ndefault:\na1\na10\na2\n\nnatural:\na1\na2\na10\n```\n\n### Дивіться також\n\n-   Документація зі зіставлення SQLite:[» http://sqlite.org/datatype3.md#collation](http://sqlite.org/datatype3.md#collation)\n","title":"SQLite3::createCollation","contentType":2,"navigation":[{"sqlite3.createaggregate.md":"« SQLite3::createAggregate"},{"sqlite3.createfunction.md":"SQLite3::createFunction »"},{"index.md":"PHP Manual"},{"class.sqlite3.md":"SQLite3"}]}},"__N_SSG":true}