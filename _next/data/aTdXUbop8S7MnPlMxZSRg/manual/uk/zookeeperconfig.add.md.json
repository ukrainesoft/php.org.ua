{"pageProps":{"page":{"slug":"zookeeperconfig.add.md","content":"# ZookeeperConfig::add\n\n(PECL zookeeper >= 0.6.0, ZooKeeper >= 3.5.0)\n\nZookeeperConfig::add — Додає сервери до ансамблю\n\n### Опис\n\n```methodsynopsis\npublic\n   ZookeeperConfig::add(string $members, int $version = -1, array &$stat = null): void\n```\n\n### Список параметрів\n\n`members`\n\nРозділений комами список серверів для додавання до ансамблю. Кожен з них має рядок конфігурації для сервера, що додається (як показано у файлі конфігурації), тільки для основних кворумів.\n\n`version`\n\nОчікувана версія вузла. Функція завершиться помилкою, якщо фактична версія вузла не відповідає очікуваній версії. Якщо використовується -1, перевірка версії не виконуватиметься.\n\n`stat`\n\nЯкщо не NULL, буде містити значення stat для шляху повернення.\n\n### Значення, що повертаються\n\nФункція не повертає значення після виконання.\n\n### Помилки\n\nМетод генерирует[ZookeeperException](class.zookeeperexception.md) та його похідні, коли кількість параметрів або типи неправильні або не вдається зберегти значення у вузлі.\n\n### Приклади\n\n**Приклад #1 Приклад використання** ZookeeperConfig::add()\\*\\*\\*\\*\n\nДодавання серверів.\n\n```php\n<?php\n$client = new Zookeeper();\n$client->connect('localhost:2181');\n$client->addAuth('digest', 'timandes:timandes');\n$zkConfig = $client->getConfig();\n$zkConfig->set(\"server.1=localhost:2888:3888:participant;0.0.0.0:2181\");\n$zkConfig->add(\"server.2=localhost:2889:3889:participant;0.0.0.0:2182\");\n$r = $zkConfig->get();\nif ($r)\n  echo $r;\nelse\n  echo 'Ошибка';\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nserver.1=localhost:2888:3888:participant;0.0.0.0:2181\nserver.2=localhost:2889:3889:participant;0.0.0.0:2182\nversion=0xca01e881a2\n```\n\n### Дивіться також\n\n-   [ZookeeperConfig::get()](zookeeperconfig.get.md) \\- Синхронно отримує останню підтверджену конфігурацію кластера ZooKeeper, про яку відомо серверу, до якого підключено клієнта\n-   [ZookeeperConfig::set()](zookeeperconfig.set.md) \\- Змінює склад ансамблю ZK та ролі його учасників\n-   [ZookeeperConfig::remove()](zookeeperconfig.remove.md) \\- Видаляє сервери з ансамблю\n-   [ZookeeperException](class.zookeeperexception.md)\n","title":"ZookeeperConfig::add","contentType":2,"navigation":[{"class.zookeeperconfig.md":"« ZookeeperConfig"},{"zookeeperconfig.get.md":"ZookeeperConfig::get »"},{"index.md":"PHP Manual"},{"class.zookeeperconfig.md":"ZookeeperConfig"}]}},"__N_SSG":true}