- [« Варіант 1: обслуговуються лише загальнодоступні
файли](security.cgi-bin.default.md)
- [Варіант 3: використання опцій doc_root чи user_dir
»](security.cgi-bin.doc-root.md)

- [PHP Manual](index.md)
- [Якщо PHP встановлено як CGI](security.cgi-bin.md)
- Варіант 2: використання cgi.force_redirect

## Варіант 2: використання `cgi.force_redirect`

Конфігураційна директива
[cgi.force_redirect](ini.core.md#ini.cgi.force-redirect) запобігає
спроби безпосереднього виклику PHP за адресою виду
`http://my.host/cgi-bin/php/secretdir/script.php`. Натомість PHP
буде обробляти запит тільки в тому випадку, якщо він був
перенаправлено веб-сервером.

Зазвичай перенаправлення конфігурації Apache налаштовується за допомогою
наступних опцій:

`` apache-confcode
Action php-script /cgi-bin/php
AddHandler php-script .php
````

Ця опція перевірена лише з веб-сервером Apache, її робота базується
на установці у разі перенаправлення нестандартної змінної
REDIRECT_STATUS, що знаходиться в CGI-оточенні. У випадку, якщо ваш
веб-сервер не надає можливості однозначно ідентифікувати,
чи є цей запит перенаправленим, ви не можете використовувати
опцію, що описується в даному розділі, і повинні скористатися будь-яким іншим
методом роботи з CGI-додатками.
