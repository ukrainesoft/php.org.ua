- [« Застаріла функціональність](migration81.deprecated.md)
- [Міграція з PHP 7.4.x на PHP 8.0.x »](migration80.md)

- [PHP Manual](index.md)
- [Міграція з PHP 8.0.x на PHP 8.1.x](migration81.md)
- Інші зміни

## Інші зміни

### Зміни в модулях SAPI

#### CLI

Використання **-a** без [модуля readline](book.readline.md) тепер
призведе до помилки. Раніше використання **-a** без модуля readline було
аналогічним виклику **php** без жодних аргументів, за винятком
виведення додаткового повідомлення `Interactive mode enabled`. Цей
режим був *не* інтерактивним.

#### PHPDBG

Можливість дистанційного налагодження в [phpdbg](book.phpdbg.md) була
видалено.

### Змінені функції

#### Ядро

Порядок властивостей, що використовуються в
[foreach](control-structures.foreach.md),
[var_dump()](function.var-dump.md),
[serialize()](function.serialize.md), при порівнянні об'єктів тощо.
був змінений. Тепер властивості впорядковані природним чином
відповідно до їх оголошення і спадкування. Властивості, оголошені в
батьківського класу, будуть перед дочірніми.

Цей порядок відповідає внутрішньому розташуванню властивостей у структурі
`zend_object` і повторює порядок у `default_properties_table[]` і
`properties_info_table[]`. Старий лад не був задокументований і був
викликаний деталями реалізації спадкування класів.

#### Фільтрування

Прапор **`FILTER_FLAG_ALLOW_OCTAL`** фільтра **`FILTER_VALIDATE_INT`**
тепер приймає вісімковий рядок з початковим вісімковим префіксом
(``0o``/``0O``).

#### GMP

Всі функції [GMP](book.gmp.md) тепер приймають вісімковий рядок з
початковим вісімковим префіксом (``0o``/``0O``).

#### PDO ODBC

Виклик [PDO::getAttribute()](pdo.getattribute.md) з константою
**`PDO::ATTR_SERVER_INFO`** та **`PDO::ATTR_SERVER_VERSION`** тепер
поверне значення замість генерації виключення
[PDOException](class.pdoexception.md).

#### Reflection

Виклик
[ReflectionProperty::setAccessible()](reflectionproperty.setaccessible.md)
і
[ReflectionMethod::setAccessible()](reflectionmethod.setaccessible.md)
більше не потрібно. Властивості та методи тепер завжди вважаються
доступними під час роботи через Reflection.

#### Стандартні функції

[syslog()](function.syslog.md) тепер безпечний для двійкових файлів.

### Інші зміни в модулях

#### GD

[imagewebp()](function.imagewebp.md) тепер може виконати
кодування WebP без втрат, якщо передати **`IMG_WEBP_LOSSLESS`**
параметром quality.

Ця константа визначається лише в тому випадку, якщо використовуваний libgd
підтримує кодування WebP без втрат.

#### MySQLi

Під час збирання PHP з бібліотекою libmysqlclient тепер доступні функції
[mysqli_stmt::next_result()](mysqli-stmt.next-result.md) і
[mysqli::fetch_all()](mysqli-result.fetch-all.md).

#### OpenSSL

- Для [модуля OpenSSL](book.openssl.md) тепер потрібно OpenSSL
версії не нижче 1.0.2.

– Тепер підтримується OpenSSL 3.0. Майте на увазі, що багато шифрів
більше не включені за замовчуванням (частина застарілого провайдера) та
перевірка параметрів (наприклад, мінімальні розміри ключів) стала
суворішою.

#### Phar

- За промовчанням для підписів тепер використовується SHA256.

- Додана підтримка підписів OpenSSL_SHA256 та OpenSSL_SHA512.

#### SNMP

- Додана підтримка SHA256 та SHA512 для протоколу безпеки.

#### Стандартні модулі

`--with-password-argon2` тепер використовує pkg-config для виявлення
libargon2. Таким чином, альтернативний шлях до libargon2 тепер повинен
бути вказано в `PKG_CONFIG_PATH`.

### Зміни в обробці INI-файлів

- INI-директива
[log_errors_max_len](errorfunc.configuration.md#ini.log-errors-max-len)
видалено. Починаючи з PHP 8.0.0, вона вже перестала працювати.

- Долар на початку рядка в лапках тепер можна екранувати: ``\${"`
тепер буде інтерпретуватися як рядок із вмістом `${`.

- Зворотні сліши в рядках з подвійними лапками тепер більше
послідовно розглядаються як символи, що екранують. Раніше
"foo", за яким слідувало щось, крім нового рядка, не
вважалося завершеним рядком. Тепер це інтерпретується як
рядок із вмістом `foo`. Однак, як виняток, рядок "foo",
за якою слідує новий рядок, як і раніше, розглядатиметься
як коректний рядок із вмістом `foo\`, а не як незавершений
рядок. Цей виняток необхідний для підтримки простого
використання шляхів до файлів Windows, таких як "C: oo".
