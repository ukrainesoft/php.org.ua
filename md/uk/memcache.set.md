- [« Memcache::replace](memcache.replace.md)
- [Memcache::setCompressThreshold
»](memcache.setcompressthreshold.md)

- [PHP Manual](index.md)
- [Memcache](class.memcache.md)
- Зберегти дані на сервері

# Memcache::set

(PECL memcache \>u003d 0.2.0)

Memcache::set — Зберегти дані на сервері

### Опис

**Memcache::set**(
string `$key`,
[mixed](language.types.declarations.md#language.types.declarations.mixed)
`$var`,
int `$flag` u003d ?,
int `$expire` u003d ?
): bool

**Memcache::set()** записує елемент зі значенням `var` на сервері
memcache із зазначеним ключем `key`. Параметр `expire` задає час життя
елемент. Якщо він дорівнює 0, то елемент ніколи не застаріє (але сервер
memcached не гарантує що елемент буде постійно зберігатися у кеші та
він може бути вилучений для звільнення місця нових елементів). Ви
можете використовувати константу **`MEMCACHE_COMPRESSED`** як
значення для параметра `flag`, якщо вам потрібне стиснення "на льоту"
(Використовується zlib).

> **Примітка**:
>
> Пам'ятайте, що ресурси (наприклад, дескриптори файлів або підключень) не
> можуть бути збережені в кеші, тому що вони не можуть бути
> серіалізовані.

Також можна використовувати функцію **memcache_set()**.

### Список параметрів

`key`
Ключ, з яким пов'язане значення елемента.

`var`
Змінна для збереження. Строкові та числові значення зберігаються як
є, інші типи серіалізуються.

`flag`
Використовуйте **`MEMCACHE_COMPRESSED`** для збереження елементів з
використанням стиснення (використовується zlib).

`expire`
Час життя елемент. Якщо дорівнює нулю, елемент ніколи не старіє.
Також можна використовувати мітку часу Unix або число секунд,
починаючи з поточного моменту, однак, у цьому випадку кількість секунд не може
бути більше 2592000 (30 днів).

### Значення, що повертаються

Повертає **`true`** у разі успішного виконання або **`false`** у
у разі виникнення помилки.

### Приклади

**Приклад #1 Приклад використання **Memcache::set()****

`<?php/* процедурне API *//* підключення к серверу memcached */$memcache_obj u003d memcache_connect('memcache_host', 11211),** життя 30 секунд*/memcache_set($memcache_obj, 'var_key', 'some variable', 0, 30);echo memcache_get($memcache_obj, 'var_key');?> `

**Приклад #2 Приклад використання **Memcache::set()****

`<?php/*об'єктно-орієнтоване API */$memcache_obj u003d new Memcache;/* підключення к серверу memcached */$memcache_obj->connect('memcache_host', 1; використовуючи стиснення "на лету" і часом життя 50 секунд. `

### Дивіться також

- [Memcache::add()](memcache.add.md) - Додати елемент із зазначеним
ключем
- [Memcache::replace()](memcache.replace.md) - Замінити значення
існуючого елемента
