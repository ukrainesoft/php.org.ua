{"pageProps":{"page":{"slug":"migration82.incompatible.md","content":"## Зміни, що ламають зворотну сумісність\n\n### Date\n\nУ метода[DateTime::createFromImmutable()](datetime.createfromimmutable.md) тепер попередній тип, що повертається static, раніше повертаний тип був [DateTime](class.datetime.md)\n\nУ метода[DateTimeImmutable::createFromMutable()](datetimeimmutable.createfrommutable.md) тепер попередній тип, що повертається static, раніше повертаний тип був [DateTimeImmutable](class.datetimeimmutable.md)\n\nСимволи `number` у відносних форматах більше не приймають кілька знаків, наприклад, `+-2`\n\n### ODBC\n\nМодуль ODBC тепер екранує ім'я користувача та пароль у разі, якщо передається рядок з'єднання разом з ім'ям користувача/паролем, тоді рядок з'єднання буде змінено. Раніше при використанні значень користувача, що потребують екранування, могли згенерувати неправильний рядок з'єднання або вставити значення з даних, отриманих від користувача. Правила екранування повинні бути ідентичні поведінці .NET BCL DbConnectionOptions.\n\n### PDO\\_ODBC\n\nМодуль PDO\\_ODBC також екранує ім'я користувача та пароль під час передачі рядка підключення. Для отримання додаткових відомостей див. [зміна модуля ODBC](migration82.incompatible.md#migration82.incompatible.odbc)\n\n### Стандартні функції\n\nФункция[glob()](function.glob.md) тепер повертає порожній масив (array), якщо всі шляхи знаходяться поза межами директорії, визначеної в [open\\_basedir](ini.core.md#ini.open-basedir)Ранее функция возвращала\\*\\*`false`\\*\\*. Більше того, попередження тепер видається, навіть якщо деякі шляхи обмежені за допомогою директиви [open\\_basedir](ini.core.md#ini.open-basedir)\n\nМетод[FilesystemIterator::\\_\\_construct()](filesystemiterator.construct.md): до версії PHP 8.2.0 константа **`FilesystemIterator::SKIP_DOTS`** була встановлена ​​завжди і не могла бути відключена. Для збереження колишньої поведінки константа має бути явно встановлена ​​під час використання параметра `flags`Значение по умолчанию параметра`flags` не було змінено.\n\nФункції [strtolower()](function.strtolower.md) [strtoupper()](function.strtoupper.md) [stristr()](function.stristr.md) [stripos()](function.stripos.md) [strripos()](function.strripos.md) [lcfirst()](function.lcfirst.md) [ucfirst()](function.ucfirst.md) [ucwords()](function.ucwords.md) і [str\\_ireplace()](function.str-ireplace.md) більше не чутливі до локалізації. Тепер вони виконують перетворення регістру ASCII, ніби локаль була \"C\". Локалізовані версії цих функцій доступні у модулі [MBString](book.mbstring.md). Більше того, функція [array\\_change\\_key\\_case()](function.array-change-key-case.md) та сортування за допомогою \\*\\*`SORT_FLAG_CASE`\\*\\*теперь также используют преобразование регистра ASCII.\n\nФункция[str\\_split()](function.str-split.md) тепер повертає порожній масив (array), якщо була викликана з порожнього рядка (string). Раніше вона повертала масив з одним порожнім рядком. на функцію [mb\\_str\\_split()](function.mb-str-split.md) ця зміна не впливає, оскільки вона вже працювала так.\n\nФункції [ksort()](function.ksort.md) і [krsort()](function.krsort.md) тепер виконують порівняння числових рядків при **`SORT_REGULAR`**, використовуючи стандартні правила PHP 8\n\nФункция[var\\_export()](function.var-export.md) більше не опускає провідний зворотний сліш для класів, що експортуються, тобто. вони тепер повністю кваліфіковані.\n\n### Стандартна бібліотека PHP (SPL)\n\nНаступні методи тепер посилюють свою сигнатуру:\n\n-   **SplFileInfo::\\_bad\\_state\\_ex()**\n-   [SplFileObject::getCsvControl()](splfileobject.getcsvcontrol.md)\n-   [SplFileObject::fflush()](splfileobject.fflush.md)\n-   [SplFileObject::ftell()](splfileobject.ftell.md)\n-   [SplFileObject::fgetc()](splfileobject.fgetc.md)\n-   [SplFileObject::fpassthru()](splfileobject.fpassthru.md)\n\nУ метода[SplFileObject::hasChildren()](splfileobject.haschildren.md) тепер попередній тип повертається false, раніше він був bool.\n\nУ метода[SplFileObject::getChildren()](splfileobject.getchildren.md) тепер попередній тип, що повертається null, раніше він був ?[RecursiveIterator](class.recursiveiterator.md)\n\nКласс[GlobIterator](class.globiterator.md) тепер повертає порожній масив (array), якщо всі шляхи знаходяться поза межами директорії, заданої в [open\\_basedir](ini.core.md#ini.open-basedir)Ранее он возвращал\\*\\*`false`\\*\\*. Більше того, тепер видається попередження, навіть якщо деякі з шляхів знаходяться за межами [open\\_basedir](ini.core.md#ini.open-basedir)\n","title":"Зміни, що ламають зворотну сумісність","contentType":2,"navigation":[{"migration82.constants.md":"« Нові глобальні константи"},{"migration82.deprecated.md":"Застаріла функціональність »"},{"index.md":"PHP Manual"},{"migration82.md":"Міграція з PHP 8.1.x на PHP 8.2.x"}]}},"__N_SSG":true}