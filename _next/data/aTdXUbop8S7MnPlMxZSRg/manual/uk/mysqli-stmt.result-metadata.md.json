{"pageProps":{"page":{"slug":"mysqli-stmt.result-metadata.md","content":"# mysqli\\_stmt::result\\_metadata\n\n# mysqli\\_stmt\\_result\\_metadata\n\n(PHP 5, PHP 7, PHP 8)\n\nmysqli\\_stmt::result\\_metadata -- mysqli\\_stmt\\_result\\_metadata — Повертає метадані результуючої таблиці запиту, що готується.\n\n### Опис\n\nОб'єктно-орієнтований стиль\n\n```methodsynopsis\npublic mysqli_stmt::result_metadata(): mysqli_result|false\n```\n\nПроцедурний стиль\n\n```methodsynopsis\nmysqli_stmt_result_metadata(mysqli_stmt $statement): mysqli_result|false\n```\n\nЯкщо запит, переданий у [mysqli\\_prepare()](mysqli.prepare.md), генерирует результирующую таблицу,**mysqli\\_stmt\\_result\\_metadata()** повертає об'єкт, за допомогою якого можна отримати опис цього результуючого набору. Зокрема, можна отримати кількість полів та опис кожного окремого поля.\n\n> **Зауваження** :\n> \n> Отриманий об'єктний покажчик можна передавати як аргумент у функції обробки метаданих результуючих таблиць, як:\n> \n> -   [mysqli\\_num\\_fields()](mysqli-result.field-count.md)\n>     \n> -   [mysqli\\_fetch\\_field()](mysqli-result.fetch-field.md)\n>     \n> -   [mysqli\\_fetch\\_field\\_direct()](mysqli-result.fetch-field-direct.md)\n>     \n> -   [mysqli\\_fetch\\_fields()](mysqli-result.fetch-fields.md)\n>     \n> -   [mysqli\\_field\\_count()](mysqli.field-count.md)\n>     \n> -   [mysqli\\_field\\_seek()](mysqli-result.field-seek.md)\n>     \n> -   [mysqli\\_field\\_tell()](mysqli-result.current-field.md)\n>     \n> -   [mysqli\\_free\\_result()](mysqli-result.free.md)\n>     \n\nПісля завершення роботи з цим об'єктом пам'ять, яку він займає, необхідно звільнити. Зробити це можна, передавши об'єктний покажчик на функцію [mysqli\\_free\\_result()](mysqli-result.free.md)\n\n> **Зауваження** :\n> \n> Результуючий набір, що повертається з \\*\\*mysqli\\_stmt\\_result\\_metadata()\\*\\*містить тільки метадані. У ньому немає рядків вибірки. Результати запиту можна отримати за допомогою функції [mysqli\\_stmt\\_fetch()](mysqli-stmt.fetch.md)\n\n### Список параметрів\n\n`stmt`\n\nТільки для процедурного стилю: об'єкт [mysqli\\_stmt](class.mysqli-stmt.md), який повернула функція [mysqli\\_stmt\\_init()](mysqli.stmt-init.md)\n\n### Значення, що повертаються\n\nПовертає об'єкт або \\*\\*`false`\\*\\*случае возникновения ошибки.\n\n### Помилки\n\nЯкщо сповіщення про помилки mysqli включено (**`MYSQLI_REPORT_ERROR`**) та запитана операція не вдалася, видається попередження. Якщо, крім того, встановлено режим **`MYSQLI_REPORT_STRICT`**, натомість буде викинуто виняток [mysqli\\_sql\\_exception](class.mysqli-sql-exception.md)\n\n### Приклади\n\n**Приклад #1 Об'єктно-орієнтований стиль**\n\n```php\n<?php\n$mysqli = new mysqli(\"localhost\", \"my_user\", \"my_password\", \"test\");\n\n$mysqli->query(\"DROP TABLE IF EXISTS friends\");\n$mysqli->query(\"CREATE TABLE friends (id int, name varchar(20))\");\n\n$mysqli->query(\"INSERT INTO friends VALUES (1,'Hartmut'), (2, 'Ulf')\");\n\n$stmt = $mysqli->prepare(\"SELECT id, name FROM friends\");\n$stmt->execute();\n\n/* получаем результирующий набор метаданных */\n$result = $stmt->result_metadata();\n\n/* извлекаем информацию о столбце из метаданных */\n$field = $result->fetch_field();\n\nprintf(\"Имя столбца: %s\\n\", $field->name);\n\n/* закрываем результирующий набор */\n$result->close();\n\n/* закрываем подключение */\n$mysqli->close();\n?>\n```\n\n**Приклад #2 Процедурний стиль**\n\n```php\n<?php\n$link = mysqli_connect(\"localhost\", \"my_user\", \"my_password\", \"test\");\n\nmysqli_query($link, \"DROP TABLE IF EXISTS friends\");\nmysqli_query($link, \"CREATE TABLE friends (id int, name varchar(20))\");\n\nmysqli_query($link, \"INSERT INTO friends VALUES (1,'Hartmut'), (2, 'Ulf')\");\n\n$stmt = mysqli_prepare($link, \"SELECT id, name FROM friends\");\nmysqli_stmt_execute($stmt);\n\n/* получаем результирующий набор метаданных */\n$result = mysqli_stmt_result_metadata($stmt);\n\n/* извлекаем информацию о столбце из метаданных */\n$field = mysqli_fetch_field($result);\n\nprintf(\"Имя столбца: %s\\n\", $field->name);\n\n/* закрываем результирующий набор */\nmysqli_free_result($result);\n\n/* закрываем подключение */\nmysqli_close($link);\n?>\n```\n\n### Дивіться також\n\n-   [mysqli\\_prepare()](mysqli.prepare.md) \\- готує SQL вираз до виконання\n-   [mysqli\\_free\\_result()](mysqli-result.free.md) \\- звільняє пам'ять, зайняту результатами запиту\n","title":"mysqli\\_stmt::result\\_metadata","contentType":2,"navigation":[{"mysqli-stmt.reset.md":"« mysqli\\_stmt::reset"},{"mysqli-stmt.send-long-data.md":"mysqli\\_stmt::send\\_long\\_data »"},{"index.md":"PHP Manual"},{"class.mysqli-stmt.md":"mysqli\\_stmt"}]}},"__N_SSG":true}