- [«Вступ](features.commandline.introduction.md)
- [Опції »](features.commandline.options.md)

- [PHP Manual](index.md)
- [Використання PHP у командному рядку](features.commandline.md)
- Основні відмінності від інших реалізацій SAPI

## Основні відмінності від інших реалізацій SAPI

Основні відмінності CLI SAPI від інших реалізацій SAPI:

- На відміну від CGI SAPI, заголовки не пишуться до потоку виведення.

Незважаючи на те, що у CGI SAPI є спосіб придушення
HTTP-заголовків, CLI SAPI немає можливості їх включити.

CLI за замовчуванням запускається в тихому режимі, проте ключі
**-q** та **--no-header** збережені для зворотної сумісності, що
дозволяє використовувати старі CGI-скрипти.

Поточна директорія не змінюється робочої директорії скрипта.
(Ключі **-C** та **--no-chdir** збережені для зворотної сумісності)

Повідомлення про помилки видаються в текстовому режимі (без
HTML-форматування).

- Деякі налаштування `php.ini` перевизначаються CLI SAPI, оскільки
вони не мають сенсу при роботі в командному рядку:

[TABLE]

**Перевизначені директиви `php.ini`**

> **Примітка**:
>
> Ці директиви не можуть бути ініціалізовані іншими значеннями з
> конфігураційного файлу `php.ini` або будь-якого іншого (у випадку,
> якщо він вказаний). Це обмеження пов'язано з тим, що значення
> використовуються після обробки конфігураційних файлів. Проте,
> ці значення можуть бути змінені під час роботи скрипта (хоча це
> немає особливого сенсу всім них, наприклад
> [register_argc_argv](ini.core.md#ini.register-argc-argv)).

> **Примітка**:
>
> Рекомендується встановити опцію
> [ignore_user_abort](misc.configuration.md#ini.ignore-user-abort)
> для скриптів, які використовуються з командного рядка. За подробицями
> зверніться до функції
> [ignore_user_abort()](function.ignore-user-abort.md).

- Для полегшення роботи в оточенні оболонки було визначено деяке
кількість констант для [потоків
введення/виводу] (features.commandline.io-streams.md).

- CLI SAPI *не* змінює поточну директорію на директорію виконуваного
скрипт.

**Приклад #1 Приклад, що демонструє різницю з CGI SAPI:**

` <?php// Простіший тестовий скрипт під назвою test.phpecho getcwd(), "
";?> `

Якщо використовується CGI-версія, результат роботи буде
наступним:

$ pwd
/tmp

$ php -q another_directory/test.php
/tmp/another_directory

Це наочно демонструє, що PHP змінює поточну директорію на
директорію виконуваного скрипта.

Використання CLI SAPI дає інший результат:

$ pwd
/tmp

$ php -f another_directory/test.php
/tmp

Це забезпечує більшу гнучкість при написанні консольних скриптів.
на PHP.

> **Примітка**:
>
> CGI SAPI дозволяє отримати аналогічну CLI SAPI поведінку в
> у разі використання ключа **-C** під час запуску з командного рядка.
