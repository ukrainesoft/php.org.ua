- [«db2_lob_read](function.db2-lob-read.md)
- [db2_num_fields »](function.db2-num-fields.md)

- [PHP Manual](index.md)
- [Функції IBM DB2](ref.ibm-db2.md)
- Запитує наступний набір результатів із збереженої процедури

#db2_next_result

(PECL ibm_db2 \>u003d 1.0.0)

db2_next_result — Запитує наступний набір результатів із збереженої
процедури

### Опис

**db2_next_result**(resource `$stmt`): resource

Ця процедура може повертати нуль або більше наборів результатів.
Хоча ви обробляєте перший набір результатів так само, як і
результати, що повертаються простим оператором SELECT, для отримання
другого та наступних наборів результатів із збереженої процедури ви
повинні викликати функцію **db2_next_result()** та повернути результат у
змінну PHP із унікальним ім'ям.

### Список параметрів

`stmt`
Підготовлений оператор, який повертається функцією
[db2_exec()](function.db2-exec.md) або
[db2_execute()](function.db2-execute.md).

### Значення, що повертаються

Повертає новий ресурс оператора, який містить наступний набір
результатів, якщо процедура, що зберігається, повернула інший набір результатів.
Повертає **`false`**, якщо процедура, що зберігається, не повернула інший набір
результатів.

### Приклади

**Приклад #1 Виклик збереженої процедури, що повертає кілька наборів
результатів**

У наступному прикладі викликається процедура, що зберігається, яка повертає
три набори результатів. Перший набір результатів отримується
безпосередньо з того ж ресурсу операторів, для якого викликається
оператор CALL, а другий та третій набори результатів витягуються з
ресурсів операторів, що повертаються викликами функції
**db2_next_result()**.

` <?php$conn u003d db2_connect($database, $user, $password);if ($conn) {  $stmt u003d db2_exec($conn, 'CALL multiResults()'); print "Отримання першого набору результатів
";  while ($row u003d db2_fetch_array($stmt)) {    var_dump($row);  }  print "
Здобуття другого набору результатів
";  $res u003d db2_next_result($stmt); ifif($res) {    while ($row u003d db2_fetch_array($res)) {      var_dump($                                                             |
Отримання третього набору результатів
";  $res2 u003d db2_next_result($stmt); if ($res2) {   while ($row u003d db2_fetch_array($res2)) {                                         ???|$$|$                 り|

Результат виконання цього прикладу:

Отримання першого набору результатів
array(2) {
[0]u003d>
string(16) "Bubbles "
[1]u003d>
int(3)
}
array(2) {
[0]u003d>
string(16) "Gizmo "
[1]u003d>
int(4)
}

Одержання другого набору результатів
array(4) {
[0]u003d>
string(16) "Sweater"
[1]u003d>
int(6)
[2]u003d>
string(5) "llama"
[3]u003d>
string(6) "150.00"
}
array(4) {
[0]u003d>
string(16) "Smarty"
[1]u003d>
int(2)
[2]u003d>
string(5) "horse"
[3]u003d>
string(6) "350.00"
}

Отримання третього набору результатів
array(1) {
[0]u003d>
string(16) "Bubbles "
}
array(1) {
[0]u003d>
string(16) "Gizmo "
}
