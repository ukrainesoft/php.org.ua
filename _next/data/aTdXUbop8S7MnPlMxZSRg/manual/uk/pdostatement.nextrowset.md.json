{"pageProps":{"page":{"slug":"pdostatement.nextrowset.md","content":"# PDOStatement::nextRowset\n\n(PHP 5 >= 5.1.0, PHP 7, PHP 8, PECL pdo >= 0.2.0)\n\nPDOStatement::nextRowset — Перехід до наступного набору рядків через запит\n\n### Опис\n\n```methodsynopsis\npublic PDOStatement::nextRowset(): bool\n```\n\nДеякі СУБД підтримують процедури, що зберігаються, які повертають більше одного набору рядків (його ще називають результуючим набором) . **PDOStatement::nextRowset()** дозволяє отримати доступ до другого та подальших наборів, що відповідають об'єкту PDOStatement. Різні набори рядків можуть мати різну кількість стовпців.\n\n### Список параметрів\n\nЦя функція не має параметрів.\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Вилучення даних з декількох наборів рядків, повернутих процедурою, що зберігається.**\n\nУ наступному прикладі показано, як викликати процедуру, що зберігається. `MULTIPLE_ROWSETS`яка повертає три набори рядків. Ми викликаємо **PDOStatement::nextRowset()** у циклі [do-while](control-structures.do.while.md)поки він не поверне **`false`** і завершить цикл, коли не буде доступних результуючих наборів.\n\n```php\n<?php\n$sql = 'CALL multiple_rowsets()';\n$stmt = $conn->query($sql);\n$i = 1;\ndo {\n    $rowset = $stmt->fetchAll(PDO::FETCH_NUM);\n    if ($rowset) {\n        printResultSet($rowset, $i);\n    }\n    $i++;\n} while ($stmt->nextRowset());\n\nfunction printResultSet(&$rowset, $i) {\n    print \"Результирующий набор $i:\\n\";\n    foreach ($rowset as $row) {\n        foreach ($row as $col) {\n            print $col . \"\\t\";\n        }\n        print \"\\n\";\n    }\n    print \"\\n\";\n}\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nРезультирующий набор 1:\napple    red\nbanana   yellow\n\nРезультирующий набор 2:\norange   orange    150\nbanana   yellow    175\n\nРезультирующий набор 3:\nlime     green\napple    red\nbanana   yellow\n```\n\n### Дивіться також\n\n-   [PDOStatement::columnCount()](pdostatement.columncount.md) \\- Повертає кількість стовпців у результуючому наборі\n-   [PDOStatement::execute()](pdostatement.execute.md) \\- Запускає підготовлений запит на виконання\n-   [PDOStatement::getColumnMeta()](pdostatement.getcolumnmeta.md) \\- Повертає метадані стовпця у результуючій таблиці\n-   [PDO::query()](pdo.query.md) \\- готує та виконує вираз SQL без заповнювачів\n","title":"PDOStatement::nextRowset","contentType":2,"navigation":[{"pdostatement.getiterator.md":"« PDOStatement::getIterator"},{"pdostatement.rowcount.md":"PDOStatement::rowCount »"},{"index.md":"PHP Manual"},{"class.pdostatement.md":"PDOStatement"}]}},"__N_SSG":true}