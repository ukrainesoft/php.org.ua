{"pageProps":{"page":{"slug":"function.oci-set-prefetch-lob.md","content":"# oci\\_set\\_prefetch\\_lob\n\n(PHP 8.2, PECL OCI8 >= 3.2)\n\noci\\_set\\_prefetch\\_lob — Встановлює обсяг даних, що попередньо вибираються для кожного CLOB або BLOB\n\n### Опис\n\n```methodsynopsis\noci_set_prefetch_lob(resource $statement, int $prefetch_lob_size): bool\n```\n\nВстановлює розмір внутрішнього буфера, який використовується для вибірки кожного значення CLOB або BLOB, коли реалізація отримує внутрішній локатор LOB Oracle з бази даних після успішного виклику запиту до функції [oci\\_execute()](function.oci-execute.md) і кожного наступного внутрішнього запиту вибірки до бази даних. Збільшення цього значення може покращити продуктивність вибірки менших LOB за рахунок скорочення кругових обходів між PHP та базою даних. Використання пам'яті зміниться.\n\nЗначення впливає на великі об'єкти, що повертаються як екземпляри OCILob, а також на ті, що повертаються з використанням **`OCI_RETURN_LOBS`**\n\nФункция**oci\\_set\\_prefetch\\_lob()** викликається до виклику [oci\\_execute()](function.oci-execute.md). Якщо функція не була викликана, використовується значення [oci8.prefetch\\_lob\\_size](oci8.configuration.md#ini.oci8.prefetch-lob-size)\n\nЗначення попередньої вибірки LOB слід встановлювати лише Oracle Database 12.2 або новіше.\n\n### Список параметрів\n\n`statement`\n\nКоректний ідентифікатор виразу OCI8, отриманий з [oci\\_parse()](function.oci-parse.md) та виконаний функцією [oci\\_execute()](function.oci-execute.md), або ідентифікатор виразу `REF CURSOR`\n\n`prefetch_lob_size`\n\nЧисло байтів кожного LOB, яке потрібно заздалегідь вибрати, >= 0.\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Змінення попередньої вибірки LOB для запиту**\n\n```php\n<?php\n\n$conn = oci_connect('hr', 'welcome', 'localhost/XE');\n\n$stid = oci_parse($conn, 'SELECT myclob FROM mytable');\noci_set_prefetch_lob($stid, 100000);  // Установка значения перед вызовом oci_execute()\noci_execute($stid);\n\necho \"<table border='1'>\\n\";\nwhile ($row = oci_fetch_array($stid, OCI_ASSOC+OCI_RETURN_NULLS+OCI_RETURN_LOBS)) {\n    echo \"<tr>\\n\";\n    foreach ($row as $item) {\n        echo \"    <td>\".($item !== null ? htmlentities($item, ENT_QUOTES) : \"&nbsp;\").\"</td>\\n\";\n    }\n    echo \"</tr>\\n\";\n}\necho \"</table>\\n\";\n\noci_free_statement($stid);\noci_close($conn);\n\n?>\n```\n\n### Дивіться також\n\n-   INI-опція[oci8.prefetch\\_lob\\_size](oci8.configuration.md#ini.oci8.prefetch-lob-size)\n","title":"oci\\_set\\_prefetch\\_lob","contentType":2,"navigation":[{"function.oci-set-module-name.md":"« oci\\_set\\_module\\_name"},{"function.oci-set-prefetch.md":"oci\\_set\\_prefetch »"},{"index.md":"PHP Manual"},{"ref.oci8.md":"OCI8 Функції"}]}},"__N_SSG":true}