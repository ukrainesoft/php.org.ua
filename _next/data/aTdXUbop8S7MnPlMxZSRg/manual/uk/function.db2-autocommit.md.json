{"pageProps":{"page":{"slug":"function.db2-autocommit.md","content":"# db2\\_autocommit\n\n(PECL ibm\\_db2 >= 1.0.0)\n\ndb2\\_autocommit — Повертає або встановлює режим підтвердження транзакцій для з'єднання.\n\n### Опис\n\n```methodsynopsis\ndb2_autocommit(resource $connection, int $value = ?): int|bool\n```\n\nПовертає або встановлює режим підтвердження транзакцій для зазначеного з'єднання.\n\n### Список параметрів\n\n`connection`\n\nЗмінна, що містить активний ресурс підключення, отриманий за допомогою [db2\\_connect()](function.db2-connect.md) або [db2\\_pconnect()](function.db2-pconnect.md)\n\n`value`\n\nОдна з наступних констант:\n\n`DB2_AUTOCOMMIT_OFF`\n\nВимикає автопідтвердження.\n\n`DB2_AUTOCOMMIT_ON`\n\nВключає підтвердження авто.\n\n### Значення, що повертаються\n\nЯкщо в **db2\\_autocommit()** передати лише параметр `connection`, вона поверне значення поточного режиму для цього з'єднання у вигляді цілого числа, що приймає значення **`DB2_AUTOCOMMIT_OFF`**, если автоподтверждение отключено и\\*\\*`DB2_AUTOCOMMIT_ON`\\*\\*, якщо увімкнено.\n\nЯкщо в **db2\\_autocommit()** передані обидва параметри, `connection`и`autocommit`, вона спробує встановити для заданого з'єднання вказаний режим автопідтвердження. Повертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Отримання поточного режиму автопідтвердження транзакцій**\n\nУ наступному прикладі ми створимо з'єднання з відключеним автопідтвердженням та перевіримо його за допомогою **db2\\_autocommit()**\n\n```php\n<?php\n$options = array('autocommit' => DB2_AUTOCOMMIT_OFF);\n$conn = db2_connect($database, $user, $password, $options);\n$ac = db2_autocommit($conn);\nif ($ac == DB2_AUTOCOMMIT_OFF) {\n    print \"$ac -- автоподтверждение включено.\";\n} else {\n    print \"$ac -- автоподтверждение отключено.\";\n}\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\n0 -- автоподтверждение отключено.\n```\n\n**Приклад #2 Встановлення режиму автопідтвердження транзакції**\n\nУ наступному прикладі ми створимо з'єднання з відключеним підтвердженням авто, після чого його включимо і перевіримо.\n\n```php\n<?php\n$options = array('autocommit' => DB2_AUTOCOMMIT_OFF);\n$conn = db2_connect($database, $user, $password, $options);\n\n// Включаем автоподтверждение\n$rc = db2_autocommit($conn, DB2_AUTOCOMMIT_ON);\nif ($rc) {\n    print \"Автоподтверждение успешно включено.\\n\";\n}\n\n// ппроверяет текущий режим\n$ac = db2_autocommit($conn);\nif ($ac == DB2_AUTOCOMMIT_OFF) {\n    print \"$ac -- автоподтверждение включено.\";\n} else {\n    print \"$ac -- автоподтверждение отключено.\";\n}\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nАвтоподтверждение успешно включено.\n1 -- автоподтверждение включено.\n```\n\n### Дивіться також\n\n-   [db2\\_connect()](function.db2-connect.md) \\- Повертає з'єднання з базою даних\n-   [db2\\_pconnect()](function.db2-pconnect.md) \\- Повертає постійне з'єднання з базою даних\n","title":"db2\\_autocommit","contentType":2,"navigation":[{"ref.ibm-db2.md":"« Функції IBM DB2"},{"function.db2-bind-param.md":"db2\\_bind\\_param »"},{"index.md":"PHP Manual"},{"ref.ibm-db2.md":"Функції IBM DB2"}]}},"__N_SSG":true}