- [«mcrypt_generic_init](function.mcrypt-generic-init.md)
- [mcrypt_get_block_size »](function.mcrypt-get-block-size.md)

- [PHP Manual](index.md)
- [Mcrypt](ref.mcrypt.md)
- Функція шифрує дані

# mcrypt_generic

(PHP 4 \>u003d 4.0.2, PHP 5, PHP 7 \< 7.2.0, PECL mcrypt \>u003d 1.0.0)

mcrypt_generic — Функція шифрує дані

**Увага**

Ця функція оголошена *УСТАРНІЙ*, починаючи з PHP 7.1.0 і була *Видалена*
у версії PHP 7.2.0. Використовувати цю функцію не рекомендується.

### Опис

**mcrypt_generic**(resource `$td`, string `$data`): string

Ця функція шифрує дані. Дані будуть доповнені символами "``" для
того, щоб їх розмір став кратним розміру блоку. Ця функція повертає
зашифровані дані. Зверніть увагу, що довжина рядка, що повертається
може бути більшою від вихідної через доповнення.

Якщо ви хочете зберігати шифровані дані в базі даних, переконайтеся, що
ви зберігаєте рядок повністю, як вона була повернена цією функцією,
інакше ви потім не зможете її розшифрувати. Якщо ваш оригінальний рядок
була 10 символів завдовжки, а розмір блоку дорівнює 8 (використовуйте
[mcrypt_enc_get_block_size()](function.mcrypt-enc-get-block-size.md)
для визначення розміру блоку), то розмір стовпця бази даних повинен
бути щонайменше 16 символів. Зверніть увагу, що рядок повертається
[mdecrypt_generic()](function.mdecrypt-generic.md) також буде
розміром 16 символів. У такому разі просто використовуйте rtrim($str,
" ") видаляє додані символи.

Наприклад, якщо ви збережете дані в MySQL, пам'ятайте, що при вставці
значень у поля типу VARCHAR, у них автоматично відкидаються прогалини
з кінця рядка. Якщо зашифровані дані закінчуються на пробіл (ASCII
32), то вони будуть пошкоджені за такої вставки. Краще використовуйте для
зберігання поля типу TINYBLOB/TINYTEX або більше.

### Список параметрів

`td`
Дескриптор шифрування.

Обробник шифрування завжди повинен ініціалізуватися за допомогою
[mcrypt_generic_init()](function.mcrypt-generic-init.md) з ключем та
ініціалізуючим вектором перед викликом функції. Як тільки шифрування
завершено, необхідно звільнити буфери шифрування шляхом виклику функції
[mcrypt_generic_deinit()](function.mcrypt-generic-deinit.md). Дивіться
приклад у описі функції
[mcrypt_module_open()](function.mcrypt-module-open.md).

`data`
Дані для шифрування.

### Значення, що повертаються

Повертає зашифровані дані.

### Дивіться також

- [mdecrypt_generic()](function.mdecrypt-generic.md) - Дешифрування
даних
- [mcrypt_generic_init()](function.mcrypt-generic-init.md) - Функція
ініціалізує всі буфери, необхідні для шифрування
- [mcrypt_generic_deinit()](function.mcrypt-generic-deinit.md) - Ця
функція деініціалізує модуль шифрування
