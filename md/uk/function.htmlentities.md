- [«html_entity_decode](function.md-entity-decode.md)
- [htmlspecialchars_decode »](function.mdspecialchars-decode.md)

- [PHP Manual](index.md)
- [Функції для роботи з рядками](ref.strings.md)
- Перетворює всі можливі символи у відповідні HTML-сутності

#htmlentities

(PHP 4, PHP 5, PHP 7, PHP 8)

htmlentities — Перетворює всі можливі символи на відповідні
HTML-сутності

### Опис

**htmlentities**(
string `$string`,
int `$flags` u003d ENT_QUOTES \| ENT_SUBSTITUTE \| ENT_HTML401,
?string `$encoding` u003d **`null`**,
bool `$double_encode` u003d **`true`**
): string

Ця функція ідентична
[htmlspecialchars()](function.mdspecialchars.md) за винятком
того, що **htmlentities()** перетворює всі символи на відповідні
HTML-сутності (для тих символів, котрим HTML-сутності існують).
Функція
[get_html_translation_table()](function.get-html-translation-table.md)
може бути використана для повернення використовуваної таблиці перекладу
залежно від наданих констант у параметрі `flags`.

Якщо ж ви хочете розкодувати рядок (навпаки), використовуйте
[html_entity_decode()](function.md-entity-decode.md).

### Список параметрів

`string`
Вхідний рядок.

`flags`
Бітова маска з вказаних нижче прапорів, що визначають режим обробки
лапок, некоректних кодових послідовностей та використовуваний тип
документа. За замовчуванням використовується
`ENT_QUOTES | ENT_SUBSTITUTE | ENT_HTML401`.

| Назва константи Опис |
|----------------------|-------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -|
| **`ENT_COMPAT`** | Перетворює подвійні лапки, одинарні лапки не змінюються. |
| **`ENT_QUOTES`** | Перетворює як подвійні, і одинарні лапки. |
| **`ENT_NOQUOTES`** | Залишає без зміни як подвійні, так і одинарні лапки. |
| **`ENT_IGNORE`** | Мовчки відкидає некоректні кодові послідовності замість повернення порожнього рядка. Використання цього прапора не рекомендується, оскільки це може внести вразливість у ваш код (http://unicode.org/reports/tr36/#Deletion_of_Noncharacters). |
| **`ENT_SUBSTITUTE`** | Замінює некоректні кодові послідовності символом заміни Юнікоду U+FFFD у разі використання UTF-8 та &#FFFD; при використанні іншого кодування замість повернення порожнього рядка. |
| **`ENT_DISALLOWED`** | Замінює неправильні коди символів для заданого типу документа символом заміни юнікоду U+FFFD (UTF-8) або &#FFFD; (при використанні іншого кодування) замість того, щоб залишати все як є. Це може бути корисним, наприклад, для того, щоб переконатися у формальній правильності XML-документів із вбудованим зовнішнім контентом. |
| **`ENT_HTML401`** | Обробка коду відповідно до HTML 4.01. |
| **`ENT_XML1`** | Обробка коду відповідно до XML 1. |
| **`ENT_XHTML`** | Обробка коду відповідно до XHTML. |
| **`ENT_HTML5`** | Обробка коду відповідно до HTML 5 |

**Доступні значення параметра `flags`**

`encoding`
Необов'язковий аргумент, що визначає кодування, що використовується при
конвертації символів.

Якщо не вказано, значення за замовчуванням для `encoding` залежить від
конфігураційної опції
[default_charset](ini.core.md#ini.default-charset).

Хоча цей аргумент є технічно необов'язковим, настійно
рекомендується вказати правильне значення для вашого коду, опція
конфігурації [default_charset](ini.core.md#ini.default-charset) може
бути задана неправильно для вхідних даних.

Підтримуються такі кодування:

| Кодування | Псевдоніми Опис |
|-------------|------------------------------|---- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -----|
| ISO-8859 | ISO8859-1 | Західноєвропейська Latin-1. |
| ISO-8859-5 | ISO8859-5 | Рідко використовуване кирилічне кодування (Latin/Cyrillic). |
| ISO-8859-15 | ISO8859-15 | Західноєвропейська Latin-9. Додає символ євро, французькі та фінські літери до кодування Latin-1 (ISO-8859-1). |
| UTF-8 | | 8-бітна Unicode, сумісна з ASCII. |
| CP866 | ibm866, 866 | Кирилічна кодування, що застосовується в DOS. |
| CP1251 | Windows-1251, win-1251, 1251 | Кирилічне кодування, яке використовується в Windows. |
| CP1252 | Windows-1252, 1252 | Західно-європейське кодування, що застосовується у Windows. |
| KOI8-R | koi8-ru, koi8r | Російське кодування. |
| BIG5 | 950 | Традиційний китайський, застосовується переважно на Тайвані. |
| GB2312 | 936 | Спрощена китайська, стандартне національне кодування. |
| BIG5-HKSCS | | Розширена Big5, що застосовується у Гонконгу. |
| Shift_JIS | SJIS, SJIS-win, CP932, 932 | Японське кодування. |
| EUC-JP | EUCJP, eucJP-win | Японське кодування. |
| MacRoman | | Кодування, яке використовується в Mac OS. |
| ```` | | Порожній рядок активує режим визначення кодування з файлу скрипта (Zend multibyte), [default_charset](ini.core.md#ini.default-charset) та поточної локалі (дивіться [nl_langinfo()](function.nl-langinfo.md) та [setlocale()](function.setlocale.md)) у вказаному порядку. Не рекомендується використовувати. |

**Підтримувані кодування**

> **Примітка**: Інші кодування не підтримуються, замість них буде
> застосовано кодування за замовчуванням та згенеровано попередження.

`double_encode`
При вимкненні параметра `double_encode`, PHP не перетворюватиме
існуючі html-сутності. За замовчуванням все перетворюється без
обмежень.

### Значення, що повертаються

Повертає перетворений рядок.

За наявності у вхідному параметрі `string` неприпустимою
послідовності символів у заданому кодуванні `encoding`, буде
повернутий порожній рядок, якщо не встановлено прапори **`ENT_IGNORE`** або
**`ENT_SUBSTITUTE`**.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- ---------------------------------------------|
| 8.1.0 | Значення за промовчанням параметра `flags` змінено з **`ENT_COMPAT`** на **`ENT_QUOTES`** \| **`ENT_SUBSTITUTE`** \| **`ENT_HTML401`**. |
| 8.0.0 | encoding тепер допускає значення null. |

### Приклади

**Приклад #1 Приклад використання **htmlentities()****

`<?php$str u003d "A 'quote' is <b>bold</b>";// виводить: A 'quote' is <b>bold</b>echo htmlentities($str);// виводить : A 'quote' is <b>bold</b>echo htmlentities($str, ENT_QUOTES);?> `

**Приклад #2 Використання **`ENT_IGNORE`****

` <?php$str u003d "\x8F!!!";// Виводить пусту рядокecho htmlentities($str, ENT_QUOTES, "UTF-8");// Виводить "!!!"echo htmlentities($str, ENT_QUES| ENT_IGNORE, "UTF-8");?> `

### Дивіться також

- [html_entity_decode()](function.md-entity-decode.md) -
Перетворює HTML-сутності у відповідні їм символи
- [get_html_translation_table()](function.get-html-translation-table.md) -
Повертає таблицю перетворень, використовувану функціями
htmlspecialchars і htmlentities
- [htmlspecialchars()](function.mdspecialchars.md) - Перетворює
спеціальні символи в HTML-сутності
- [nl2br()](function.nl2br.md) - Вставляє HTML-код розриву рядка
перед кожним перекладом рядка
- [urlencode()](function.urlencode.md) - URL-кодування рядка
