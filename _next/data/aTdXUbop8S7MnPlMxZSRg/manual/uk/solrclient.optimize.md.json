{"pageProps":{"page":{"slug":"solrclient.optimize.md","content":"# SolrClient::optimize\n\n(PECL solr >= 0.9.2)\n\nSolrClient::optimize - Дефрагментує індекс\n\n### Опис\n\n```methodsynopsis\npublic SolrClient::optimize(int $maxSegments = 1, bool $softCommit = true, bool $waitSearcher = true): SolrUpdateResponse\n```\n\nДефрагментує індекс для прискорення пошуку.\n\n### Список параметрів\n\n`maxSegments`\n\nОптимізується до максимальної кількості сегментів. Починаючи із Solr 1.3\n\n`softCommit`\n\nОновлює 'view' індексу продуктивніше, але без гарантій 'on-disk'. (Solr4.0+)\n\n`waitSearcher`\n\nБлокувати доти, доки не відкриється нова пошукова система і не буде зареєстрована як основна пошукова система, зробивши зміни видимими.\n\n### Значення, що повертаються\n\nПовертає SolrUpdateResponse у разі успішного виконання або викидає виняток у разі виникнення помилки.\n\n### Помилки\n\nВикидає [SolrClientException](class.solrclientexception.md)якщо клієнт відмовив або виникла проблема з підключенням.\n\nВикидає [SolrServerException](class.solrserverexception.md)якщо сервер Solr не зміг обробити запит.\n\n### Примітки\n\n**Увага**\n\nPECL Solr >= 2.0 підтримує лише Solr Server >= 4.0\n\nДо PECL Solr 2.0 метод використовувався прийому аргументів \"int $maxSegments, bool $waitFlush, bool $waitSearcher\".\n\n### Дивіться також\n\n-   [SolrClient::commit()](solrclient.commit.md) \\- Завершує всі додавання/видалення, зроблені в індексі\n-   [SolrClient::rollback()](solrclient.rollback.md) \\- Відкочує всі додавання/видалення, зроблені в індекс з моменту останньої фіксації\n","title":"SolrClient::optimize","contentType":2,"navigation":[{"solrclient.getoptions.md":"« SolrClient::getOptions"},{"solrclient.ping.md":"SolrClient::ping »"},{"index.md":"PHP Manual"},{"class.solrclient.md":"SolrClient"}]}},"__N_SSG":true}