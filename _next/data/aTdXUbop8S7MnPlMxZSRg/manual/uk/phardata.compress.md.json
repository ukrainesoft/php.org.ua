{"pageProps":{"page":{"slug":"phardata.compress.md","content":"# PharData::compress\n\n(PHP 5 >= 5.3.0, PHP 7, PHP 8, PECL phar >= 2.0.0)\n\nPharData::compress — Стискає весь архів tar/zip, використовуючи стиснення Gzip або Bzip2\n\n### Опис\n\n```methodsynopsis\npublic PharData::compress(int $compression, ?string $extension = null): ?PharData\n```\n\nДля tar-архівів, цей метод здійснить стиснення всього архіву за допомогою gzip або bzip2. Результуючий файл можна розпакувати за допомогою команд gunzip або bunzip, або безпосередньо використовувати через модуль Phar.\n\nДля zip-архівів цей метод викине виняток. Для gzip-стиснення повинен бути доступний модуль [zlib](ref.zlib.md). Для bzip2-стиснення повинен бути доступний модуль [bzip2](ref.bzip2.md)\n\nЦей метод перейменовує архів, додаючи до його імені розширення `.gz` `.bz2`или наоборот, убирающее его, если параметр типа сжатия задан как`Phar::NONE`. Також можна явно вказати, яке розширення матиме файл.\n\n### Список параметрів\n\n`compression`\n\nОдна из констант:`Phar::GZ` `Phar::BZ2`, или`Phar::NONE` для відключення компресії.\n\n`extension`\n\nПо умолчанию файлу назначится расширение`.tar.gz`или`.tar.bz2` для стиснення та `.tar`, якщо стиснення вимкнено.\n\n### Значення, що повертаються\n\nПовертає об'єкт [PharData](class.phardata.md) у разі успішного виконання або \\*\\*`null`\\*\\*в случае возникновения ошибки.\n\n### Помилки\n\nВикидає виняток [BadMethodCallException](class.badmethodcallexception.md)якщо недоступний модуль [zlib](ref.zlib.md) або вимкнено модуль [bzip2](ref.bzip2.md)\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.0.0 | `extension` тепер допускає значення null. |\n\n### Приклади\n\n**Приклад #1 Приклад використання** PharData::compress()\\*\\*\\*\\*\n\n```php\n<?php\n$p = new PharData('/path/to/my.tar');\n$p['myfile.txt'] = 'hi';\n$p['myfile2.txt'] = 'hi';\n$p1 = $p->compress(Phar::GZ); // copies to /path/to/my.tar.gz\n$p2 = $p->compress(Phar::BZ2); // copies to /path/to/my.tar.bz2\n$p3 = $p2->compress(Phar::NONE); // exception: /path/to/my.tar already exists\n?>\n```\n\n### Дивіться також\n\n-   [Phar::compress()](phar.compress.md) \\- Стискає весь Phar-архів за допомогою Gzip- або Bzip2-стиснення\n","title":"PharData::compress","contentType":2,"navigation":[{"phardata.buildfromiterator.md":"« PharData::buildFromIterator"},{"phardata.compressfiles.md":"PharData::compressFiles »"},{"index.md":"PHP Manual"},{"class.phardata.md":"PharData"}]}},"__N_SSG":true}