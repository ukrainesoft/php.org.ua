{"pageProps":{"page":{"slug":"function.wincache-refresh-if-changed.md","content":"# wincache\\_refresh\\_if\\_changed\n\n(PECL wincache >= 1.0.0)\n\nwincache\\_refresh\\_if\\_changed — Оновлює записи кешу для файлів, що закешуються.\n\n### Опис\n\n```methodsynopsis\nwincache_refresh_if_changed(array $files = NULL): bool\n```\n\nОновлює записи кеша для файлів, імена яких були передані у вхідний аргумент. Якщо аргумент не вказано, всі записи в кеші оновлюються.\n\n### Список параметрів\n\n`files`\n\nМасив імен файлів, які потрібно оновити. Можуть використовуватися абсолютні чи відносні шляхи до файлів.\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\nWinCache виконує регулярні перевірки закешованих файлів, щоб гарантувати, що якщо якийсь файл було змінено, то відповідний запис у кеші буде оновлено. За промовчанням ця перевірка виконується кожні 30 секунд. Якщо, наприклад, PHP-скрипт оновлює інший PHP-скрипт, в якому зберігаються параметри конфігурації програми, то може статися так, що після збереження параметрів конфігурації у файл додаток, як і раніше, буде використовувати старі параметри протягом деякого часу, доки не буде оновлено кеш . У таких випадках може бути краще оновити кеш одразу після зміни файлу. У наведеному нижче прикладі показано, як це можна зробити.\n\n**Приклад #1 Приклад використання** wincache\\_refresh\\_if\\_changed()\\*\\*\\*\\*\n\n```php\n<?php\n$filename = 'C:\\inetpub\\wwwroot\\config.php';\n$handle = fopen($filename, 'w+');\nif ($handle === FALSE) die('Failed to open file '.$filename.' for writing');\nfwrite($handle, '<?php $setting=something; ?>');\nfclose($handle);\nwincache_refresh_if_changed(array($filename));\n?>\n```\n\n### Дивіться також\n\n-   [wincache\\_fcache\\_fileinfo()](function.wincache-fcache-fileinfo.md) \\- Отримує інформацію про файли, закешовані у файловому кеші\n-   [wincache\\_fcache\\_meminfo()](function.wincache-fcache-meminfo.md) \\- Отримує інформацію про використання пам'яті файлового кешу\n-   [wincache\\_ocache\\_fileinfo()](function.wincache-ocache-fileinfo.md) \\- Отримує інформацію про файли, закешовані в кеші опкодів\n-   [wincache\\_ocache\\_meminfo()](function.wincache-ocache-meminfo.md) \\- Отримує інформацію про використання кеш-пам'яті опкодів\n-   [wincache\\_rplist\\_fileinfo()](function.wincache-rplist-fileinfo.md) \\- Отримує інформацію про дозвіл кешу шляху до файлу дозволу\n-   [wincache\\_rplist\\_meminfo()](function.wincache-rplist-meminfo.md) \\- Отримує інформацію про використання пам'яті за допомогою кеша шляху до файлу роздільної здатності\n-   [wincache\\_ucache\\_meminfo()](function.wincache-ucache-meminfo.md) \\- Отримує інформацію про використання пам'яті кешу користувача.\n-   [wincache\\_ucache\\_info()](function.wincache-ucache-info.md) \\- Отримує інформацію про дані, що зберігаються в кеші користувача\n","title":"wincache\\_refresh\\_if\\_changed","contentType":2,"navigation":[{"function.wincache-ocache-meminfo.md":"« wincache\\_ocache\\_meminfo"},{"function.wincache-rplist-fileinfo.md":"wincache\\_rplist\\_fileinfo »"},{"index.md":"PHP Manual"},{"ref.wincache.md":"Функції WinCache"}]}},"__N_SSG":true}