{"pageProps":{"page":{"slug":"function.curl-share-close.md","content":"# curl\\_share\\_close\n\n(PHP 5 >= 5.5.0, PHP 7, PHP 8)\n\ncurl\\_share\\_close — Закрити роздільний обробник cURL\n\n### Опис\n\n```methodsynopsis\ncurl_share_close(CurlShareHandle $share_handle): void\n```\n\n> **Зауваження** :\n> \n> Використання функції не має сенсу. До PHP 8.0.0 вона використовувалася для закриття ресурсу.\n\nЗакриває оброблюваний cURL і вивільняє всі його ресурси.\n\n### Список параметрів\n\n`share_handle`\n\nОбробник, що розділяється cURL, повертається [curl\\_share\\_init()](function.curl-share-init.md)\n\n### Значення, що повертаються\n\nФункція не повертає значення після виконання.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.0.0 | `share_handle` expects a [CurlShareHandle](class.curlsharehandle.md) instance now; previously, a resource was expected. |\n\n### Приклади\n\n**Приклад #1 Приклад использования[curl\\_share\\_setopt()](function.curl-share-setopt.md)**\n\nУ цьому прикладі ми створюємо роздільний обробник cURL, додаємо в нього два звичайні обробники і запускаємо їх. Вони будуть використовувати одні й ті ж куки.\n\n```php\n<?php\n// Создаём разделяемый обработчик и настраиваем его на обмен куками\n$sh = curl_share_init();\ncurl_share_setopt($sh, CURLSHOPT_SHARE, CURL_LOCK_DATA_COOKIE);\n\n// Инициализируем первый обработчик cURL и связываем его с разделяемым\n$ch1 = curl_init(\"http://example.com/\");\ncurl_setopt($ch1, CURLOPT_SHARE, $sh);\n\n// Запускаем первый запрос\ncurl_exec($ch1);\n\n// Инициализируем второй обработчик cURL и связываем его с разделяемым\n$ch2 = curl_init(\"http://php.net/\");\ncurl_setopt($ch2, CURLOPT_SHARE, $sh);\n\n// Запускаем второй обработчик.\n// Ему будут доступны все куки от первого обработчика $ch1\ncurl_exec($ch2);\n\n// Закрываем разделяемый обработчик\ncurl_share_close($sh);\n\n// Закрываем оба обычных обработчика\ncurl_close($ch1);\ncurl_close($ch2);\n?>\n```\n\n### Дивіться також\n\n-   [curl\\_share\\_init()](function.curl-share-init.md) \\- Ініціалізація оброблюваного обробника cURL\n","title":"curl\\_share\\_close","contentType":2,"navigation":[{"function.curl-setopt.md":"« curl\\_setopt"},{"function.curl-share-errno.md":"curl\\_share\\_errno »"},{"index.md":"PHP Manual"},{"ref.curl.md":"Опції cURL"}]}},"__N_SSG":true}