{"pageProps":{"page":{"slug":"pool.submit.md","content":"# Pool::submit\n\n(PECL pthreads >= 2.0.0)\n\nPool::submit — Відправляє об'єкт на виконання\n\n### Опис\n\n```methodsynopsis\npublic Pool::submit(Threaded $task): int\n```\n\nНадсилає завдання наступному воркеру в пулі\n\n### Список параметрів\n\n`task`\n\nЗавдання для виконання\n\n### Значення, що повертаються\n\nІдентифікатор воркера, що виконує об'єкт\n\n### Приклади\n\n**Приклад #1 Надсилання завдань**\n\n```php\n<?php\nclass MyWork extends Threaded {\n\n    public function run() {\n        /* ... */\n    }\n}\n\nclass MyWorker extends Worker {\n\n    public function __construct(Something $something) {\n        $this->something = $something;\n    }\n\n    public function run() {\n        /** ... **/\n    }\n}\n\n$pool = new Pool(8, \\MyWorker::class, [new Something()]);\n$pool->submit(new MyWork());\nvar_dump($pool);\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nobject(Pool)#1 (6) {\n  [\"size\":protected]=>\n  int(8)\n  [\"class\":protected]=>\n  string(8) \"MyWorker\"\n  [\"workers\":protected]=>\n  array(1) {\n    [0]=>\n    object(MyWorker)#4 (1) {\n      [\"something\"]=>\n      object(Something)#5 (0) {\n      }\n    }\n  }\n  [\"work\":protected]=>\n  array(1) {\n    [0]=>\n    object(MyWork)#3 (1) {\n      [\"worker\"]=>\n      object(MyWorker)#5 (1) {\n        [\"something\"]=>\n        object(Something)#6 (0) {\n        }\n      }\n    }\n  }\n  [\"ctor\":protected]=>\n  array(1) {\n    [0]=>\n    object(Something)#2 (0) {\n    }\n  }\n  [\"last\":protected]=>\n  int(1)\n}\n```\n","title":"Pool::submit","contentType":2,"navigation":[{"pool.shutdown.md":"« Pool::shutdown"},{"pool.submitTo.md":"Pool::submitTo »"},{"index.md":"PHP Manual"},{"class.pool.md":"Pool"}]}},"__N_SSG":true}