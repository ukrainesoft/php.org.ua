- [« PDOStatement::bindValue](pdostatement.bindvalue.md)
- [PDOStatement::columnCount »](pdostatement.columncount.md)

- [PHP Manual](index.md)
- [PDOStatement](class.pdostatement.md)
- Закриває курсор, переводячи запит у стан готовності до
повторному запуску

# PDOStatement::closeCursor

(PHP 5 u003d 5.1.0, PHP 7, PHP 8, PECL pdo u003d 0.9.0)

PDOStatement::closeCursor — Закриває курсор, переводячи запит у
стан готовності до повторного запуску

### Опис

public **PDOStatement::closeCursor**(): bool

**PDOStatement::closeCursor()** звільняє з'єднання з сервером, даючи
можливість запускати інші SQL запити. Метод залишає запит у
стан готовності до повторного запуску.

Цей метод корисний при використанні драйверів баз даних, які не
дозволяють запустити PDOStatement, поки попередній об'єкт PDOStatement не
вибере усі дані із результуючого набору. Якщо це обмеження
поширюється на ваш драйвер, буде викликана помилка порушення
послідовності запитів (out-of-sequence error).

**PDOStatement::closeCursor()** може бути реалізований як додатковий
метод конкретного драйвера (що дозволяє досягти максимальної
ефективності роботи), або як внутрішній метод PDO, якщо така функція
у драйвері немає. Реалізація внутрішнього методу PDO семантично схожа на
наведеної нижче:

`<?phpdo {    while ($stmt->fetch())         ; if (!$stmt->nextRowset())        break;} while (true);?> `

### Список параметрів

Ця функція не має параметрів.

### Значення, що повертаються

Повертає **`true`** у разі успішного виконання або **`false`** у
у разі виникнення помилки.

### Приклади

**Приклад #1 Приклад використання **PDOStatement::closeCursor()****

У наведеному прикладі, об'єкт PDOStatement `$stmt` повертає кілька
рядків, однак програма зчитує лише першу з них, залишаючи об'єкт
PDOStatement може, коли є ще невибрані рядки. Щоб бути
впевненим у тому, що програма буде працювати з усіма драйверами баз
даних, автор додав виклик методу **PDOStatement::closeCursor()**
об'єкта `$stmt` перед тим як запустити інший запит PDOStatement
`$otherStmt`.

`<?php/* Створення об'єкта PDOStatement */$stmt u003d $dbh->prepare('SELECT foo FROM bar');/* Створення іншогооб'єкту PDOStatement */$otherStm ');/* Виконання першого запиту */$stmt->execute();/* Вибірка тільки першого рядки результуючого набору першого запиту */$stmt->треть для| драйверів */$stmt->closeCursor();/* тепер можна запускати другий запит */$otherStmt->execute();?> `

### Дивіться також

- [PDOStatement::execute()](pdostatement.execute.md) - Запускає
підготовлений запит на виконання
