- [« Передача за посиланням](language.references.pass.md)
- [Скидання змінних-посилань »](language.references.unset.md)

- [PHP Manual](index.md)
- [Пояснення посилань](language.references.md)
- Повернення за посиланням

## Повернення за посиланням

Повернення за посиланням використовується у випадках, коли ви хочете
використовувати функцію для вибору змінної, з якою має бути
пов'язане це посилання. *Не* використовуйте повернення за посиланням для збільшення
продуктивність. Ядро PHP займається оптимізацією. Застосовуйте
повернення за посиланням, тільки маючи технічні причини на це. Для повернення
за посиланням використовуйте такий синтаксис:

`<?phpclass foo {    public $value u003d 42; public function &getValue() {        return $this->value; }}$obj u003d new foo;$myValue u003d &$obj->getValue(); // $myValue вказує на $obj->value, рівне 42.$obj->value u003d 2;echo $myValue; // відобразить нове значення $obj->value, то є 2.?> `

У цьому прикладі встановлюється властивість об'єкта, повернутий функцією
getValue, а не його копії, як було б без використання посилань.

> **Примітка**: На відміну від передачі параметрів за посиланням, `&` тут
> потрібно використовувати в обох місцях – для вказівки на те, що ви
> Повертаєте посилання, а не копію, як завжди, і для вказівки того, що
> відбувається зв'язування за посиланням, а чи не звичайне присвоєння для
> `$myValue`.

> **Примітка**: Якщо ви повертаєте посилання з функції, використовуючи
> наступний синтаксис: `return ($this->value);`, це *не* буде
> працювати, тому що ви повертаєте за посиланням результат *вираження*, а не
> змінну. За посиланням можна повертати лише змінні та нічого
> більше.

Для використання посилання, що повертається, ви повинні застосовувати присвоєння по
посилання:

` <?phpfunction &collector() {  static $collection u003d array(); return $collection;}$collection u003d &collector();$collection[] u003d 'foo';?> `

Для передачі посилання, що повертається в іншу функцію, що приймає посилання,
ви можете використовувати наступний синтаксис:

` <?phpfunction &collector() {  static $collection u003d array(); return $collection;}array_push(collector(), 'foo');?> `

> **Примітка**: Зауважимо, що `array_push(&collector(), 'foo');` *не*
> спрацює, а призведе до непоправної помилки.
