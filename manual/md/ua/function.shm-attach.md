- [«sem_remove](function.sem-remove.md)
- [shm_detach »](function.shm-detach.md)

- [PHP Manual](index.md)
- [Функції семафорів](ref.sem.md)
- Створює або відкриває сегмент пам'яті, що розділяється

#shm_attach

(PHP 4, PHP 5, PHP 7, PHP 8)

shm_attach — Створює або відкриває сегмент пам'яті, що розділяється.

### Опис

**shm_attach**(int `$key`, ?int `$size` u003d **`null`**, int `$permissions`
u003d 0666): [SysvSharedMemory](class.sysvsharedmemory.md)\|false

**shm_attach()** повертає ідентифікатор, який можна використовувати
для доступу до пам'яті System V, що розділяється, за заданим ключем `key`.
Перший виклик створює сегмент розміром `size` та опціональними бітами прав
доступу `permissions`.

Наступний виклик **shm_attach()** з тим самим ключем `key` поверне інший
екземпляр [SysvSharedMemory](class.sysvsharedmemory.md), але вони обидва
будуть вказувати на один і той же сегмент пам'яті, що розділяється. Параметри
`size` та `permissions` будуть проігноровані.

### Список параметрів

`key`
Числовий ідентифікатор сегмента пам'яті

`size`
Розмір пам'яті. Якщо не заданий, то за замовчуванням використовуватиметься
`sysvshm.init_mem` в `php.ini`. Якщо не заданий і він, то 10000 байт.

`permissions`
Опціональні біти прав доступу. Типово 0666.

### Значення, що повертаються

Повертає екземпляр [SysvSharedMemory](class.sysvsharedmemory.md)
у разі успішного виконання або **`false`** у разі виникнення
помилки.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- -------------------------------------------------- ------|
| 8.0.0 | У разі успішного виконання функція повертає екземпляр [SysvSharedMemory](class.sysvsharedmemory.md); раніше повертався ресурс (resource). |
| 8.0.0 | `size` тепер допускає значення null. |

### Дивіться також

- [shm_detach()](function.shm-detach.md) - Відключається від сегмента
пам'яті
- [ftok()](function.ftok.md) - Перетворення шляху та ідентифікатора
проекту в ключ System V IPC
