{"pageProps":{"page":{"slug":"function.stream-socket-pair.md","content":"# stream\\_socket\\_pair\n\n(PHP 5 >= 5.1.0, PHP 7, PHP 8)\n\nstream\\_socket\\_pair — Створює пару підключених, невиразних потоків сокетів\n\n### Опис\n\n```methodsynopsis\nstream_socket_pair(int $domain, int $type, int $protocol): array|false\n```\n\n**stream\\_socket\\_pair()** створює пару підключених, невиразних потоків сокетів. Ця функція зазвичай використовується в IPC (міжпроцесної взаємодії).\n\n### Список параметрів\n\n`domain`\n\nИспользуемое семейство протоколов:**`STREAM_PF_INET`** **`STREAM_PF_INET6`** або **`STREAM_PF_UNIX`**\n\n`type`\n\nТип взаємодії, що використовується: **`STREAM_SOCK_DGRAM`** **`STREAM_SOCK_RAW`** **`STREAM_SOCK_RDM`** **`STREAM_SOCK_SEQPACKET`** або **`STREAM_SOCK_STREAM`**\n\n`protocol`\n\nВикористовуваний протокол: **`STREAM_IPPROTO_ICMP`** **`STREAM_IPPROTO_IP`** **`STREAM_IPPROTO_RAW`** **`STREAM_IPPROTO_TCP`**or**`STREAM_IPPROTO_UDP`**\n\n> **Зауваження**: Пожалуйста, обратитесь к разделу[Список потокових констант](stream.constants.md)за подробной информацией по каждой константе.\n\n### Значення, що повертаються\n\nПовертає масив (array) з двома потоковими ресурсами у разі успішного виконання, або \\*\\*`false`\\*\\*в случае неудачи.\n\n### Приклади\n\n**Приклад #1 Приклад використання** stream\\_socket\\_pair()\\*\\*\\*\\*\n\nЦей приклад демонструє основи використання функції **stream\\_socket\\_pair()** у міжпроцесній взаємодії.\n\n```php\n<?php\n\n$sockets = stream_socket_pair(STREAM_PF_UNIX, STREAM_SOCK_STREAM, STREAM_IPPROTO_IP);\n$pid     = pcntl_fork();\n\nif ($pid == -1) {\n     die('не удалось создать процесс');\n\n} else if ($pid) {\n     /* родительский процесс */\n    fclose($sockets[0]);\n\n    fwrite($sockets[1], \"дочерний PID: $pid\\n\");\n    echo fgets($sockets[1]);\n\n    fclose($sockets[1]);\n\n} else {\n    /* дочерний процесс */\n    fclose($sockets[1]);\n\n    fwrite($sockets[0], \"сообщение от дочернего процесса\\n\");\n    echo fgets($sockets[0]);\n\n    fclose($sockets[0]);\n}\n\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\nдочерний PID: 1378\nсообщение от дочернего процесса\n```\n","title":"stream\\_socket\\_pair","contentType":2,"navigation":[{"function.stream-socket-get-name.md":"« stream\\_socket\\_get\\_name"},{"function.stream-socket-recvfrom.md":"stream\\_socket\\_recvfrom »"},{"index.md":"PHP Manual"},{"ref.stream.md":"Функції для роботи з потоками"}]}},"__N_SSG":true}