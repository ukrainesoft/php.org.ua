- [« session_set_save_handler](function.session-set-save-handler.md)
- [session_status »](function.session-status.md)

- [PHP Manual](index.md)
- [Функції для роботи з сесіями](ref.session.md)
- Стартує нову сесію, або відновлює існуючу

# session_start

(PHP 4, PHP 5, PHP 7, PHP 8)

session_start — Стартує нову сесію або відновлює існуючу

### Опис

**session_start**(array `$options` u003d \[\]): bool

Функція **session_start()** створює сесію або відновлює
існуючу, ґрунтуючись на ідентифікаторі сесії, переданому через
GET- або POST-запит або переданий через cookie.

Коли викликана функція **session_start()** або коли сесія створюється
автоматично, PHP викличе відкриття та читання обробників запису сесії.
Це можуть бути як вбудовані обробники, так і ті, що надаються
модулями (наприклад, SQLite або Memcached); або взагалі певний
користувачем обробник, заданий функцією
[session_set_save_handler()](function.session-set-save-handler.md).
Callback-функція читання витягне всі існуючі дані сесії
(збережені у спеціальному серіалізованому вигляді), десеріалізує їх та
занесе до суперглобального масиву $\_SESSION, після чого поверне
збережені дані обробнику сесій PHP.

Для використання іменованих сесій, використовуйте
[session_name()](function.session-name.md) перед **session_start()**.

Якщо дозволено опцію
[session.use_trans_sid](session.configuration.md#ini.session.use-trans-sid),
функція **session_start()** реєструє внутрішній обробник виводу
для перезапису URL-адреси.

Якщо користувач використовує `ob_gzhandler` або щось подібне
спільно з функцією [ob_start()](function.ob-start.md), порядок
функцій важливий для правильного виведення. Наприклад, `ob_gzhandler` повинен
бути зареєстрованим до старту сесії.

### Список параметрів

`options`
Якщо поставлено, то має бути асоціативним масивом, що перевизначає
поточні [директиви конфігурації сесій](session.configuration.md).
Ключі не повинні мати префіксу `session.`.

Крім звичайного набору конфігураційних директив, можливо
додано опцію `read_and_close`. Якщо встановлена в **`true`**, то
сесія буде закрита відразу ж після прочитання, теоретично дозволяючи
уникнути блокування, якщо дані сесії не змінюватимуться.

### Значення, що повертаються

Функція повертає **`true`**, якщо сесія успішно стартована,
в іншому випадку **`false`**.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- ---------------------------------------|
| 7.1.0 | **session_start()** тепер повертає **`false`** і більше не ініціалізує `$_SESSION`, коли вона не змогла запустити сесію. |

### Приклади

#### Простий приклад сесії

**Приклад #1 `page1.php`**

` <?php// page1.phpsession_start();echo 'Ласкаво просимо на сторінку 1';$_SESSION['favcolor'] u003d 'green';$_SESSION['animal']   u003d 'cat';$_SSION ? br /><a hrefu003d"page2.php?' . SID . '">page 2</a>';?> `

Після перегляду `page1.php`, друга сторінка `page2.php` чудовим
чином отримає всі дані сесії. Читайте розділ [робота з
сесіями](ref.session.md), там розповідається про [передачу
ідентифікаторів сесій] (session.idpassing.md). Зокрема там
говориться про те, що таке константа ** `SID`**.

**Приклад #2 `page2.php`**

` <?php// page2.phpsession_start();echo 'Ласкаво просимо на сторінку 2<br />';echo $_SESSION['favcolor']; // greenecho $_SESSION['animal']; // catecho date('Y m d H:i:s', $_SESSION['time']);// Можете тут використовувати ідентифікатор сесії, як в page1.phpecho '<br /><a php">page 1</a>';?> `

#### Передача опцій у **session_start()**

**Приклад #3 Перевизначення часу життя cookie**

`<?php// Встановлюємо термін дії cookie одному дню.session_start([   'cookie_lifetime' u003d> 86400,]);?> `

**Приклад #4 Читання та закриття сесії**

` <?php// Если мы знаем, что в сессии не надо ничего изменять,// мы можем просто прочитать её переменные и сразу закрыть,// чтобы не блокировать файл сессии, который может понадобиться другим сессиямsession_start([    'cookie_lifetime' u003d> 86400,  'read_and_close' u003d> true,]); `

### Примітки

> **Примітка**:
>
> Для використання сесій на основі cookie, функція **session_start()**
> повинна бути викликана перед виведенням чогось у браузер.

> **Примітка**:
>
> Використовуйте
> [zlib.output_compression](zlib.configuration.md#ini.zlib.output-compression)
> замість [ob_gzhandler()](function.ob-gzhandler.md)

> **Примітка**:
>
> Ця функція надсилає кілька заголовків HTTP, залежно від
> Налаштування. Дивіться опис функції
> [session_cache_limiter()](function.session-cache-limiter.md) для
> керування цими заголовками.

### Дивіться також

- `$_SESSION`
- Директива конфігурації
[session.auto_start](session.configuration.md#ini.session.auto-start)
- [session_id()](function.session-id.md) - Отримує та/або
встановлює ідентифікатор поточної сесії
