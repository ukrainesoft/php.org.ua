- [«imagecrop](function.imagecrop.md)
- [imagedashedline »] (function.imagedashedline.md)

- [PHP Manual](index.md)
- [Функції GD та функції для роботи із зображеннями](ref.image.md)
- Обрізає зображення автоматично, використовуючи один із доступних
режимів

# imagecropauto

(PHP 5 \>u003d 5.5.0, PHP 7, PHP 8)

imagecropauto — Обрізає зображення автоматично, використовуючи один із
доступних режимів

### Опис

**imagecropauto**(
[GdImage](class.gdimage.md) `$image`,
int `$mode` u003d **`IMG_CROP_DEFAULT`**,
float `$threshold` u003d 0.5,
int `$color` u003d -1
): [GdImage](class.gdimage.md)\|false

Автоматично обрізає зображення відповідно до заданого `mode`.

### Список параметрів

`image`
Об'єкт [GdImage](class.gdimage.md), який повертається однією з функцій
створення зображень, наприклад, такий як
[imagecreatetruecolor()](function.imagecreatetruecolor.md).

`mode`
Одна з наступних констант:

**`IMG_CROP_DEFAULT`**
Те саме, що і **`IMG_CROP_TRANSPARENT`**. До PHP 7.4.0 пов'язаний libgd
використовував **`IMG_CROP_SIDES`**, якщо зображення не мало прозорого
кольору.

**`IMG_CROP_TRANSPARENT`**
Обрізає прозорим фоном.

**`IMG_CROP_BLACK`**
Обрізає чорне тло.

**`IMG_CROP_WHITE`**
Обрізає білим тлом.

**`IMG_CROP_SIDES`**
Використовує 4 кути зображення, щоб спробувати виявити фон для
обрізки.

**`IMG_CROP_THRESHOLD`**
Обрізає зображення, використовуючи задані `threshold` та `color`.

`threshold`
Визначає допуск у відсотках, який використовуватиметься при
порівняння кольору зображення та кольору обрізки. Метод, який використовується для
розрахунку різниці кольору, заснований на колірній відстані в кубі RGB(a).

Використовується лише у режимі **`IMG_CROP_THRESHOLD`**.

> **Примітка**: До PHP 7.4.0 у комплекті libgd використовувався кілька
> інший алгоритм, тому той самий `threshold` давав різні
> результати для системного та пов'язаного libgd.

`col`
Або значення кольору RGB, або індекс палітри.

Використовується лише у режимі **`IMG_CROP_THRESHOLD`**.

### Значення, що повертаються

Повертає об'єкт обрізаного зображення у разі успішного виконання
або **`false`** у разі виникнення помилки. Якщо повне зображення
було обрізано, [imagecrop()](function.imagecrop.md) повертає
**`false`**.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- --------------------------------------|
| 8.0.0 | `image` тепер чекає екземпляр [GdImage](class.gdimage.md); раніше очікували ресурс (resource). |
| 8.0.0 | У разі успішного виконання, функція тепер повертає об'єкт [GDImage](class.gdimage.md); раніше повертався ресурс (resource). |
| 7.4.0 | Поведінка imagecropauto() в комплекті libgd синхронізована із системним libgd: **`IMG_CROP_DEFAULT`** більше не використовує **`IMG_CROP_SIDES`**, і для обрізки порога тепер використовується той же алгоритм, що й системним libgd. |
| 7.4.0 | Значення за умовчанням `mode` було змінено на **`IMG_CROP_AUTO`**. Раніше значення за умовчанням було `-1`, що відповідає **`IMG_CROP_DEFAULT`**, але передача `-1` тепер застаріла. |

### Приклади

**Приклад #1 Правильна обробка автообрізки**

Як зазначено в розділі значення, що повертається, **imagecropauto()**
повертає **`false`**, якщо все зображення було обрізане. В цьому
прикладі у нас є ресурс зображення `$im`, який має бути
автоматично обрізаний тільки якщо є що обрізати; в іншому випадку
ми хочемо перейти до вихідного зображення.

` <?php$cropped u003d imagecropauto($im, IMG_CROP_DEFAULT);if ($cropped !u003du003d false) { // в випадку повернення нового об'єкту зображення     images // ми знищуємо вихідне зображення    $im u003d $cropped; // і призначаємо обрізане зображення в $im}?> `

### Дивіться також

- [imagecrop()](function.imagecrop.md) - Обрізати зображення до
заданого прямокутника
