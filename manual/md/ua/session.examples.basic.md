- [« Приклади](session.examples.md)
- [Передача сесії ідентифікатора »](session.idpassing.md)

- [PHP Manual](index.md)
- [Приклади](session.examples.md)
- Основи використання

## Основи використання

Сесії є простим способом зберігання інформації для окремих
користувачів із унікальним ідентифікатором сесії. Це може
використовуватись для збереження стану між запитами сторінок.
Ідентифікатори сесій зазвичай відправляються браузеру через сесійний
cookie та використовуються для отримання наявних даних сесії. Відсутність
ідентифікатор сесії або сесійного cookie повідомляє PHP про те, що
необхідно створити нову сесію та згенерувати новий ідентифікатор
сесії.

Сесії використовують просту технологію. Коли сесія створена, PHP буде
або отримувати існуючу сесію, використовуючи переданий ідентифікатор
(зазвичай із сесійного cookie) або, якщо нічого не передавалося, буде
створено нову сесію. PHP заповнить суперглобальну змінну
`$_SESSION` сесійною інформацією після того, як буде запущена
сесія. Коли PHP завершує роботу, він автоматично серіалізує
вміст суперглобальної змінної `$_SESSION` і відправить для
збереження, використовуючи сесійний обробник для запису сесії.

За промовчанням PHP використовує внутрішній обробник `files` для збереження
сесій, який встановлений в INI-змінній
[session.save_handler](session.configuration.md#ini.session.save-handler).
Цей обробник зберігає дані на сервері в директорії, зазначеній у
конфігураційної директиви
[session.save_path](session.configuration.md#ini.session.save-path).

Сесії можуть запускатися вручну за допомогою функції
[session_start()](function.session-start.md). Якщо директива
[session.auto_start](session.configuration.md#ini.session.auto-start)
встановлена в `1`, сесія автоматично запуститься на початку запиту.

Сесія зазвичай завершує свою роботу, коли PHP закінчує виконувати
скрипт, але може бути завершено і вручну за допомогою функції
[session_write_close()](function.session-write-close.md).

**Приклад #1 Реєстрація змінної за допомогою `$_SESSION`.**

` <?phpsession_start();if(!isset($_SESSION['count'])) { $_SESSION['count'] u003d 0;} else {  $_SESSION['count']++;}?> `

**Приклад #2 Скасування оголошення змінної за допомогою `$_SESSION`.**

` <?phpsession_start();unset($_SESSION['count']);?> `

**Застереження**

НЕ ОЧИЩАЙТЕ `$_SESSION` повністю, використовуючи `unset($_SESSION)`, тому що
це відключить можливість реєстрації сесійних змінних через
суперглобальну змінну `$_SESSION`.

**Увага**

Ви не можете використовувати посилання в сесійних змінних, тому що не
Існує реального способу відновлення посилання до іншої змінної.

> **Примітка**:
>
> Сесії, які використовують файли (за замовчуванням у PHP), блокують файл сесії
> відразу при відкритті сесії функцією
> [session_start()](function.session-start.md) або опосередковано
> вказівки
> [session.auto_start](session.configuration.md#ini.session.auto-start).
> Після блокування, жодний інший скрипт не може отримати доступ до
> цього ж файлу сесії, доки він не буде закритий або при завершенні
> скрипт або виклик виклику
> [session_write_close()](function.session-write-close.md).
>
> Швидше за все це стане проблемою для сайтів, які активно
> використовують AJAX та роблять кілька одночасних запитів. Найпростішим
> шляхом вирішення цієї проблеми буде виклик функції
> [session_write_close()](function.session-write-close.md) відразу ж
> як тільки всі необхідні зміни в сесії будуть зроблені,
> Переважно ближче до початку роботи скрипта. Також можна
> використовувати інший механізм сесії, який підтримує конкурентний
> доступ.
