{"pageProps":{"page":{"slug":"function.pcntl-rfork.md","content":"# pcntl\\_rfork\n\n(PHP 8 >= 8.1.0)\n\npcntl\\_rfork - Взаємодіє з ресурсами процесу\n\n### Опис\n\n```methodsynopsis\npcntl_rfork(int $flags, int $signal = 0): int\n```\n\nВзаємодіє з ресурсами процесу.\n\n### Список параметрів\n\n`flags`\n\nПараметр`flags` визначає, які ресурси процесу (батьківського) поділяються новим процесом (дочірнім) або ініціалізуються в значення за умовчанням.\n\n`flags` є логічним OR (або) деякого підмножини з:\n\n-   **`RFPROC`**: Якщо встановлено, створюється новий процес; інакше зміни зачіпають поточний процес.\n-   **`RFNOWAIT`**: Якщо встановлено, дочірній процес буде відокремлений від батьківського. При виході дочірній процес не залишатиме статусу для батька, щоб забрати його.\n-   **`RFFDG`**: Якщо встановлено, копіюється таблиця дескрипторів файлів сторони, що викликає; В іншому випадку два процеси використовують одну таблицю.\n-   **`RFCFDG`**: Якщо встановлено, новий процес починається з чистої таблиці дескрипторів файлів. Взаємовиключний прапор з`RFFDG`\n-   **`RFLINUXTHPN`**: Якщо встановлено, ядро ​​повертатиме SIGUSR1 замість SIGCHILD під час виходу з дочірнього потоку. Призначений для повідомлення батьківського процесу про вихід з клону Linux.\n\n`signal`\n\nНомер сигналу.\n\n### Значення, що повертаються\n\nУ разі успішного виконання у потоці виконання батьківського процесу повертається PID дочірнього процесу, а у потоці виконання дочірнього процесу повертається В случае возникновения ошибки в контексте родителя будет возвращено`-1`, дочірній процес не буде створено і буде видано помилку PHP.\n\n### Приклади\n\n**Приклад #1 Приклад використання** pcntl\\_rfork()\\*\\*\\*\\*\n\n```php\n<?php\n\n$pid = pcntl_rfork(RFNOWAIT|RFTSIGZMB, SIGUSR1);\nif ($pid > 0) {\n  // Родительский процесс.\n  var_dump($pid);\n} else {\n  // Дочерний процесс.\n  var_dump($pid);\n  sleep(2); // поскольку дочерний процесс не ждёт, мы видим его \"pid\".\n}\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\nint(77093)\nint(0)\n```\n\n### Примітки\n\n> **Зауваження** :\n> \n> Функція доступна лише у системах BSD.\n\n### Дивіться також\n\n-   [pcntl\\_fork()](function.pcntl-fork.md) \\- Розгалужити (fork) поточний запущений процес\n-   [pcntl\\_waitpid()](function.pcntl-waitpid.md) \\- Очікує чи повертає статус породженого дочірнього процесу\n-   [pcntl\\_signal()](function.pcntl-signal.md) \\- Встановлення оброблювача сигналу\n-   [cli\\_set\\_process\\_title()](function.cli-set-process-title.md) \\- Встановлює заголовок процесу\n","title":"pcntl\\_rfork","contentType":2,"navigation":[{"function.pcntl-getpriority.md":"« pcntl\\_getpriority"},{"function.pcntl-setpriority.md":"pcntl\\_setpriority »"},{"index.md":"PHP Manual"},{"ref.pcntl.md":"Функції PCNTL"}]}},"__N_SSG":true}