{"pageProps":{"page":{"slug":"mongodb-driver-clientencryption.encrypt.md","content":"# MongoDB\\\\Driver\\\\ClientEncryption::encrypt\n\n(mongodb >=1.7.0)\n\nMongoDB\\\\Driver\\\\ClientEncryption::encrypt — Шифрує дані\n\n### Опис\n\n```methodsynopsis\nfinal public MongoDB\\Driver\\ClientEncryption::encrypt(mixed $value, ?array $options = null): MongoDB\\BSON\\Binary\n```\n\nШифрує дані.\n\n### Список параметрів\n\n`value`\n\nЗначення для шифрування. Метод може зашифрувати будь-які дані, які можуть бути записані MongoDB.\n\n`options`\n\n**Encryption options**\n\n| Опция | Тип | Опис |\n| --- | --- | --- |\n| algorithm | string |  |\n| Алгоритм шифрування, який використовуватиметься. Опція є обов'язковою. Вкажіть одну з наступних [констант ClientEncryption](class.mongodb-driver-clientencryption.md#mongodb-driver-clientencryption.constants) : |  |  |\n\n-   **`MongoDB\\Driver\\ClientEncryption::AEAD_AES_256_CBC_HMAC_SHA_512_DETERMINISTIC`**\n-   **`MongoDB\\Driver\\ClientEncryption::AEAD_AES_256_CBC_HMAC_SHA_512_RANDOM`**\n-   **`MongoDB\\Driver\\ClientEncryption::ALGORITHM_INDEXED`**\n-   **`MongoDB\\Driver\\ClientEncryption::ALGORITHM_UNINDEXED`**\n-   **`MongoDB\\Driver\\ClientEncryption::ALGORITHM_RANGE_PREVIEW`**\n\n| | contentionFactor | int |\n\nКоефіцієнт стримування в оцінці запитів з індексованими, зашифрованими корисними навантаженнями.\n\nОпція застосовується та може бути вказана лише тоді, коли опція `algorithm` дорівнює **`MongoDB\\Driver\\ClientEncryption::ALGORITHM_INDEXED`** або **`MongoDB\\Driver\\ClientEncryption::ALGORITHM_RANGE_PREVIEW`**\n\n| | keyAltName | string |\n\nІдентифікує документ колекції сховища ключів за `keyAltName`. Опція є взаємовиключною з `keyId` і потрібно рівно один.\n\n| | keyId |[MongoDB\\\\BSON\\\\Binary](class.mongodb-bson-binary.md)\n\nІдентифікує ключ даних щодо `_id`. Значення UUID (двійковий підтип 4). Опція є взаємовиключною з `keyAltName` і потрібно рівно один.\n\n| | queryType | string |\n\nТип запиту для оцінки запитів із індексованими, зашифрованими корисними навантаженнями. Вкажіть одну з наступних [констант ClientEncryption](class.mongodb-driver-clientencryption.md#mongodb-driver-clientencryption.constants) :\n\n-   **`MongoDB\\Driver\\ClientEncryption::QUERY_TYPE_EQUALITY`**\n-   **`MongoDB\\Driver\\ClientEncryption::QUERY_TYPE_RANGE_PREVIEW`**\n\nОпція застосовується та може бути вказана лише тоді, коли опція `algorithm` дорівнює **`MongoDB\\Driver\\ClientEncryption::ALGORITHM_INDEXED`** або **`MongoDB\\Driver\\ClientEncryption::ALGORITHM_RANGE_PREVIEW`**\n\n| | rangeOpts | array |\n\nОпції індексу для поля, що шифрується, з підтримкою запитів \"rangePreview\". Наведені нижче параметри повинні відповідати значенням, встановленим у `encryptedFields` цільової колекції. Для полів типу double та decimal128 BSON, `min` `max`и`precision` повинні бути або всі встановлені, або всі повинні бути відсутніми.\n\n**Опції індексу діапазону**\n\n| Опция | Тип | Опис |\n| --- | --- | --- |\n| min | [mixed](language.types.declarations.md#language.types.declarations.mixed) | Обов'язкове, якщо встановлено значення `precision` |\n| max | [mixed](language.types.declarations.md#language.types.declarations.mixed) | Обов'язкове, якщо встановлено значення `precision` |\n| sparsity | int | Обов'язкове. |\n| precision | int | Необов'язкове. Може бути встановлений лише для типів полів BSON double або decimal128. |\n\n### Значення, що повертаються\n\nПовертає зашифровані дані у вигляді об'єкту [MongoDB\\\\BSON\\\\Binary](class.mongodb-bson-binary.md) з підтипом 6.\n\n### Помилки\n\n-   При помилці парсингу аргумент кидає виняток[MongoDB\\\\Driver\\\\Exception\\\\InvalidArgumentException](class.mongodb-driver-exception-invalidargumentexception.md)\n-   Викидає виняток [MongoDB\\\\Driver\\\\Exception\\\\EncryptionException](class.mongodb-driver-exception-encryptionexception.md)якщо при шифруванні виникла помилка\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| PECL mongodb 1.14.0 | Додані опції `\"contentionFactor\"`и`\"queryType\"` |\n\n### Дивіться також\n\n-   [MongoDB\\\\Driver\\\\ClientEncryption::decrypt()](mongodb-driver-clientencryption.decrypt.md) \\- Розшифрувати дані\n","title":"MongoDB\\\\Driver\\\\ClientEncryption::encrypt","contentType":2,"navigation":[{"mongodb-driver-clientencryption.deletekey.md":"« MongoDB\\\\Driver\\\\ClientEncryption::deleteKey"},{"mongodb-driver-clientencryption.encryptexpression.md":"MongoDB\\\\Driver\\\\ClientEncryption::encryptExpression »"},{"index.md":"PHP Manual"},{"class.mongodb-driver-clientencryption.md":"MongoDB\\\\Driver\\\\ClientEncryption"}]}},"__N_SSG":true}