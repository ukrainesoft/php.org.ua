{"pageProps":{"page":{"slug":"mysqli-stmt.affected-rows.md","content":"# mysqli\\_stmt::$affected\\_rows\n\n# mysqli\\_stmt\\_affected\\_rows\n\n(PHP 5, PHP 7, PHP 8)\n\nmysqli\\_stmt::$affected\\_rows -- mysqli\\_stmt\\_affected\\_rows - Повертає загальну кількість рядків, змінених, віддалених, вставлених або зіставлених останнім виконаним виразом\n\n### Опис\n\nОб'єктно-орієнтований стиль\n\nint|string[$mysqli\\_stmt->affected\\_rows](mysqli-stmt.affected-rows.md)\n\nПроцедурний стиль\n\n```methodsynopsis\nmysqli_stmt_affected_rows(mysqli_stmt $statement): int|string\n```\n\nПовертає кількість рядків, змінених запитом `INSERT` `UPDATE`или`DELETE`. Працює аналогічно [mysqli\\_stmt\\_num\\_rows()](mysqli-stmt.num-rows.md) для виразів `SELECT`\n\n### Список параметрів\n\n`stmt`\n\nТільки для процедурного стилю: об'єкт [mysqli\\_stmt](class.mysqli-stmt.md), який повернула функція [mysqli\\_stmt\\_init()](mysqli.stmt-init.md)\n\n### Значення, що повертаються\n\nЦіле число більше за нуль вказує кількість порушених або витягнутих рядків. Нуль означає, що записи для оператора `UPDATE` не оновлювалися, жодний рядок не відповідав виразу `WHERE` у запиті або що жодного запиту ще не було виконано . `-1` означає, що під час виконання запиту сталася помилка або для запиту `SELECT` **mysqli\\_stmt\\_affected\\_rows()** була викликана до виклику [mysqli\\_stmt\\_store\\_result()](mysqli-stmt.store-result.md)\n\n> **Зауваження** :\n> \n> Якщо кількість змінених рядків більша за максимальне значення для цілого числа в PHP, то ця кількість буде повернена у вигляді рядкового значення.\n\n### Приклади\n\n**Приклад #1 Приклад використання** mysqli\\_stmt\\_affected\\_rows()\\*\\*\\*\\*\n\nОб'єктно-орієнтований стиль\n\n```php\n<?php\n\nmysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n$mysqli = new mysqli(\"localhost\", \"my_user\", \"my_password\", \"world\");\n\n/* создание временной таблицы */\n$mysqli->query(\"CREATE TEMPORARY TABLE myCountry LIKE Country\");\n\n$query = \"INSERT INTO myCountry SELECT * FROM Country WHERE Code LIKE ?\";\n\n/* подготовка выражения */\n$stmt = $mysqli->prepare($query);\n\n/* связывание переменных */\n$code = 'A%';\n$stmt->bind_param(\"s\", $code);\n\n/* выполнение выражения */\n$stmt->execute();\n\nprintf(\"Добавлено строк: %d\\n\", $stmt->affected_rows);\n?>\n```\n\nПроцедурний стиль\n\n```php\n<?php\n\nmysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n$link = mysqli_connect(\"localhost\", \"my_user\", \"my_password\", \"world\");\n\n/* создание временной таблицы */\nmysqli_query($link, \"CREATE TEMPORARY TABLE myCountry LIKE Country\");\n\n$query = \"INSERT INTO myCountry SELECT * FROM Country WHERE Code LIKE ?\";\n\n/* подготовка выражения */\n$stmt = mysqli_prepare($link, $query);\n\n/* связывание переменных */\n$code = 'A%';\nmysqli_stmt_bind_param($stmt, \"s\", $code);\n\n/* выполнение выражения */\nmysqli_stmt_execute($stmt);\n\nprintf(\"Добавлено строк: %d\\n\", mysqli_stmt_affected_rows($stmt));\n?>\n```\n\nРезультат виконання наведених прикладів:\n\n```\nДобавлено строк: 17\n```\n\n### Дивіться також\n\n-   [mysqli\\_stmt\\_num\\_rows()](mysqli-stmt.num-rows.md) \\- Повертає кількість рядків, отриманих із сервера\n-   [mysqli\\_stmt\\_store\\_result()](mysqli-stmt.store-result.md) \\- Зберігає набір результатів у внутрішньому буфері\n","title":"mysqli\\_stmt::$affected\\_rows","contentType":2,"navigation":[{"class.mysqli-stmt.md":"« mysqli\\_stmt"},{"mysqli-stmt.attr-get.md":"mysqli\\_stmt::attr\\_get »"},{"index.md":"PHP Manual"},{"class.mysqli-stmt.md":"mysqli\\_stmt"}]}},"__N_SSG":true}