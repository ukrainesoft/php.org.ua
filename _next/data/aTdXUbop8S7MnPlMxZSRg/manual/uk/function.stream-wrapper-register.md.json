{"pageProps":{"page":{"slug":"function.stream-wrapper-register.md","content":"# stream\\_wrapper\\_register\n\n(PHP 4 >= 4.3.2, PHP 5, PHP 7, PHP 8)\n\nstream\\_wrapper\\_register - Реєструє обгортку URL, реалізовану у вигляді PHP-класу\n\n### Опис\n\n```methodsynopsis\nstream_wrapper_register(string $protocol, string $class, int $flags = 0): bool\n```\n\nДозволяє вам реалізувати власні обробники протоколів і потоків для використання з усіма іншими функціями файлової системи (такими як [fopen()](function.fopen.md) [fread()](function.fread.md)и т.д.).\n\n### Список параметрів\n\n`protocol`\n\nНазва обгортки, що реєструється. Допустимі імена протоколів повинні містити лише літери, цифри, точки (.), плюси (+) або дефіси (-).\n\n`class`\n\nНазва класу, що реалізує протокол `protocol`\n\n`flags`\n\nПовинно бути встановлене в **`STREAM_IS_URL`**, якщо параметр `protocol` є протоколом URL. Типово 0, локальний потік.\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n**stream\\_wrapper\\_register()** повертатиме **`false`**, якщо протокол `protocol`уже имеет обработчик.\n\n### Приклади\n\n**Приклад #1 Як зареєструвати обгортку потоку**\n\n```php\n<?php\n$existed = in_array(\"var\", stream_get_wrappers());\nif ($existed) {\n    stream_wrapper_unregister(\"var\");\n}\nstream_wrapper_register(\"var\", \"VariableStream\");\n$myvar = \"\";\n\n$fp = fopen(\"var://myvar\", \"r+\");\n\nfwrite($fp, \"line1\\n\");\nfwrite($fp, \"line2\\n\");\nfwrite($fp, \"line3\\n\");\n\nrewind($fp);\nwhile (!feof($fp)) {\n    echo fgets($fp);\n}\nfclose($fp);\nvar_dump($myvar);\n\nif ($existed) {\n    stream_wrapper_restore(\"var\");\n}\n\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nline1\nline2\nline3\nstring(18) \"line1\nline2\nline3\n\"\n```\n\n### Дивіться також\n\n-   Клас-прототип[streamWrapper](class.streamwrapper.md)\n-   [Приклад класу, зареєстрованого як обгортка потоку](stream.streamwrapper.example-1.md)\n-   [stream\\_wrapper\\_unregister()](function.stream-wrapper-unregister.md) \\- Скасує реєстрацію обгортки URL\n-   [stream\\_wrapper\\_restore()](function.stream-wrapper-restore.md) \\- Відновлює скасовану раніше вбудовану обгортку\n-   [stream\\_get\\_wrappers()](function.stream-get-wrappers.md) \\- Отримати список зареєстрованих потоків\n","title":"stream\\_wrapper\\_register","contentType":2,"navigation":[{"function.stream-supports-lock.md":"« stream\\_supports\\_lock"},{"function.stream-wrapper-restore.md":"stream\\_wrapper\\_restore »"},{"index.md":"PHP Manual"},{"ref.stream.md":"Функції для роботи з потоками"}]}},"__N_SSG":true}