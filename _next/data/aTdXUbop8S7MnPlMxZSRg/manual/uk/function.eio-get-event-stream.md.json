{"pageProps":{"page":{"slug":"function.eio-get-event-stream.md","content":"# eio\\_get\\_event\\_stream\n\n(PECL eio >= 0.3.1b)\n\neio\\_get\\_event\\_stream - Повертає потік, що відображає змінну, що використовується при взаємодії з libeio\n\n### Опис\n\n```methodsynopsis\neio_get_event_stream(): mixed\n```\n\n**eio\\_get\\_event\\_stream()** отримує потік, що відображає змінну, що використовується при взаємодії з libeio. Може бути використане для прив'язки деякого циклу обробки, що поставляється іншим модулем PECL, наприклад libevent.\n\n### Список параметрів\n\nЦя функція не має параметрів.\n\n### Значення, що повертаються\n\n**eio\\_get\\_event\\_stream()** повертає потік у разі успішного виконання або \\*\\*`null`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Використання eio спільно з libevent**\n\n```php\n<?php\nfunction my_eio_poll($fd, $events, $arg) {\n    /* Некоторые действия с libevent могут быть здесь */\n    if (eio_nreqs()) {\n        eio_poll();\n    }\n    /* .. и здесь */\n}\n\nfunction my_res_cb($d, $r) {\n    var_dump($r); var_dump($d);\n}\n\n$base = event_base_new();\n$event = event_new();\n\n$fd = eio_get_event_stream();\nvar_dump($fd);\n\neio_nop(EIO_PRI_DEFAULT, \"my_res_cb\", \"nop data\");\neio_mkdir(\"/tmp/abc-eio-temp\", 0750, EIO_PRI_DEFAULT, \"my_res_cb\", \"mkdir data\");\n/* Прочие eio_* запросы  ... */\n\n\n// Установка флагов события\nevent_set($event, $fd, EV_READ /*| EV_PERSIST*/, \"my_eio_poll\", array($event, $base));\n\n// Установка основы события\nevent_base_set($event, $base);\n\n// Включение события\nevent_add($event);\n\n// Запуск цикла обработки\nevent_base_loop($base);\n\n/* То же самое доступно через интерфейс буфера libevent */\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\nint(3)\nint(0)\nstring(8) \"nop data\"\nint(0)\nstring(10) \"mkdir data\"\n```\n","title":"eio\\_get\\_event\\_stream","contentType":2,"navigation":[{"function.eio-futime.md":"« eio\\_futime"},{"function.eio-get-last-error.md":"eio\\_get\\_last\\_error »"},{"index.md":"PHP Manual"},{"ref.eio.md":"Eio Функції"}]}},"__N_SSG":true}