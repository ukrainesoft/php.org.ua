- [«PDO::query](pdo.query.md)
- [PDO::rollBack »](pdo.rollback.md)

- [PHP Manual](index.md)
- [PDO](class.pdo.md)
- Укладає рядок у лапки для використання у запиті

# PDO::quote

(PHP 5 u003d 5.1.0, PHP 7, PHP 8, PECL pdo u003d 0.2.1)

PDO::quote — Укладає рядок у лапки для використання у запиті

### Опис

public **PDO::quote**(string `$string`, int `$type` u003d PDO::PARAM_STR):
string\|false

**PDO::quote()** укладає рядок у лапки (якщо потрібно) і
екранує спеціальні символи всередині рядка підходящим для драйвера
способом.

Якщо ви використовуєте цю функцію для побудови запитів SQL,
*настійно* рекомендується користуватися методом
[PDO::prepare()](pdo.prepare.md) для підготовки запиту з
псевдозмінними замість використання **PDO::quote()** для вставки
даних, введених користувачем у SQL запит. Підготовлювані запити з
параметрами не тільки компактнішими, зручнішими, стійкішими до SQL-ін'єкції, але
і працюють швидше, ніж вручну побудовані запити, оскільки клієнт і
сервер можуть кешувати такі запити у вже скомпілюваному вигляді.

Не всі драйвери PDO реалізують цей спосіб (особливо PDO_ODBC).
Передбачається, що замість нього будуть використовуватися ті, хто готується
запити.

**Застереження**

# Безпека: набір за промовчанням символів

Для коректної роботи **PDO::quote()** набір символів має бути заданий
або на сервері, або задаватися самим з'єднанням з базою даних (це
залежить від драйвера). Докладніше дивіться [документацію до драйвера бази
даних](pdo.drivers.md).

### Список параметрів

`string`
Рядок, що екранується.

`type`
Надає підказку про тип даних для драйверів, які мають
альтернативні методи екранування. Наприклад, **`PDO_PARAM_LOB`**
вкаже драйверу екранувати бінарні дані.

### Значення, що повертаються

Повертає екранований рядок, який теоретично безпечно
використовувати у тілі SQL запиту. Повертає **`false`**, якщо драйвер не
підтримує екранування.

### Приклади

**Приклад #1 Екранування звичайного рядка**

` <?php$conn u003d new PDO('sqlite:/home/lynn/music.sql3');/* простий рядок */$string u003d 'Nice';print "Неекранований рядок: $string
";print "Екранований рядок: " . $conn->quote($string) . "
";?> `

Результат виконання цього прикладу:

Неекранований рядок: Nice
Екранований рядок: 'Nice'

**Приклад #2 Екранування небезпечного рядка**

` <?php$conn u003d new PDO('sqlite:/home/lynn/music.sql3');/* небезпечний рядок */$string u003d 'Naughty \' string';print "Неекранований рядок: $string
";print "Екранований рядок:" . $conn->quote($string) . "
";?> `

Результат виконання цього прикладу:

Неекранований рядок: Naughty 'string
Екранований рядок: 'Naughty '' string'

**Приклад #3 Екранування складного рядка**

` <?php$conn u003d new PDO('sqlite:/home/lynn/music.sql3');/* складний рядок*/$string u003d "Co'mpl''ex \"st'\"ring";print "Неекранований рядок: $string
";print "Екранований рядок: " . $conn->quote($string) . "
";?> `

Результат виконання цього прикладу:

Неекранований рядок: Co'mpl''ex "st'"ring
Екранований рядок: 'Co''mpl''''ex "st''"ring'

### Дивіться також

- [PDO::prepare()](pdo.prepare.md) - Підготовка запиту до
виконання та повертає пов'язаний з цим запитом об'єкт
- [PDOStatement::execute()](pdostatement.execute.md) - Запускає
підготовлений запит на виконання
