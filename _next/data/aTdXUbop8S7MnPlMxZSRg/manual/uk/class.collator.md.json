{"pageProps":{"page":{"slug":"class.collator.md","content":"# Клас Collator\n\n(PHP 5 >= 5.3.0, PHP 7, PHP 8, PECL intl >= 1.0.0)\n\n## Вступ\n\nЗдійснює порівняння рядків із підтримкою порядку сортування специфічного для локалі.\n\n## Огляд класів\n\n```classsynopsis\n\n    \n     class Collator\n     {\n\n    /* Константы */\n    \n     const\n     int\n      DEFAULT_VALUE;\n\n    const\n     int\n      PRIMARY;\n\n    const\n     int\n      SECONDARY;\n\n    const\n     int\n      TERTIARY;\n\n    const\n     int\n      DEFAULT_STRENGTH;\n\n    const\n     int\n      QUATERNARY;\n\n    const\n     int\n      IDENTICAL;\n\n    const\n     int\n      OFF;\n\n    const\n     int\n      ON;\n\n    const\n     int\n      SHIFTED;\n\n    const\n     int\n      NON_IGNORABLE;\n\n    const\n     int\n      LOWER_FIRST;\n\n    const\n     int\n      UPPER_FIRST;\n\n    const\n     int\n      FRENCH_COLLATION;\n\n    const\n     int\n      ALTERNATE_HANDLING;\n\n    const\n     int\n      CASE_FIRST;\n\n    const\n     int\n      CASE_LEVEL;\n\n    const\n     int\n      NORMALIZATION_MODE;\n\n    const\n     int\n      STRENGTH;\n\n    const\n     int\n      HIRAGANA_QUATERNARY_MODE;\n\n    const\n     int\n      NUMERIC_COLLATION;\n\n    const\n     int\n      SORT_REGULAR;\n\n    const\n     int\n      SORT_STRING;\n\n    const\n     int\n      SORT_NUMERIC;\n\n\n    /* Методы */\n    \n   public __construct(string $locale)\n\n    public asort(array &$array, int $flags = Collator::SORT_REGULAR): bool\npublic compare(string $string1, string $string2): int|false\npublic static create(string $locale): ?Collator\npublic getAttribute(int $attribute): int|false\npublic getErrorCode(): int|false\npublic getErrorMessage(): string|false\npublic getLocale(int $type): string|false\npublic getSortKey(string $string): string|false\npublic getStrength(): int\npublic setAttribute(int $attribute, int $value): bool\npublic setStrength(int $strength): bool\npublic sortWithSortKeys(array &$array): bool\npublic sort(array &$array, int $flags = Collator::SORT_REGULAR): bool\n\n   }\n```\n\n## Обумовлені константи\n\n**`Collator::FRENCH_COLLATION`**\n\nСортування рядків із акцентами з кінця рядка. Цей атрибут автоматично проставляється в *On* для французької та деяких інших локалей. Зазвичай користувачам не потрібно спеціально задавати цей параметр. Є деяка просадка продуктивності, якщо цей параметр встановлений як *On*але ніяк не впливає на довжину ключа сортування. Можливі значення:\n\n-   **`Collator::ON`**\n-   **`Collator::OFF`**(за замовчуванням)\n-   **`Collator::DEFAULT_VALUE`**\n\n**Приклад #1 Правила FRENCH\\_COLLATION**\n\n-   F=OFF cote < coté < côte < côté\n-   F=ON cote < côte < coté < côté\n\n**`Collator::ALTERNATE_HANDLING`**\n\nАтрибут \"Alternate\" використовується для контролю обробки так званих \"змінних символів\" в UCA: пробілові символи, знаки пунктуації та символи. Якщо \"Alternate\" встановлено як *NonIgnorable* (N), то відмінності у цих символах будуть вважатися такими ж значущими, як і різницю між літерами. Якщо \"Alternate\" встановлено як *Shifted* (S), ці символи будуть мати низьку значимість. Значення *Shifted* найчастіше використовується в комбінації з *Strength* встановленим у \"Quaternary\". У таких випадках подібні символи будуть враховуватися при сортуванні, але тільки якщо всі інші аспекти рядків (літери, акценти, реєстр) ідентичні. Якщо \"Alternate\" не встановлено як \"Shifted\", то різниці між \"Strength\" рівним 3 та 4 не буде. Докладніше та з прикладами читайте у розділі \"Variable\\_Weighting\" на сайті [» UCA](https://www.unicode.org/reports/tr10/). . Причина, через яку значення для \"Alternate\" не використовуються просто *On*в*Off* у цьому, що у майбутньому можуть бути додані додаткові варіанти. Опція UCA \"Blanked\" виражається за допомогою \"Strength\" встановленого в \"Alternate\" встановленого в \"Shifted\". Для більшості локалей цей параметр за промовчанням дорівнює \"NonIgnorable\". Якщо задано \"Shifted\", то обробка може бути повільніша у випадку якщо у вас багато рядків, що відрізняються лише пунктуацією. Довжина ключа сортування не торкається тільки якщо також не збільшувався рівень \"Strength\".\n\nМожливі значення:\n\n-   **`Collator::NON_IGNORABLE`**(за замовчуванням)\n-   **`Collator::SHIFTED`**\n-   **`Collator::DEFAULT_VALUE`**\n\n**Приклад #2 ALTERNATE\\_HANDLING rules**\n\n-   S=3, A=N di Silva < Di Silva < diSilva < U.S.A. < USA\n-   S=3, A=S di Silva = diSilva < Di Silva < U.S.A. = USA\n-   S=4, A=S di Silva < diSilva < Di Silva < U.S.A. < USA\n\n**`Collator::CASE_FIRST`**\n\nАтрибут \"Case\\_First\" використовується для визначення порядку сортування залежно від регістру символів за відсутності інших відмінностей у рядках. Можливі значення: *Uppercase\\_First*(U),*Lowercase\\_First*(L),*Default*и*Off*. . Між \"Off\" та \"Lowercase\\_First\" практично немає різниці, так що користувачі зазвичай не використовують \"Lowercase\\_First\", а тільки Off або Uppercase\\_Перший. (Ті, кому дійсно цікава різниця між X та L можуть звернутися до `Налаштування Collation`). Завдання L чи U не позначається швидкості порівняння, але впливає довжину ключа сортування.\n\nМожливі значення:\n\n-   **`Collator::OFF`**(за замовчуванням)\n-   **`Collator::LOWER_FIRST`**\n-   **`Collator::UPPER_FIRST`**\n-   **`Collator:DEFAULT`**\n\n**Приклад #3 Правила CASE\\_FIRST**\n\n-   C=X or C=L \"china\" < \"China\" < \"denmark\" < \"Denmark\"\n-   C=U \"China\" < \"china\" < \"Denmark\" < \"denmark\"\n\n**`Collator::CASE_LEVEL`**\n\nАтрибут \"Case\\_Level\" використовується, коли акценти не важливі, а реєстр важливий. У таких випадках встановіть \"Strength\" у значення *Primary*, та \"Case\\_Level\" в *On*. . У більшості локалів за замовчуванням встановлено значення \"Off\". Має незначний вплив на швидкість порівняння та довжину ключа сортування якщо встановлено як *On*\n\nМожливі значення:\n\n-   **`Collator::OFF`**(за замовчуванням)\n-   **`Collator::ON`**\n-   **`Collator::DEFAULT_VALUE`**\n\n**Приклад #4 CASE\\_LEVEL rules**\n\n-   S=1, E=X role = Role = rôle\n-   S=1, E=O role = rôle < Role\n\n**`Collator::NORMALIZATION_MODE`**\n\nНалаштування \"Normalization\" визначає, чи буде ретельно нормалізований текст у порівнянні чи ні. Навіть якщо це налаштування вимкнено (за замовчуванням для багатьох локалей), текст у загальному випадку буде порівнюватися коректно (подробиці UTN #5). Проблеми можуть бути лише з відмітками акцентів, розташованими в неканонічному порядку. Якщо встановлено як *On*, то буде гарантовано найкращий результат всім можливих варіантів тексту. Однак, якщо встановлено як *On* - це позначиться швидкості порівняння, залежно від кількості послідовностей, який необхідно нормалізувати. Будь-якого помітного впливу на довжину ключа сортування не буде. Якщо заздалегідь відомо, що текст вже нормалізовано як NFD або NFKD, необхідності використання цього параметра немає.\n\nМожливі значення:\n\n-   **`Collator::OFF`**(за замовчуванням)\n-   **`Collator::ON`**\n-   **`Collator::DEFAULT_VALUE`**\n\n**`Collator::STRENGTH`**\n\nICU Collation Service підтримує безліч рівнів порівняння (вони називаються \"Levels\", але також відомі як \"Strengths\"). Використання цих налаштувань дозволяє ICU сортувати рядки точно відповідно до правил локалі. Однак, дозволяючи вибіркове використання цих рівнів, пошук рядка в тексті можна проводити за допомогою різних умов. Більше інформації описано у розділі присвяченій [collator\\_set\\_strength()](collator.setstrength.md)\n\nМожливі значення:\n\n-   **`Collator::PRIMARY`**\n-   **`Collator::SECONDARY`**\n-   **`Collator::TERTIARY`**(за замовчуванням)\n-   **`Collator::QUATERNARY`**\n-   **`Collator::IDENTICAL`**\n-   **`Collator::DEFAULT_VALUE`**\n\n**`Collator::HIRAGANA_QUATERNARY_MODE`**\n\nСумісність з JIS x 4061 вимагає введення додаткового рівня виділення символів Hiragana і Katakana. Якщо потрібна сумісність зі стандартом, цей атрибут необхідно задати як *On*, а \"Strength\" як \"Quaternary\". Це позначиться на довжині ключа сортування та швидкості порівняння.\n\nМожливі значення:\n\n-   **`Collator::OFF`**(за замовчуванням)\n-   **`Collator::ON`**\n-   **`Collator::DEFAULT_VALUE`**\n\n**`Collator::NUMERIC_COLLATION`**\n\nЯкщо включений, цей атрибут генерує ключ порівняння для числового значення підрядка цифр, що складається. Це дозволяє при сортуванні поміщати '100' після '2'.\n\nМожливі значення:\n\n-   **`Collator::OFF`**(за замовчуванням)\n-   **`Collator::ON`**\n-   **`Collator::DEFAULT_VALUE`**\n\n**`Collator::DEFAULT_VALUE`**\n\n**`Collator::PRIMARY`**\n\n**`Collator::SECONDARY`**\n\n**`Collator::TERTIARY`**\n\n**`Collator::DEFAULT_STRENGTH`**\n\n**`Collator::QUATERNARY`**\n\n**`Collator::IDENTICAL`**\n\n**`Collator::OFF`**\n\n**`Collator::ON`**\n\n**`Collator::SHIFTED`**\n\n**`Collator::NON_IGNORABLE`**\n\n**`Collator::LOWER_FIRST`**\n\n**`Collator::UPPER_FIRST`**\n\n**`Collator::SORT_REGULAR`**\n\n**`Collator::SORT_STRING`**\n\n**`Collator::SORT_NUMERIC`**\n\n## Зміст\n\n-   [Collator::asort](collator.asort.md)— Сортує масив із збереженням асоціації індексу\n-   [Collator::compare](collator.compare.md)— Порівнює два рядки Unicode\n-   [Collator::\\_\\_construct](collator.construct.md) \\- Створює новий екземпляр Collator\n-   [Collator::create](collator.create.md) \\- Створює новий екземпляр Collator\n-   [Collator::getAttribute](collator.getattribute.md)— Отримує значення атрибуту зіставлення\n-   [Collator::getErrorCode](collator.geterrorcode.md)— Отримує останній код помилки Collator\n-   [Collator::getErrorMessage](collator.geterrormessage.md)— Отримує текст для останньої помилки коду Collator\n-   [Collator::getLocale](collator.getlocale.md) \\- Отримує назву локалі для Collator\n-   [Collator::getSortKey](collator.getsortkey.md)— Отримує ключ сортування рядка\n-   [Collator::getStrength](collator.getstrength.md)— Отримує поточну силу зіставлення\n-   [Collator::setAttribute](collator.setattribute.md) \\- Встановлює атрибут зіставлення\n-   [Collator::setStrength](collator.setstrength.md) \\- Встановлює силу зіставлення\n-   [Collator::sortWithSortKeys](collator.sortwithsortkeys.md)— Сортує масив із використанням зазначеного Collator та ключів сортування\n-   [Collator::sort](collator.sort.md)— Сортує масив із використанням зазначеного засобу сортування\n","title":"Клас Collator","contentType":2,"navigation":[{"intl.examples.basic.md":"« Основи використання модуля"},{"collator.asort.md":"Collator::asort »"},{"index.md":"PHP Manual"},{"book.intl.md":"intl"}]}},"__N_SSG":true}