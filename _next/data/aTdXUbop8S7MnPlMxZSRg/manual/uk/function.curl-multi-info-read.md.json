{"pageProps":{"page":{"slug":"function.curl-multi-info-read.md","content":"# curl\\_multi\\_info\\_read\n\n(PHP 5, PHP 7, PHP 8)\n\ncurl\\_multi\\_info\\_read — Повертає інформацію про поточні операції\n\n### Опис\n\n```methodsynopsis\ncurl_multi_info_read(CurlMultiHandle $multi_handle, int &$queued_messages = null): array|false\n```\n\nЗапитує набір дескрипторів про наявність повідомлень або інформації від індивідуальних передач. Повідомлення можуть містити таку інформацію як код помилки передачі або просто факт завершення передачі.\n\nВиклики цієї функції, що повторюються, щоразу повертатимуть новий результат, доки не буде повернено **`false`** як сигнал закінчення повідомлень. Ціле число, що міститься в `queued_messages`, вказує кількість повідомлень, що залишилися після виклику цієї функції.\n\n**Увага**\n\nДані, на які вказує ресурс, що повертається, будуть затерті викликом [curl\\_multi\\_remove\\_handle()](function.curl-multi-remove-handle.md)\n\n### Список параметрів\n\n`multi_handle`\n\nМультидескриптор cURL, отриманий з [curl\\_multi\\_init()](function.curl-multi-init.md)\n\n`queued_messages`\n\nКількість повідомлень, що залишилися в черзі\n\n### Значення, що повертаються\n\nУ разі успішного виконання повертає асоціативний масив повідомлень або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n**Вміст масиву, що повертається**\n\n| Ключ: | Значение: |\n| --- | --- |\n| `msg` | Константа\\*\\*`CURLMSG_DONE`\\*\\*. . Інші значення, що повертаються, поки недоступні. |\n| `result` | Одна из констант\\*\\*`CURLE_*`\\*\\*. . Якщо все добре, результатом буде константа **`CURLE_OK`** |\n| `handle` | Ресурс типу curl, що вказує на дескриптор, до якого належить. |\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.0.0 | `multi_handle` тепер чекає екземпляр; раніше, очікувався ресурс (resource). |\n\n### Приклади\n\n**Приклад #1 Приклад використання** curl\\_multi\\_info\\_read()\\*\\*\\*\\*\n\n```php\n<?php\n\n$urls = array(\n   \"http://www.cnn.com/\",\n   \"http://www.bbc.co.uk/\",\n   \"http://www.yahoo.com/\"\n);\n\n$mh = curl_multi_init();\n\nforeach ($urls as $i => $url) {\n    $conn[$i] = curl_init($url);\n    curl_setopt($conn[$i], CURLOPT_RETURNTRANSFER, 1);\n    curl_multi_add_handle($mh, $conn[$i]);\n}\n\ndo {\n    $status = curl_multi_exec($mh, $active);\n    if ($active) {\n        curl_multi_select($mh);\n    }\n    while (false !== ($info = curl_multi_info_read($mh))) {\n        var_dump($info);\n    }\n} while ($active && $status == CURLM_OK);\n\nforeach ($urls as $i => $url) {\n    $res[$i] = curl_multi_getcontent($conn[$i]);\n    curl_close($conn[$i]);\n}\n\nvar_dump(curl_multi_info_read($mh));\n\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\narray(3) {\n  [\"msg\"]=>\n  int(1)\n  [\"result\"]=>\n  int(0)\n  [\"handle\"]=>\n  resource(5) of type (curl)\n}\narray(3) {\n  [\"msg\"]=>\n  int(1)\n  [\"result\"]=>\n  int(0)\n  [\"handle\"]=>\n  resource(7) of type (curl)\n}\narray(3) {\n  [\"msg\"]=>\n  int(1)\n  [\"result\"]=>\n  int(0)\n  [\"handle\"]=>\n  resource(6) of type (curl)\n}\nbool(false)\n```\n\n### Дивіться також\n\n-   [curl\\_multi\\_init()](function.curl-multi-init.md) \\- Створює набір cURL-дескрипторів\n","title":"curl\\_multi\\_info\\_read","contentType":2,"navigation":[{"function.curl-multi-getcontent.md":"« curl\\_multi\\_getcontent"},{"function.curl-multi-init.md":"curl\\_multi\\_init »"},{"index.md":"PHP Manual"},{"ref.curl.md":"Опції cURL"}]}},"__N_SSG":true}