{"pageProps":{"page":{"slug":"function.openssl-open.md","content":"# openssl\\_open\n\n(PHP 4 >= 4.0.4, PHP 5, PHP 7, PHP 8)\n\nopenssl\\_open — Відкрити запечатані дані\n\n### Опис\n\n```methodsynopsis\nopenssl_open(    string $data,    string &$output,    string $encrypted_key,    OpenSSLAsymmetricKey|OpenSSLCertificate|array|string $private_key,    string $cipher_algo,    ?string $iv = null): bool\n```\n\n**openssl\\_open()** відкриває (дешифрує) `data`, використовуючи секретний ключ, пов'язаний з ідентифікатором `private_key` і ключ обгортки `encrypted_key`, і заповнює `output` розшифрованими даними. Ключ обгортки створюється під час запечатування даних і може використовуватися тільки з одним секретним ключем. Докладніше можна прочитати на сторінці опису функції [openssl\\_seal()](function.openssl-seal.md)\n\n### Список параметрів\n\n`data`\n\n`output`\n\nПри вдалому завершенні змінна передана в цьому параметрі міститиме відкриті дані.\n\n`encrypted_key`\n\n`private_key`\n\n`cipher_algo`\n\nМетод шифрування.\n\n**Застереження**\n\nЗначення за замовчуванням (`'RC4'`) вважається небезпечним. Настійно рекомендується вказувати метод безпечного шифрування.\n\n`iv`\n\nІніціалізуючий вектор.\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.0.0 | `private_key` тепер приймає екземпляр [OpenSSLAsymmetricKey](class.opensslasymmetrickey.md) або [OpenSSLCertificate](class.opensslcertificate.md); раніше приймався ресурс ([resource](language.types.resource.md)) типу`OpenSSL key`или`OpenSSL X.509 CSR` |\n| 8.0.0 | `cipher_algo` більше не є необов'язковим параметром. |\n\n### Приклади\n\n**Приклад #1 Приклад використання** openssl\\_open()\\*\\*\\*\\*\n\n```php\n<?php\n// Предположим, что $sealed и $env_key содержат закрытые данные и\n// ключ обёртки соответственно\n\n// Извлекаем секретный ключ из файла\n$fp = fopen(\"/src/openssl-0.9.6/demos/sign/key.pem\", \"r\");\n$priv_key = fread($fp, 8192);\nfclose($fp);\n$pkeyid = openssl_get_privatekey($priv_key);\n\n// расшмфровываем данные и складываем их в $open\nif (openssl_open($sealed, $open, $env_key, $pkeyid)) {\n    echo \"Расшифрованные данные: \", $open;\n} else {\n    echo \"Что-то пошло не так :(\";\n}\n\n// Высвобождаем ресурс приватнного ключа\nopenssl_free_key($pkeyid);\n?>\n```\n\n### Дивіться також\n\n-   [openssl\\_seal()](function.openssl-seal.md) \\- Запечатати (зашифрувати) дані\n","title":"openssl\\_open","contentType":2,"navigation":[{"function.openssl-get-publickey.md":"« openssl\\_get\\_publickey"},{"function.openssl-pbkdf2.md":"openssl\\_pbkdf2 »"},{"index.md":"PHP Manual"},{"ref.openssl.md":"Функції OpenSSL"}]}},"__N_SSG":true}