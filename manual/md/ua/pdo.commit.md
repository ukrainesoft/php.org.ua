- [« PDO::beginTransaction](pdo.begintransaction.md)
- [PDO::\_\_construct »](pdo.construct.md)

- [PHP Manual](index.md)
- [PDO](class.pdo.md)
- Фіксує транзакцію

# PDO::commit

(PHP 5 u003d 5.1.0, PHP 7, PHP 8, PECL pdo u003d 0.1.0)

PDO::commit — Фіксує транзакцію

### Опис

public **PDO::commit**(): bool

Фіксує транзакцію, повертаючи з'єднання з базою даних режимом
автоматичної фіксації доти, доки наступний виклик
[PDO::beginTransaction()](pdo.begintransaction.md) не почне нову
транзакцію.

### Список параметрів

Ця функція не має параметрів.

### Значення, що повертаються

Повертає **`true`** у разі успішного виконання або **`false`** у
у разі виникнення помилки.

### Помилки

Викликає виняток [PDOException](class.pdoexception.md), якщо ні
активної транзакції.

> **Примітка**: Виняток буде викликано, навіть якщо атрибут
> **`PDO::ATTR_ERRMODE`** не виставлений у **`PDO::ERRMODE_EXCEPTION`**.

### Приклади

**Приклад #1 Фіксація звичайної транзакції**

`<?php/* Початок транзакції, відключення автоматичної фіксації */$dbh->beginTransaction();/* Вставка множини записів по принципу "все або нічого" */$sql u003d        VALUES (?, ?, ?)';$sth u003d $dbh->prepare($sql);foreach ($fruits as $fruit) {   $sth->execute(array(      | colour,        $fruit->calories,    ));;

**Приклад #2 Фіксація DDL-транзакції**

` <?php/* Початок транзакції, відключення автоматичної фіксації */$dbh->beginTransaction();/* Зміна схеми бази даних */$sth u003d $dbh->exec("DROP TABLE| */$dbh->commit();/* З'єднання з базою даних знов в режимі автоматичної фіксації */?> `

> **Примітка**: Не всі бази даних дозволяють транзакціям працювати з
> DDL-виразами: у деяких генеруються помилки, тоді як у інших
> (включно з MySQL) транзакція автоматично фіксується після першого
> DDL-вираження, що зустрівся.

### Дивіться також

- [PDO::beginTransaction()](pdo.begintransaction.md) - Ініціалізація
транзакції
- [PDO::rollBack()](pdo.rollback.md) - Відкат транзакції
- [Транзакції та автоматична фіксація](pdo.transactions.md)
