{"pageProps":{"page":{"slug":"mysqlnd.plugin.md","content":"# API для плагінів до вбудованого драйвера MySQL\n\n## Зміст\n\n-   [Порівняння плагінів mysqlnd з MySQL Proxy](mysqlnd.plugin.mysql-proxy.md)\n-   [Отримання API плагінів mysqlnd](mysqlnd.plugin.obtaining.md)\n-   [Архитектура плагинов MySQL Native Driver](mysqlnd.plugin.architecture.md)\n-   [API плагінів mysqlnd](mysqlnd.plugin.api.md)\n-   [Розпочинаємо розробку плагіна mysqlnd](mysqlnd.plugin.developing.md)\n\nAPI для плагінів до вбудованого драйвера MySQL є особливістю вбудованого драйвера MySQL (`mysqlnd`). Плагіни `mysqlnd` працюють на рівні між PHP-додатками та сервером MySQL. Це схоже на роботу MySQL Proxy. Плагіни `mysqlnd` можуть реалізовувати стандартні завдання MySQL Proxy, такі як балансування навантаження, моніторинг та оптимізація швидкодії. При цьому, внаслідок іншої архітектури та місця розташування, плагіни `mysqlnd` немає деяких недоліків MySQL Proxy. Наприклад, немає єдиної точки відмови, не потрібно встановлення окремого proxy-сервера і немає потреби у вивченні нової мови програмування Lua.\n\nПлагин`mysqlnd` можна розглядати як модуль `mysqlnd`. Плагіни можуть перехоплювати більшу частину функцій `mysqlnd`. Ці функції викликаються модулями PHP, такими як `ext/mysql` `ext/mysqli`и`PDO_MYSQL`. Зрештою, плагіни `mysqlnd` можуть перехоплювати всі запити, зроблені цими модулями клієнтської програми.\n\nВнутрішні дзвінки функцій `mysqlnd` також можуть бути перехоплені чи замінені. Обмеження щодо роботи з внутрішньою таблицею функцій `mysqlnd` відсутні. Можна налаштувати все таким чином, що під час виклику певних функцій `mysqlnd` з модулів, які використовують `mysqlnd`, цей виклик перенаправлятиметься у відповідну функцію плагіна `mysqlnd`. Можливість маніпулювати внутрішньою таблицею функцій `mysqlnd` дає плагінам максимум гнучкості.\n\nПлагіни `mysqlnd` фактично є модулями PHP, написаними на C і використовують API для плагінів `mysqlnd` (вбудований у драйвер `mysqlnd`). Плагіни можуть бути повністю прозорими для програм PHP. Змінювати програму не потрібно, оскільки плагіни працюють на іншому рівні. Плагіни `mysqlnd` можна розглядати як працюючі на рівень нижче `mysqlnd`\n\nНижченаведений список показує кілька можливих варіантів плагінів `mysqlnd`\n\n-   Балансування навантаження\n    \n    -   Поділ читання та запису. Прикладом є модуль PECL/mysqlnd\\_ms (Master Slave). Модель розділяє запити на читання та запис для налаштування реплікації.\n        \n    -   Відмовостійкість\n        \n    -   Рівномірне завантаження, запити на найменш завантажений сервер\n        \n-   Моніторинг\n    \n    -   Логування запитів\n        \n    -   Аналіз запитів\n        \n    -   Аудит запитів. Прикладом є модуль PECL/mysqlnd\\_sip (SQL Injection Protection, захист від ін'єкцій SQL). Модель аналізує запити та виконує лише відповідні під набір правил.\n        \n-   Продуктивність.\n    \n    -   кешування. Прикладом є модуль PECL/mysqlnd\\_qc (Query Cache, кешування запитів).\n        \n    -   Обмеження ресурсів, що виділяються запитом\n        \n    -   Шардінг. Прикладом є модуль PECL/mysqlnd\\_mc (Multi Connect). Модель намагається розбити запит SELECT на n частин, використовуючи SELECT ... LIMIT part\\_1, SELECT LIMIT part\\_n. Він надсилає запити на окремі MySQL-сервера та збирає результат на клієнта.\n        \n\n**Доступні плагіни до вбудованого драйвера MySQL**\n\nІснує кілька вже доступних плагінів mysqlnd. Список включає:\n\n-   **PECL/mysqlnd\\_mc**\\- Multi Connect plugin.\n    \n-   **PECL/mysqlnd\\_ms**\\- Master Slave plugin.\n    \n-   **PECL/mysqlnd\\_qc**\\- Query Cache (Кешування запитів) plugin.\n    \n-   **PECL/mysqlnd\\_pscache**\\- Prepared Statement Handle Cache plugin (обробка кешування підготовлених запитів)\n    \n-   **PECL/mysqlnd\\_sip**\\- SQL Injection Protection plugin (захист від SQL-ін'єкцій)\n    \n-   **PECL/mysqlnd\\_uh**\\- User Handler plugin (обробка користувачів)\n","title":"API для плагінів до вбудованого драйвера MySQL","contentType":2,"navigation":[{"mysqlnd.memory.md":"« Управління пам'яттю"},{"mysqlnd.plugin.mysql-proxy.md":"Порівняння плагінів mysqlnd з MySQL Proxy »"},{"index.md":"PHP Manual"},{"book.mysqlnd.md":"Mysqlnd"}]}},"__N_SSG":true}