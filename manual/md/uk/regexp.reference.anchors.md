- [«Властивості Unicode-символів](regexp.reference.unicode.md)
- [Метасимвол точка »](regexp.reference.dot.md)

- [PHP Manual](index.md)
- [Опис синтаксису Perl-сумісних регулярних
виразів](reference.pcre.pattern.syntax.md)
- Якоря

## Якоря

За умовчанням, поза символьним класом метасимвол початку рядка (`^`)
відповідає початку оброблюваних даних (якщо не використовуються
модифікатори). Усередині символьного класу він (`^`) має зовсім
інше значення.

Метасимвол початку рядка (`^`) не повинен бути першим символом шаблону
у випадку, якщо в шаблоні використовуються кілька альтернатив, але повинен
бути першим символом у кожній з альтернатив, у якій він зустрічається,
якщо шаблон коли-небудь можна порівняти з відповідною гілкою. Якщо все
альтернативи починаються з метасимволу початку рядка (`^`), то шаблон
обмежений для збігу виключно на початку рядка, кажуть що
шаблон "заякорений". (Існують і інші способи "заякорити" шаблон).

Відповідність метасимволу кінця рядка (знак долара, `$`) досягається
тільки в кінці рядка або безпосередньо перед останнім символом
у випадку, якщо ним є переклад рядка (якщо модифікатори не вказані).
Метасимвол кінця рядка (`$`) не повинен бути останнім символом шаблону
у випадку, якщо використовується кілька альтернатив, але має бути
останнім символом у кожній альтернативі, у якій він фігурує.
Усередині символьного класу символ '$' немає спеціального значення.

Поведінка метасимволу кінця рядка може бути змінена за допомогою
модифікатора
[PCRE_DOLLAR_ENDONLY](reference.pcre.pattern.modifiers.md) так, щоб
він відповідав виключно кінцю рядка. Цей прапор не
стосується спеціальної послідовності Z.

Значення метасимволів початку та кінця рядка змінюється у разі, якщо
використовується модифікатор
[PCRE_MULTILINE](reference.pcre.pattern.modifiers.md). В такому випадку,
крім збігів на початку або в кінці рядка, метасимволи '^' і '$'
відповідають позиції безпосередньо після символу перекладу рядка
"
". Наприклад, шаблон /^abc$/ зустрічається в рядку "def
abc" в
багаторядковому режимі і не зустрічається у нормальному режимі. Таким
чином, шаблон який "заякорений" в однорядковому режимі, всі гілки
якого, починаються з "^", не буде "заякореним" в
багаторядковому режимі. Модифікатор
[PCRE_DOLLAR_ENDONLY](reference.pcre.pattern.modifiers.md)
ігнорується у випадку, якщо модифікатор встановлено
[PCRE_MULTILINE](reference.pcre.pattern.modifiers.md).

Слід зазначити, що службові послідовності \A, \Z та \z можуть
використовуватися для порівняння з початком або кінцем рядка в обох
режими. І якщо всі гілки шаблону починаються з \A, шаблон буде
"заякорений" незалежно від присутності модифікатора
[PCRE_MULTILINE](reference.pcre.pattern.modifiers.md).
