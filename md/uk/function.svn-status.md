- [« svn_revert](function.svn-revert.md)
- [svn_update »](function.svn-update.md)

- [PHP Manual](index.md)
- [Функції SVN](ref.svn.md)
- Повертає SVN-статус файлів та директорій робочої копії

# svn_status

(PECL svn \>u003d 0.1.0)

svn_status — Повертає SVN-статус файлів та директорій робочої копії

### Опис

**svn_status**(string `$path`, int `$flags` u003d 0): array

Повертає SVN статус файлів та директорій робочої копії, що зазнали
модифікації, додавання, видалення та інших змін.

### Список параметрів

`path`
Локальний шлях до файлу або директорії для отримання статусу.

> **Примітка**: Відносні шляхи будуть обчислені, наче поточна
> робоча директорія була домашньою папкою самого PHP. Щоб
> використовувати робочу директорію скрипта, що викликає, використовуйте
> [realpath()](function.realpath.md) або dirname(\_\_FILE\_\_).

`flags`
Будь-яка комбінація прапорів **`Svn::NON_RECURSIVE`**, **`Svn::ALL`** (поза
залежно від статусу модифікації), **`Svn::SHOW_UPDATES`** (до записів
будуть додані пункти зі старими правками), **`Svn::NO_IGNORE`**
(ігнорування `svn:ignore` властивостей при скануванні нових файлів) та
**`Svn::IGNORE_EXTERNALS`**.

### Значення, що повертаються

Повертає пронумерований масив, що складається з асоціативних масивів
докладними статусами елементів у репозиторії:

``` returnvaluescode
Array (
[0] u003d> Array (
// інформація про елемент
)
[1] u003d> ...
)
````

Інформація про елемент може бути отримана з асоціативного масиву
двом ключам:

`path`
Шлях до файлу/директорії у локальній файловій системі.

`text_status`
Код текстового статусу елемент. Дивіться Для інформації про можливі
значеннях, зверніться до [константів
статусів](svn.constants.md#svn.constants.status).

`repos_text_status`
Код текстового статусу елемента у репозиторії. Відображається якщо
`update` встановлений у **`true`**. Дивіться Для інформації про можливі
значеннях, зверніться до [константів
статусів](svn.constants.md#svn.constants.status).

`prop_status`
Код текстового статусу властивостей елемента. Дивіться Для інформації про
можливих значеннях, зверніться до [константів
статусів](svn.constants.md#svn.constants.status).

`repos_prop_status`
Код текстового статусу властивостей елемента у репозиторії. Відображається якщо
`update` встановлений у **`true`**. Дивіться Для інформації про можливі
значеннях, зверніться до [константів
статусів](svn.constants.md#svn.constants.status).

`locked`
Чи буде заблоковано елемент чи ні. (Встановлюється при **`true`**.)

`copied`
Чи буде скопійовано елемент (заплановано для додавання в історії
правок). (Встановлюється при **`true`**.)

`switched`
Чи буде елемент перемикання використовуючи команду перемикання.
(Встановлюється при **`true`**)

Наступні ключі встановлюються тільки якщо елемент має версію:

`name`
Ім'я елемента у репозиторії.

`url`
URL-адреса елемента у репозиторії.

`repos`
URL-адреса репозиторію.

`revision`
Номер ревізії робочої копії.

`kind`
Тип елемента, тобто. файл або директорія. Дивіться Для інформації про
можливих значеннях, зверніться до [константів
типів](svn.constants.md#svn.constants.type).

`schedule`
Заплановане дії елемента, тобто. додавання чи видалення.
Константи для цих магічних чисел не доступні, вони емулюються,
згідно з правилом:

` <?phpif (!defined('svn_wc_schedule_normal')) {    define('svn_wc_schedule_normal', 0); // ніяких змін     define('svn_wc_schedule_add',    1); // елемент буде доданий   define('svn_wc_schedule_delete', 2); // елемент буде віддалений   define('svn_wc_schedule_replace', 3); // елемент буде віддалений і доданий}?> `

`deleted`
Буде чи ні елемент буде видалений, але ревізія батька не збільшиться
(Встановлено за **`true`**.)

`absent`
Буде чи ні елемент позначений відсутнім. Subversion пам'ятатиме,
що в цьому місці щось розташоване, але не знатиме що саме.
(Встановлюється при **`true`**.)

`incomplete`
Чи буде вміст директорії вважатися неповним. (Встановлюється
при **`true`**.)

`cmt_date`
Позначка часу у форматі Unix про дату останньої редагування (Не залежить від
`update`.)

`cmt_rev`
Номер ревізії останнього поновлення. (Не залежить від `update`.)

`cmt_author`
Ім'я автора останньої редагування. (Не залежить від `update`.)

`prop_time`
Позначка часу у форматі Unix про останню актуальну версію властивостей.

`text_time`
Позначка часу у форматі Unix про останню актуальну версію тексту.

### Приклади

**Приклад #1 Простий приклад**

Наведений нижче приклад ілюструє базове, теоретичне.
використання цієї функції

` <?phpprint_r(svn_status(realpath('wc'))));?> `

Результатом виконання цього прикладу буде щось подібне:

Array (
[0] u003d> Array (
[path] u003d> /home/bob/wc/sandwich.txt
[text_status] u003d> 8 // елемент змінено
[repos_text_status] u003d> 1 // немає доступної інформації, виконати update
[prop_status] u003d> 3 // немає змін
[repos_prop_status] u003d> 1 // немає доступної інформації, виконати update
[name] u003d> sandwich.txt
[url] u003d> http://www.example.com/svnroot/deli/trunk/sandwich.txt
[repos] u003d> http://www.example.com/svnroot/
[revision] u003d> 123
[kind] u003d> 1 // file
[schedule] u003d> 0 // не заплановано жодних дій
[cmt_date] u003d> 1165543135
[cmt_rev] u003d> 120
[cmt_author] u003d> Alice
[prop_time] u003d> 1180201728
[text_time] u003d> 1180201729
)
)

### Примітки

**Увага**

Ця функція є ЕКСПЕРИМЕНТАЛЬНОЮ. Поведінка цієї функції, її ім'я
і документація, що відноситься до неї, можуть змінитися в наступних версіях
PHP без попередження. Використовуйте цю функцію на свій страх та ризик.

### Дивіться також

- [svn_update()](function.svn-update.md) - Оновлює робочу копію
- [svn_log()](function.svn-log.md) - Повертає коментарі до
правкам у репозиторії
- [» SVN-документація з svn
status](http://svnbook.red-bean.com/en/1.2/svn.ref.svn.c.status.md)
