{"pageProps":{"page":{"slug":"pool.construct.md","content":"# Pool::\\_\\_construct\n\n(PECL pthreads >= 2.0.0)\n\nPool::\\_\\_construct - Створює новий пул воркерів\n\n### Опис\n\npublic **Pool::\\_\\_construct**(int`$size`, string`$class`\\= ?, array`$ctor`\n\nСтворює новий пул робітників. Пули ліниво створюють свої потоки, що означає, що нові потоки будуть створюватися тільки тоді, коли вони необхідні виконання завдань.\n\n### Список параметрів\n\n`size`\n\nМаксимальна кількість воркерів, яка може створити цей пул\n\n`class`\n\nКлас для нових воркерів. Якщо клас не вказано, то за умовчанням використовується клас [Worker](class.worker.md)\n\n`ctor`\n\nМасив аргументів передачі конструкторам нових воркерам.\n\n### Приклади\n\n**Приклад #1 Створення пулів**\n\n```php\n<?php\nclass MyWorker extends Worker {\n\n    public function __construct(Something $something) {\n        $this->something = $something;\n    }\n\n    public function run() {\n        /** ... **/\n    }\n}\n\n$pool = new Pool(8, \\MyWorker::class, [new Something()]);\n\nvar_dump($pool);\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nobject(Pool)#1 (6) {\n  [\"size\":protected]=>\n  int(8)\n  [\"class\":protected]=>\n  string(8) \"MyWorker\"\n  [\"workers\":protected]=>\n  NULL\n  [\"work\":protected]=>\n  NULL\n  [\"ctor\":protected]=>\n  array(1) {\n    [0]=>\n    object(Something)#2 (0) {\n    }\n  }\n  [\"last\":protected]=>\n  int(0)\n}\n```\n","title":"Pool::\\_\\_construct","contentType":2,"navigation":[{"pool.collect.md":"« Pool::collect"},{"pool.resize.md":"Pool::resize »"},{"index.md":"PHP Manual"},{"class.pool.md":"Pool"}]}},"__N_SSG":true}