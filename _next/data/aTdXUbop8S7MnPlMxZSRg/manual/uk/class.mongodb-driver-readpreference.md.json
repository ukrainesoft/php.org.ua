{"pageProps":{"page":{"slug":"class.mongodb-driver-readpreference.md","content":"# Клас MongoDB\\\\Driver\\\\ReadPreference\n\n(mongodb >=1.0.0)\n\n## Вступ\n\n## Огляд класів\n\n```classsynopsis\n\n\n    \n    \n     final\n     \n      class MongoDB\\Driver\\ReadPreference\n     \n\n     implements \n       MongoDB\\BSON\\Serializable,  Serializable {\n    \n    /* Константы */\n    \n     const\n     int\n      RP_PRIMARY = 1;\n\n    const\n     int\n      RP_PRIMARY_PREFERRED = 5;\n\n    const\n     int\n      RP_SECONDARY = 2;\n\n    const\n     int\n      RP_SECONDARY_PREFERRED = 6;\n\n    const\n     int\n      RP_NEAREST = 10;\n\n    const\n     string\n      PRIMARY = primary;\n\n    const\n     string\n      PRIMARY_PREFERRED = primaryPreferred;\n\n    const\n     string\n      SECONDARY = secondary;\n\n    const\n     string\n      SECONDARY_PREFERRED = secondaryPreferred;\n\n    const\n     string\n      NEAREST = nearest;\n\n    const\n     int\n      NO_MAX_STALENESS = -1;\n\n    const\n     int\n      SMALLEST_MAX_STALENESS_SECONDS = 90;\n\n\n    /* Методы */\n    \n   final public bsonSerialize(): stdClass\nfinal public __construct(string|int $mode, ?array $tagSets = null, ?array $options = null)\nfinal public getHedge(): ?object\nfinal public getMaxStalenessSeconds(): int\nfinal public getMode(): int\nfinal public getModeString(): string\nfinal public getTagSets(): array\nfinal public serialize(): string\nfinal public unserialize(string $data): void\n\n   }\n```\n\n## Обумовлені константи\n\n**`MongoDB\\Driver\\ReadPreference::RP_PRIMARY`**\n\nУсі операції зчитуються з поточного первинного вузла реплік набору. Це перевага для читання за промовчанням для MongoDB.\n\n**`MongoDB\\Driver\\ReadPreference::RP_PRIMARY_PREFERRED`**\n\nУ більшості ситуація операції зчитуються з первинного вузла, але якщо він недоступний, операції зчитуються з вторинних членів.\n\n**`MongoDB\\Driver\\ReadPreference::RP_SECONDARY`**\n\nУсі операції зчитуються із вторинних членів набору реплік.\n\n**`MongoDB\\Driver\\ReadPreference::RP_SECONDARY_PREFERRED`**\n\nЗдебільшого ситуація операції зчитуються з вторинних вузлів, але якщо вони недоступні, операції зчитуються з первинного вузла.\n\n**`MongoDB\\Driver\\ReadPreference::RP_NEAREST`**\n\nОперації зчитуються з члена набору реплік із найменшою затримкою мережі, незалежно від типу члена.\n\n**`MongoDB\\Driver\\ReadPreference::PRIMARY`**\n\nУсі операції з поточної репліки встановлені первинними. Це перевага для читання за промовчанням для MongoDB.\n\n**`MongoDB\\Driver\\ReadPreference::PRIMARY_PREFERRED`**\n\nНайчастіше операції читаються з первинного вузла, але якщо він недоступний, операції читаються з вторинних вузлів.\n\n**`MongoDB\\Driver\\ReadPreference::SECONDARY`**\n\nУсі операції читаються із вторинних вузлів набору реплік.\n\n**`MongoDB\\Driver\\ReadPreference::SECONDARY_PREFERRED`**\n\nНайчастіше операції читаються з вторинних вузлів, але якщо вони недоступні, операції читаються з первинного.\n\n**`MongoDB\\Driver\\ReadPreference::NEAREST`**\n\nОперації зчитуються з вузла набору реплік із найменшою затримкою в мережі незалежно від типу.\n\n**`MongoDB\\Driver\\ReadPreference::NO_MAX_STALENESS`**\n\nЗначение по умолчанию для параметра`\"maxStalenessSeconds\"` щоб вказати на обмеження на максимальне запізнення (Staleness), що означає, що драйвер не враховуватиме затримку вторинних вузлів при виборі напрямку для операції читання.\n\n**`MongoDB\\Driver\\ReadPreference::SMALLEST_MAX_STALENESS_SECONDS`**\n\nМинимальное значение для параметра`\"maxStalenessSeconds\"` дорівнює 90 секунд. Драйвер оцінює запізнення вторинних вузлів, періодично перевіряючи останню дату запису кожного члена набору реплік. Оскільки ці перевірки нечасті, оцінка запізнення є грубою. Таким чином, драйвер не може забезпечити максимальну величину запізнення менше 90 секунд.\n\n## список змін\n\n| Версия | Опис |\n| --- | --- |\n| PECL mongodb 1.7.0 |  |\n| Додані константи **`MongoDB\\Driver\\ReadPreference::PRIMARY`** **`MongoDB\\Driver\\ReadPreference::PRIMARY_PREFERRED`** **`MongoDB\\Driver\\ReadPreference::SECONDARY`** **`MongoDB\\Driver\\ReadPreference::SECONDARY_PREFERRED`** **`MongoDB\\Driver\\ReadPreference::NEAREST`** |  |\n\nРеалізує [Serializable](class.serializable.md)\n\n| | PECL mongodb 1.2.0 |\n\nДодані константи **`MongoDB\\Driver\\ReadPreference::NO_MAX_STALENESS`** і **`MongoDB\\Driver\\ReadPreference::SMALLEST_MAX_STALENESS_SECONDS`**\n\nРеалізує [MongoDB\\\\BSON\\\\Serializable](class.mongodb-bson-serializable.md)\n\n## Зміст\n\n-   [MongoDB\\\\Driver\\\\ReadPreference::bsonSerialize](mongodb-driver-readpreference.bsonserialize.md)— Повертає об'єкт серіалізації BSON\n-   [MongoDB\\\\Driver\\\\ReadPreference::\\_\\_construct](mongodb-driver-readpreference.construct.md)— Створити новий ReadPreference\n-   [MongoDB\\\\Driver\\\\ReadPreference::getHedge](mongodb-driver-readpreference.gethedge.md) — Повертає опцію \"hedge\" із ReadPreference\n-   [MongoDB\\\\Driver\\\\ReadPreference::getMaxStalenessSeconds](mongodb-driver-readpreference.getmaxstalenessseconds.md) — Повертає параметр \"maxStalenessSeconds\" ReadPreference\n-   [MongoDB\\\\Driver\\\\ReadPreference::getMode](mongodb-driver-readpreference.getmode.md) - Повертає параметр \"mode\" ReadPreference\n-   [MongoDB\\\\Driver\\\\ReadPreference::getModeString](mongodb-driver-readpreference.getmodestring.md) - Повертає опцію \"mode\" об'єкта ReadPreference у вигляді рядка\n-   [MongoDB\\\\Driver\\\\ReadPreference::getTagSets](mongodb-driver-readpreference.gettagsets.md) - Повертає параметр \"tagSets\" ReadPreference\n-   [MongoDB\\\\Driver\\\\ReadPreference::serialize](mongodb-driver-readpreference.serialize.md)— Серіалізація ReadPreference\n-   [MongoDB\\\\Driver\\\\ReadPreference::unserialize](mongodb-driver-readpreference.unserialize.md) \\- Десеріалізація ReadPreference\n","title":"Клас MongoDB\\\\Driver\\\\ReadPreference","contentType":2,"navigation":[{"mongodb-driver-writeconcern.unserialize.md":"« MongoDB\\\\Driver\\\\WriteConcern::unserialize"},{"mongodb-driver-readpreference.bsonserialize.md":"MongoDB\\\\Driver\\\\ReadPreference::bsonSerialize »"},{"index.md":"PHP Manual"},{"book.mongodb.md":"MongoDB\\\\Driver"}]}},"__N_SSG":true}