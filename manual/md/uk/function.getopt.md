- [«getmyuid](function.getmyuid.md)
- [getrusage»] (function.getrusage.md)

- [PHP Manual](index.md)
- [Опції PHP/інформаційні функції](ref.info.md)
- Отримує параметри зі списку аргументів командного рядка

# getopt

(PHP 4 \>u003d 4.3.0, PHP 5, PHP 7, PHP 8)

getopt — Отримує параметри зі списку аргументів командного рядка

### Опис

**getopt**(string `$short_options`, array `$long_options` u003d \[\], int
`&$rest_index` u003d **`null`**): array\|false

Аналізує параметри, передані в скрипт.

### Список параметрів

`short_options`
Кожен символ у цьому рядку буде розглядатися як параметр і
порівнюватися із символами, переданими у скрипт, перед якими буде
стояти дефіс (`-`). Наприклад, рядок параметрів "x" розпізнається, як
параметр `-x`. Допускаються лише символи a-z, A-Z та 0-9.

`long_options`
Масив параметрів. Кожен елемент масиву буде використовуватись як
рядковий параметр і порівнюватися з параметрами, переданими в скрипт,
перед якими стоятиме подвійний дефіс (`--`). Наприклад, елемент
longopts ``opt`` буде розшифровуватися як `--opt`.

`rest_index`
Якщо встановлено параметр `rest_index`, то індекс, на якому зупинився
розбір буде записаний у нього.

Аргумент `short_options` може містити такі елементи:

- Окремі символи (що не мають значень)
- Символи, за якими слідує двокрапка (параметр вимагає значення)
- Символи, за якими слідує дві двокрапки (необов'язкове значення)

Значення параметрів йдуть за рядком параметра (символом). Якщо
потрібно значення, то немає різниці, є між ними пробіл чи ні.

> **Примітка**: Необов'язкові значення не можна відокремлювати від інших
> пробілом `````.

Значення масиву `long_options` можуть містити:

- Рядок (параметр не набуває жодних значень)
- Рядок, за яким слідує двокрапка (параметр вимагає значення)
- Рядок, за яким слідує дві двокрапки (необов'язкове значення)

> **Примітка**:
>
> Формати `short_options` та `long_options` практично збігаються.
> Відмінність у тому, що `long_options` приймає масив
> параметрів (у якому кожен елемент є параметром) в той час,
> як `short_options` приймає рядок (де параметром є кожен
> Символ).

### Значення, що повертаються

Функція поверне масив пар параметрів/аргументів або **`false`** в
у разі виникнення помилки.

> **Примітка**:
>
> Як тільки зустрінеться перший символ, що не є параметром, розбір
> рядки команди буде завершено, а решта рядка буде
> проігноровано.

### Список змін

| Версія | Опис |
|--------|---------------------------------|
| 7.1.0 | Доданий параметр `rest_index`. |

### Приклади

**Приклад #1 Приклад використання **getopt()**: основи**

` <?php// Скрипт example.php$options u003d getopt("f:hp:");var_dump($options);?> `

`` shellcode
shell> php example.php -fvalue -h
````

Результат виконання цього прикладу:

array(2) {
["f"]u003d>
string(5) "value"
["h"]u003d>
bool(false)
}

**Приклад #2 Приклад використання **getopt()**: додавання довгих
опцій**

` <?php// Скрипт example.php$shortopts u003du003d"";$shortopts .u003d "f:"; // Обов'язкове значення$shortopts .u003d "v::"; // Необов'язкове значення$shortopts .u003d "abc"; // Эти параметры не принимают никаких значений$longopts  u003d array(    "required:",     // Обязательное значение    "optional::",    // Необязательное значение    "option",        // Нет значения    "opt",           // Нет значения); $optionsu003du003dgetopt($shortopts,$longopts);var_dump($options);?> `

`` shellcode
shell> php example.php -f "value for f" -v -a --required value --optionalu003d"optional value" --option
````

Результат виконання цього прикладу:

array(6) {
["f"]u003d>
string(11) "value for f"
["v"]u003d>
bool(false)
["a"]u003d>
bool(false)
["required"]u003d>
string(5) "value"
["optional"]u003d>
string(14) "optional value"
["option"]u003d>
bool(false)
}

**Приклад #3 Приклад використання **getopt()**: Передача кількох
параметрів як одного**

` <?php// Скрипт example.php$options u003d getopt("abc");var_dump($options);?> `

`` shellcode
shell> php example.php -aaac
````

Результат виконання цього прикладу:

array(2) {
["a"]u003d>
array(3) {
[0]u003d>
bool(false)
[1]u003d>
bool(false)
[2]u003d>
bool(false)
}
["c"]u003d>
bool(false)
}

**Приклад #4 Приклад **getopt()** з параметром `rest_index`**

` <?php// Скрипт example.php$rest_index u003d null;$opts u003d getopt('a:b:', [], $rest_index);$pos_args u003d array_slice($argv, $rest_index); ); `

`` shellcode
shell> php example.php -a 1 -b 2 - test
````

Результат виконання цього прикладу:

array(1) {
[0]u003d>
string(4) "test"
}

### Дивіться також

- [`$argv`](reserved.variables.argv.md)
