{"pageProps":{"page":{"slug":"ziparchive.getexternalattributesindex.md","content":"# ZipArchive::getExternalAttributesIndex\n\n(PHP 5 >= 5.6.0, PHP 7, PHP 8, PECL zip >= 1.12.4)\n\nZipArchive::getExternalAttributesIndex — Витягує зовнішні атрибути запису за її індексом\n\n### Опис\n\n```methodsynopsis\npublic ZipArchive::getExternalAttributesIndex(    int $index,    int &$opsys,    int &$attr,    int $flags = 0): bool\n```\n\nВитягує зовнішні атрибути запису за її індексом.\n\n### Список параметрів\n\n`index`\n\nІндекс запису.\n\n`opsys`\n\nУ разі успішного виконання сюди записується код операційної системи, заданий однією із констант ZipArchive::OPSYS\\_\n\n`attr`\n\nУ разі успішного виконання записуються сюди зовнішні атрибути. Значення залежить від операційної системи.\n\n`flags`\n\nЯкщо поставлено як **`ZipArchive::FL_UNCHANGED`**, буде повернено оригінальні незмінені атрибути.\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\nУ цьому прикладі метод отримує всі файли з ZIP-архіву test.zip і встановлює їм права Unix, отримані із зовнішніх атрибутів.\n\n**Приклад #1 Витягуємо всі записи з їхніми правами Unix**\n\n```php\n<?php\n$zip = new ZipArchive();\nif ($zip->open('test.zip') === TRUE) {\n    for ($idx=0 ; $s = $zip->statIndex($idx) ; $idx++) {\n        if ($zip->extractTo('.', $s['name'])) {\n            if ($zip->getExternalAttributesIndex($idx, $opsys, $attr)\n                && $opsys==ZipArchive::OPSYS_UNIX) {\n               chmod($s['name'], ($attr >> 16) & 0777);\n            }\n        }\n    }\n    $zip->close();\n    echo \"готово\\n\";\n} else {\n    echo \"ошибка\\n\";\n}\n?>\n```\n","title":"ZipArchive::getExternalAttributesIndex","contentType":2,"navigation":[{"ziparchive.getcommentname.md":"« ZipArchive::getCommentName"},{"ziparchive.getexternalattributesname.md":"ZipArchive::getExternalAttributesName »"},{"index.md":"PHP Manual"},{"class.ziparchive.md":"ZipArchive"}]}},"__N_SSG":true}