- [«imagecolorat](function.imagecolorat.md)
- [imagecolorclosestalpha »](function.imagecolorclosestalpha.md)

- [PHP Manual](index.md)
- [Функції GD та функції для роботи із зображеннями](ref.image.md)
- Отримання індексу кольору найближчого до заданого

#imagecolorclosest

(PHP 4, PHP 5, PHP 7, PHP 8)

imagecolorclosest — Отримання індексу кольору найближчого до заданого

### Опис

**imagecolorclosest**(
[GdImage](class.gdimage.md) `$image`,
int `$red`,
int `$green`,
int `$blue`
): int

Повертає індекс кольору на панелі зображення, "найближчого" до заданого
RGB значення.

"Відстань" між кольорами на панелі розраховується геометрично, як
якби RGB значення були представлені у вигляді точок у тривимірному
просторі.

Якщо зображення було створено з файлу, будуть розпізнані тільки
кольори, що використовуються у зображенні. Кольори, які використовуються тільки в
палітрі, розпізнані не будуть.

### Список параметрів

`image`
Об'єкт [GdImage](class.gdimage.md), який повертається однією з функцій
створення зображень, наприклад, такий як
[imagecreatetruecolor()](function.imagecreatetruecolor.md).

`red`
Значення червоного компонента кольору.

`green`
Значення зеленого компонента кольору.

`blue`
Значення синього компонента кольору.

Параметри кольору можуть бути цілими в діапазоні від 0 до 255,
або шістнадцятковими в діапазоні від 0×00 до 0×FF.

### Значення, що повертаються

Повертає індекс кольору на панелі зображення, найближчого до заданого.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- ---------|
| 8.0.0 | `image` тепер чекає екземпляр [GdImage](class.gdimage.md); раніше очікували ресурс (resource). |

### Приклади

**Приклад #1 Пошук набору кольорів зображення**

` <?php// Створення зображення і перетворення його в палітрове$im u003d imagecreatefrompng('figures/imagecolorclosest.png');imagetruecolortopalette($im, false, 255);// | array(254, 145, 154),    array(153, 145, 188),    array(153, 90, 145),    array(255, 137, 92));// Проход по каждому цвету и поиск ближайшего к нему в палитре .// Повернення номери по порядку, RGB шуканого колірника і знайдене RGB відповідністьforeach($colors as $id u003d> $rgb){    $result u003d $col| 2]); $resultu003du003dimagecolorsforindex($im,$result); $result u003d "({$result['red']}, {$result['green']}, {$result['blue']})"; echo "#$id: Пошук ($rgb[0], $rgb[1], $rgb[2]); Найближча подібність: $result.
";}imagedestroy($im);?> `

Результатом виконання цього прикладу буде щось подібне:

#0: Пошук (254, 145, 154); Найближча подібність: (252, 150, 148).
#1: Пошук (153, 145, 188); Найближча подібність: (148, 150, 196).
#2: Пошук (153, 90, 145); Найближча подібність: (148, 90, 156).
#3: Пошук (255, 137, 92); Найближча подібність: (252, 150, 92).

### Дивіться також

- [imagecolorexact()](function.imagecolorexact.md) - Отримання
індексу заданого кольору
- [imagecolorclosestalpha()](function.imagecolorclosestalpha.md) -
Отримання індексу кольору найближчого до заданого з урахуванням прозорості
- [imagecolorclosesthwb()](function.imagecolorclosesthwb.md) -
Отримання індексу кольору, що має заданий тон, білизну та затемнення
