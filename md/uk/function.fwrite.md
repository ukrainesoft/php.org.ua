- [«ftruncate](function.ftruncate.md)
- [glob »] (function.glob.md)

- [PHP Manual](index.md)
- [Функції файлової системи](ref.filesystem.md)
- Бінарно-безпечний запис у файл

#fwrite

(PHP 4, PHP 5, PHP 7, PHP 8)

fwrite — Бінарно-безпечний запис у файл

### Опис

**fwrite**(resource `$stream`, string `$data`, ?int `$length` u003d
**`null`**): int\|false

**fwrite()** записує вміст `data` у файловий потік `stream`.

### Список параметрів

`stream`
Вказівник (resource) на файл, який зазвичай створюється за допомогою функції
[fopen()](function.fopen.md).

`data`
Записуваний рядок.

`length`
Якщо параметр `length` є цілим числом (int), запис зупиниться
після того, як `length` байтів будуть записані або буде досягнуто кінця
рядки `data`, дивлячись що станеться раніше.

### Значення, що повертаються

**fwrite()** повертає кількість записаних байт або **`false`**
у разі виникнення помилки.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -----------------|
| 8.0.0 | Параметр `length` тепер допускає значення **`null`**. |

### Приклади

**Приклад #1 Простий приклад використання **fwrite()****

` <?php$filename u003d 'test.txt';$somecontent u003d "Додати це до файлу
";// Вначале давайте убедимся, что файл существует и доступен для записи.if (is_writable($filename)) {    // В нашем примере мы открываем $filename в режиме "записи в конец".    // Таким образом, смещение установлено в конец файла и    // наш $somecontent допишется в конец при использовании fwrite().    if (!$fp u003d fopen($filename, 'a')) {         echo "Не могу открыть файл ($filename)";         exit;    }    / / Записываем $somecontent в наш открытый файл.    if (fwrite($fp, $somecontent) u003du003du003d FALSE) {        echo "Не могу произвести запись в файл ($filename)";        exit;    }    echo "Ура! Записали ($somecontent) в файл ($filename)";   fclose($fp);} else {    echo "Файл $filename недоступний для запису";}?> ``

### Примітки

> **Примітка**:
>
> Запис у мережевий потік може припинитися до запису.
> усі дані. Це можна контролювати за допомогою перевірки повертається
> значення функції **fwrite()**:
>
> ` <?phpfunction fwrite_stream($fp, $string) {    for ($written u003d 0; $written < strlen($string); $written +u003d $fwrite) { $$ , $written)); if ($fwrite u003du003du003du003dfalse) {            return $written; }    }   return $written;}?> `

> **Примітка**:
>
> У системах, що розрізняють двійкові та текстові файли (наприклад,
> Windows), файл повинен бути відкритий, використовуючи прапор 'b' в кінці аргументу
> mode функції [fopen()](function.fopen.md).

> **Примітка**:
>
> Якщо дескриптор `stream` був відкритий функцією
> [fopen()](function.fopen.md) в режимі "додавання в кінець", то
> виклики **fwrite()** будуть атомарними (за винятком випадку, якщо
> розмір `data` перевищить розмір блоку файлової системи, на деяких
> платформах і поки файл зберігається на локальній файловій системі). То
> є немає необхідності блокувати ресурс за допомогою
> [flock()](function.flock.md) перед викликом **fwrite()**, і все
> дані будуть записані без переривань.

> **Примітка**:
>
> При повторному запису файлового покажчика, дані будуть додані в
> кінець вмісту файлу:
>
> ` <?php$fp u003d fopen('data.txt', 'w');fwrite($fp, '1');fwrite($fp, '23');fclose($fp);// вміст 'data.txt' тепер 123, а не 23!?> `

### Дивіться також

- [fread()](function.fread.md) - Бінарно-безпечне читання файлу
- [fopen()](function.fopen.md) - Відкриває файл або URL
- [fsockopen()](function.fsockopen.md) - Відкриває з'єднання з
інтернет-сокетом або доменним сокетом Unix
- [popen()](function.popen.md) - Відкриває файловий покажчик
процесу
- [file_get_contents()](function.file-get-contents.md) - Читає
вміст файлу в рядок
- [pack()](function.pack.md) - Упакувати дані в бінарний рядок
