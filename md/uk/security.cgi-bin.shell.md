- [« Варіант 3: використання опцій doc_root або
user_dir](security.cgi-bin.doc-root.md)
- [Якщо PHP встановлено як модуль Apache »](security.apache.md)

- [PHP Manual](index.md)
- [Якщо PHP встановлено як CGI](security.cgi-bin.md)
- Варіант 4: PHP поза деревом веб-документів

## Варіант 4: PHP поза деревом веб-документів

Один із способів суттєво підвищити рівень безпеки – помістити
модуль PHP, що виконується поза деревом веб-документів, наприклад,
`/usr/local/bin`. Єдиним недоліком такого підходу є те,
що перший рядок кожного скрипта повинен мати вигляд:

#!/usr/local/bin/php

Також необхідно зробити всі файли скриптів, що виконуються. Таким чином,
скрипт буде розглядатися так само, як і будь-яке інше CGI-додаток,
написане на Perl, sh або будь-якій іншій скриптовій мові, яка
використовує `#!` на початку файлу для запуску себе.

Для коректної обробки PHP змінних `PATH_INFO` та `PATH_TRANSLATED`
директива ini [cgi.discard_path](ini.core.md#ini.cgi.discard-path)
має бути включена.
