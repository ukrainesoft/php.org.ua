{"pageProps":{"page":{"slug":"pool.submitTo.md","content":"# Pool::submitTo\n\n(PECL pthreads >= 2.0.0)\n\nPool::submitTo — Відправляє завдання конкретному воркер для виконання\n\n### Опис\n\n```methodsynopsis\npublic Pool::submitTo(int $worker, Threaded $task): int\n```\n\nВідправляє завдання вказаному воркеру в пулі. Воркери індексуються з 0 і будуть існувати тільки в тому випадку, якщо пулу необхідно їх створити (оскільки потоки створюються ліниво).\n\n### Список параметрів\n\n`worker`\n\nВоркер, до якого потрібно додати завдання, починаючи з\n\n`task`\n\nЗавдання для виконання\n\n### Значення, що повертаються\n\nІдентифікатор воркера, який прийняв завдання.\n\n### Приклади\n\n**Приклад #1 Надсилання завдань конкретному воркеру**\n\n```php\n<?php\nclass Task extends Threaded {\n    public function run() {\n        var_dump(Thread::getCurrentThreadID());\n    }\n}\n\n$pool = new Pool(2);\n\n$pool->submit(new Task());\n\nfor ($i = 0; $i < 5; ++$i) {\n    $pool->submitTo(0, new Task()); // добавление всех заданий первому воркеру\n}\n\n$pool->submitTo(1, new Task()); // не может добавить задачу второму воркеру, потому что его ещё не существует\n\n$pool->shutdown();\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nint(4475011072)\nint(4475011072)\nint(4475011072)\nint(4475011072)\nint(4475011072)\nint(4475011072)\n\nFatal error: Uncaught Exception: The selected worker (1) does not exist in %s:%d\n```\n","title":"Pool::submitTo","contentType":2,"navigation":[{"pool.submit.md":"« Pool::submit"},{"class.volatile.md":"Volatile »"},{"index.md":"PHP Manual"},{"class.pool.md":"Pool"}]}},"__N_SSG":true}