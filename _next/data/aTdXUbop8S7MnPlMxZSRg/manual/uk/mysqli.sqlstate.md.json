{"pageProps":{"page":{"slug":"mysqli.sqlstate.md","content":"# mysqli::$sqlstate\n\n# mysqli\\_sqlstate\n\n(PHP 5, PHP 7, PHP 8)\n\nmysqli::$sqlstate -- mysqli\\_sqlstate — Повертає код стану SQLSTATE останньої операції MySQL\n\n### Опис\n\nОб'єктно-орієнтований стиль\n\nstring[$mysqli->sqlstate](mysqli.sqlstate.md)\n\nПроцедурний стиль\n\n```methodsynopsis\nmysqli_sqlstate(mysqli $mysql): string\n```\n\nПовертає рядок із SQLSTATE кодом останньої помилки. Цей код складається з п'яти символів . `'00000'` означає відсутність помилок. Ці коди визначені у стандарті ANSI, а також у ODBC. Переглянути список можливих значень можна на сторінці [» http://dev.mysql.com/doc/mysql/en/error-handling.md](http://dev.mysql.com/doc/mysql/en/error-handling.md)\n\n> **Зауваження** :\n> \n> Слід зазначити, що ще не всі помилки MySQL мають відображення в SQLSTATE кодах. Для подібних помилок використовується код `HY000` (Загальна помилка).\n\n### Список параметрів\n\n`mysql`\n\nТільки для процедурного стилю: об'єкт [mysqli](class.mysqli.md), який повернула функція [mysqli\\_connect()](function.mysqli-connect.md)или функция[mysqli\\_init()](mysqli.init.md)\n\n### Значення, що повертаються\n\nПовертає рядок із SQLSTATE кодом останньої помилки. Цей код складається з п'яти символів . `'00000'` означає відсутність помилок.\n\n### Приклади\n\n**Приклад #1 Приклад використання $mysqli->sqlstate**\n\nОб'єктно-орієнтований стиль\n\n```php\n<?php\nmysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n$mysqli = new mysqli(\"localhost\", \"my_user\", \"my_password\", \"world\");\n\n/* Таблица City уже существует, поэтому мы должны получить ошибку */\ntry {\n    $mysqli->query(\"CREATE TABLE City (ID INT, Name VARCHAR(30))\");\n} catch (mysqli_sql_exception) {\n    printf(\"Ошибка - SQLSTATE %s.\\n\", $mysqli->sqlstate);\n}\n?>\n```\n\nПроцедурний стиль\n\n```php\n<?php\nmysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n$link = mysqli_connect(\"localhost\", \"my_user\", \"my_password\", \"world\");\n\n/* Таблица City уже существует, поэтому мы должны получить ошибку */\ntry {\n    mysqli_query($link, \"CREATE TABLE City (ID INT, Name VARCHAR(30))\");\n} catch (mysqli_sql_exception) {\n    printf(\"Ошибка - SQLSTATE %s.\\n\", mysqli_sqlstate($link));\n}\n?>\n```\n\nРезультат виконання наведених прикладів:\n\n```\nОшибка - SQLSTATE 42S01.\n```\n\n### Дивіться також\n\n-   [mysqli\\_errno()](mysqli.errno.md) \\- Повертає код помилки останнього виклику функції\n-   [mysqli\\_error()](mysqli.error.md) \\- Повертає рядок із описом останньої помилки\n","title":"mysqli::$sqlstate","contentType":2,"navigation":[{"mysqli.set-charset.md":"« mysqli::set\\_charset"},{"mysqli.ssl-set.md":"mysqli::ssl\\_set »"},{"index.md":"PHP Manual"},{"class.mysqli.md":"mysqli"}]}},"__N_SSG":true}