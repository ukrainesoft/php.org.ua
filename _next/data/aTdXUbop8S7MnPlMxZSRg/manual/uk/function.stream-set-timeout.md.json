{"pageProps":{"page":{"slug":"function.stream-set-timeout.md","content":"# stream\\_set\\_timeout\n\n(PHP 4 >= 4.3.0, PHP 5, PHP 7, PHP 8)\n\nstream\\_set\\_timeout — Встановлення часу очікування потоку.\n\n### Опис\n\n```methodsynopsis\nstream_set_timeout(resource $stream, int $seconds, int $microseconds = 0): bool\n```\n\nУстанавливает значение времени ожидания в потоке`stream`, равное сумме параметров`seconds`и`microseconds`\n\nКоли час роботи потоку спливає, ключ 'timed\\_out' масиву, що повертається функцією [stream\\_get\\_meta\\_data()](function.stream-get-meta-data.md), устанавливается в значение\\*\\*`true`\\*\\*хоча помилка або попередження не генерується.\n\n### Список параметрів\n\n`stream`\n\nЦільовий потік.\n\n`seconds`\n\nСекунди в установленому часі очікування.\n\n`microseconds`\n\nМікросекунди в установленому часі очікування.\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Приклад використання** stream\\_set\\_timeout()\\*\\*\\*\\*\n\n```php\n<?php\n$fp = fsockopen(\"www.example.com\", 80);\nif (!$fp) {\n    echo \"Невозможно открыть сокет\\n\";\n} else {\n\n    fwrite($fp, \"GET / HTTP/1.0\\r\\n\\r\\n\");\n    stream_set_timeout($fp, 2);\n    $res = fread($fp, 2000);\n\n    $info = stream_get_meta_data($fp);\n    fclose($fp);\n\n    if ($info['timed_out']) {\n        echo 'Истекло время соединения!';\n    } else {\n        echo $res;\n    }\n\n}\n?>\n```\n\n### Примітки\n\n> **Зауваження** :\n> \n> Ця функція не працює з просунутими операціями, такими як [stream\\_socket\\_recvfrom()](function.stream-socket-recvfrom.md). Використовуйте замість неї [stream\\_select()](function.stream-select.md)с параметром времени ожидания.\n\nЦя функція раніше викликалася через **set\\_socket\\_timeout()** і пізніше через [socket\\_set\\_timeout()](function.socket-set-timeout.md)але це використання застаріло.\n\n### Дивіться також\n\n-   [fsockopen()](function.fsockopen.md) \\- Відкриває з'єднання з інтернет-сокетом або доменним сокетом Unix\n-   [fopen()](function.fopen.md) \\- Відкриває файл або URL\n","title":"stream\\_set\\_timeout","contentType":2,"navigation":[{"function.stream-set-read-buffer.md":"« stream\\_set\\_read\\_buffer"},{"function.stream-set-write-buffer.md":"stream\\_set\\_write\\_buffer »"},{"index.md":"PHP Manual"},{"ref.stream.md":"Функції для роботи з потоками"}]}},"__N_SSG":true}