{"pageProps":{"page":{"slug":"context.socket.md","content":"# Контекстні опції сокету\n\nКонтекстні опції сокету - Список контекстних опцій сокету\n\n### Опис\n\nКонтекстні опції доступні для всіх обгорток, які працюють через сокети, такі як `tcp` `http`и`ftp`\n\n### Опції\n\n`bindto`\n\nВикористовується для вказівки IP-адреси (IPv4 або IPv6) та\\\\або номери порту, які PHP використовуватиме для підключення до мережі. Синтаксис виглядає так: `ip:port`для адреса IPv4, и`[ip]:port`для адреса IPv6. Установка IP и\\\\или порта в дозволить системі самій вибрати потрібний IP та\\\\чи порт.\n\n> **Зауваження** :\n> \n> Оскільки під час звичайної роботи FTP створює 2 з'єднання з сокетами, номер порту не може бути заданий за допомогою цієї опції.\n\n`backlog`\n\nВикористовується для обмеження вихідних з'єднань у черзі з'єднань сокету.\n\n> **Зауваження** :\n> \n> Використовується тільки для [stream\\_socket\\_server()](function.stream-socket-server.md)\n\n`ipv6_v6only`\n\nПеревизначає значення стандартної ОС для відображення IPv4 в IPv6.\n\n> **Зауваження** :\n> \n> Це важливо у разі спроби окремо слухати IPv4 адреси, у той час як задана прив'язка до `[::]`\n> \n> Застосовується тільки до [stream\\_socket\\_server()](function.stream-socket-server.md)\n\n`so_reuseport`\n\nДозволяє множинну прив'язку до однієї і тієї ж пари IP:порт, навіть із різних процесів.\n\n> **Зауваження** :\n> \n> Застосовується тільки до [stream\\_socket\\_server()](function.stream-socket-server.md)\n\n`so_broadcast`\n\nДозволяє посилати та приймати дані у/від широкомовних адрес.\n\n> **Зауваження** :\n> \n> Застосовується тільки до [stream\\_socket\\_server()](function.stream-socket-server.md)\n\n`tcp_nodelay`\n\nВстановлення цієї опції в **`true`** зробить `SOL_TCP,NO_DELAY=1`соответственно, таким образом, отключение алгоритма TCP Nagle.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 7.1.0 | Добавлено`tcp_nodelay` |\n| 7.0.1 | Добавлено`ipv6_v6only` |\n\n### Приклади\n\n**Приклад #1 Приклад использования`bindto`**\n\n```php\n<?php\n// Соединение с сетью, используя IP '192.168.0.100'\n$opts = array(\n    'socket' => array(\n        'bindto' => '192.168.0.100:0',\n    ),\n);\n\n\n// Соединение с сетью, используя IP '192.168.0.100' и порт '7000'\n$opts = array(\n    'socket' => array(\n        'bindto' => '192.168.0.100:7000',\n    ),\n);\n\n\n// Соединение с сетью, используя IPv6 адрес '2001:db8::1'\n// и порт '7000'\n$opts = array(\n    'socket' => array(\n        'bindto' => '[2001:db8::1]:7000',\n    ),\n);\n\n\n// Соединение с сетью через порт '7000'\n$opts = array(\n    'socket' => array(\n        'bindto' => '0:7000',\n    ),\n);\n\n\n// Создаём контекст...\n$context = stream_context_create($opts);\n\n// ...и используем его для получения данных\necho file_get_contents('http://www.example.com', false, $context);\n\n?>\n```\n","title":"Контекстні опції сокету","contentType":2,"navigation":[{"context.md":"« Контекстні опції та параметри"},{"context.http.md":"Опції контексту HTTP »"},{"index.md":"PHP Manual"},{"context.md":"Контекстні опції та параметри"}]}},"__N_SSG":true}