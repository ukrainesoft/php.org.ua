- [« session_decode](function.session-decode.md)
- [session_encode »](function.session-encode.md)

- [PHP Manual](index.md)
- [Функції для роботи з сесіями](ref.session.md)
- Знищує всі дані сесії

# session_destroy

(PHP 4, PHP 5, PHP 7, PHP 8)

session_destroy — Знищує всі дані сесії

### Опис

**session_destroy**(): bool

**session_destroy()** знищує всі дані, пов'язані з поточною
сесією. Ця функція не видаляє будь-які глобальні змінні,
пов'язані з сесією і не видаляють сесійні cookie. Щоб знову
використовувати змінні сесії, слід викликати
[session_start()](function.session-start.md).

> **Примітка**: Не потрібно викликати **session_destroy()** в
> Звичайний код. Очищайте масив $\_SESSION замість видалення даних
> сесії.

Щоб повністю видалити сесію, також необхідно видалити її
ідентифікатор. Якщо передачі ідентифікатора сесії використовуються
cookie (поведінка за умовчанням), то сесійні cookie також мають бути
видалено. Для цього можна використати
[setcookie()](function.setcookie.md).

При увімкненій опції
[session.use_strict_mode](session.configuration.md#ini.session.use-strict-mode),
вам не потрібно видаляти застарілі cookie ідентифікатор сесії. У цьому ні
необхідності, тому що модуль сесії не прийме cookie ідентифікатора
сесії, якщо з цим ідентифікатором сесії немає пов'язаних даних, та
модуль сесії встановить новий cookie ідентифікатор сесії.
Рекомендується вмикати опцію
[session.use_strict_mode](session.configuration.md#ini.session.use-strict-mode)
для всіх веб-сайтів.

**Увага**

Негайне видалення сесії може призвести до небажаних наслідків.
За наявності конкуруючих запитів інші з'єднання можуть зіткнутися
з раптовою втратою даних сесії, наприклад, це можуть бути запити від
JavaScript та/або запити із посилань URL.

Навіть якщо поточний модуль сесії не підтримує пусті cookie
ідентифікатор сесії, негайне видалення сесії може призвести до
порожній cookie ідентифікатор сесії через стан гонки на стороні
клієнта (браузер). Це призведе до того, що клієнт створить багато
ідентифікаторів сесії без потреби.

Щоб цього уникнути, необхідно встановити в тимчасову мітку $\_SESSION
видалення та прибрати доступ пізніше. Або переконатися, що ваш додаток
немає конкуруючих запитів. Це також відноситься до
[session_regenerate_id()](function.session-regenerate-id.md).

### Список параметрів

Ця функція не має параметрів.

### Значення, що повертаються

Повертає **`true`** у разі успішного виконання або **`false`** у
у разі виникнення помилки.

### Приклади

**Приклад #1 Знищення сесії за допомогою `$_SESSION`**

` <?php// Ініціалізуємо сесію. Якщо потрібно знищити сесію, також необхідно видалити сесійні cookie.// Зауваження: Це знищить сесію, а не тільки дані сесії! setcookie(session_name(), '', time() - 42000,        $params["path"], $params["domain"],         $params["secure" / Нарешті, знищуємо сесію.session_destroy();?> `

### Примітки

> **Примітка**:
>
> Використовуйте [session_unset()](function.session-unset.md) тільки для
> застарілого коду, де не використовується `$_SESSION`.

### Дивіться також

- [session.use_strict_mode](session.configuration.md#ini.session.use-strict-mode)
- [session_reset()](function.session-reset.md) - Реініціалізує
сесію оригінальними значеннями
- [session_regenerate_id()](function.session-regenerate-id.md) -
Генерує та оновлює ідентифікатор поточної сесії
- [unset()](function.unset.md) - Видаляє змінну
- [setcookie()](function.setcookie.md) - Надсилає cookie
