- [«
sapi_windows_set_ctrl_handler](function.sapi-windows-set-ctrl-handler.md)
- [show_source »](function.show-source.md)

- [PHP Manual](index.md)
- [Різні функції](ref.misc.md)
- Отримати або встановити підтримку VT100 для заданого потоку,
пов'язаного з буфером виведення консолі Windows

# sapi_windows_vt100_support

(PHP 7 \>u003d 7.2.0, PHP 8)

sapi_windows_vt100_support — Отримати або встановити підтримку VT100 для
заданого потоку, пов'язаного з буфером виведення консолі Windows

### Опис

**sapi_windows_vt100_support**(resource `$stream`, ?bool `$enable` u003d
**`null`**): bool

Якщо параметр `enable` дорівнює **`null`**, функція повертає **`true`**
або **`false`** залежно від того, дозволені чи ні керуючі
послідовності VT100 для `stream`

Якщо параметр enable є логічним значенням (bool), функція
спробує увімкнути або вимкнути функціональність VT100 для потоку
`stream`. У цьому випадку функція поверне **`true`** або **`false`** в
Залежно від успішності виконання.

При старті, PHP намагається увімкнути VT100 для потоків **`STDOUT`** та
**`STDERR`**. Але якщо, наприклад, ці потоки перенаправлені у файл, то
підтримка VT100 може не увімкнутися.

Якщо включена підтримка VT100, можна використовувати керуючі
послідовності, оскільки вони відомі терміналу. Вони дозволяють
змінювати виведення терміналу. У Windows ці послідовності відомі як
"Console Virtual Terminal Sequences".

**Увага**

Ця функція використовує реалізацію прапора
**`ENABLE_VIRTUAL_TERMINAL_PROCESSING`** у Windows 10 API, отже
функціональність VT100 може бути недоступна у старіших версіях
Windows.

### Список параметрів

`stream`
Потік, з яким працюватиме функція.

`enable`
Якщо є логічним значенням (bool), то має бути або
**`true`**, або **`false`**, для включення та відключення VT100
відповідно.

### Значення, що повертаються

Якщо параметр `enable` дорівнює **`null`**, функція повертає **`true`**
або **`false`** залежно від того, дозволені чи ні керуючі
послідовності VT100

Якщо параметр enable є логічним значенням (bool): Повертає
**`true`** у разі успішного виконання або **`false`** у разі
виникнення помилки.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- --|
| 8.0.0 | `enable` тепер припускає значення null. |

### Приклади

**Приклад #1 Стан **sapi_windows_vt100_support()** за промовчанням**

За замовчуванням, для **`STDOUT`** та **`STDERR`** підтримка VT100 включена.

```shcode
php -r "var_export(sapi_windows_vt100_support(STDOUT));echo ' ';var_export(sapi_windows_vt100_support(STDERR));"
````

Результатом виконання цього прикладу буде щось подібне:

true true

Якщо потік перенаправлений, підтримка VT100 буде відключена:

```shcode
php -r "var_export(sapi_windows_vt100_support(STDOUT));echo ' ';var_export(sapi_windows_vt100_support(STDERR));" 2>NUL
````

Результатом виконання цього прикладу буде щось подібне:


true false

**Приклад #2 Зміна стану за допомогою
**sapi_windows_vt100_support()****

Ви не можете включити підтримку VT100 для **`STDOUT`** або **`STDERR`**
якщо ці потоки перенаправлені.

```shcode
php -r "var_export(sapi_windows_vt100_support(STDOUT, true));echo ' ';var_export(sapi_windows_vt100_support(STDERR, true));" 2>NUL
````

Результатом виконання цього прикладу буде щось подібне:

true false

**Приклад #3 Приклад використання з підтримкою VT100**

` <?php$out u003d fopen('php://stdout','w');fwrite($out, 'Just forgot a lettr.');// Перемістити курсор на дві позиції назадfwrite($out, " [2D");// Вставляє один пробіл, зсуваючи існуючий текст вправо -> Просто забули букву. fwrite ($ out, "" [1 @");

Результат виконання цього прикладу:

Just forgot a letter.
