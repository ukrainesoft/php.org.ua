{"pageProps":{"page":{"slug":"function.stream-socket-shutdown.md","content":"# stream\\_socket\\_shutdown\n\n(PHP 5 >= 5.2.1, PHP 7, PHP 8)\n\nstream\\_socket\\_shutdown — Закрити повнодуплексне з'єднання\n\n### Опис\n\n```methodsynopsis\nstream_socket_shutdown(resource $stream, int $mode): bool\n```\n\nЗакриває (частково чи ні) повнодуплексне з'єднання.\n\n> **Зауваження** :\n> \n> Асоційовані буфери або буфери можуть бути закриті, а можуть і ні.\n\n### Список параметрів\n\n`stream`\n\nВідкритий потік (наприклад, відкритий за допомогою функції [stream\\_socket\\_client()](function.stream-socket-client.md)) .\n\n`mode`\n\nОдна из следующих констант:**`STREAM_SHUT_RD`** (відключає подальше отримання даних), **`STREAM_SHUT_WR`** (відключає подальшу передачу даних) або **`STREAM_SHUT_RDWR`** (Вимикає подальше отримання та передачу даних).\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### Приклади\n\n**Приклад #1 Приклад використання** stream\\_socket\\_shutdown()\\*\\*\\*\\*\n\n```php\n<?php\n\n$server = stream_socket_server('tcp://127.0.0.1:1337');\n$client = stream_socket_client('tcp://127.0.0.1:1337');\n\nvar_dump(fputs($client, \"привет\"));\n\nstream_socket_shutdown($client, STREAM_SHUT_WR);\nvar_dump(fputs($client, \"привет\")); // не работает сейчас\n\n?>\n```\n\nВисновок наведеного прикладу буде схожим на:\n\n```\nint(5)\n\nNotice: fputs(): send of 6 bytes failed with errno=32 Broken pipe in test.php on line 9\nint(0)\n```\n\n### Дивіться також\n\n-   [fclose()](function.fclose.md) \\- Закриває відкритий дескриптор файлу\n","title":"stream\\_socket\\_shutdown","contentType":2,"navigation":[{"function.stream-socket-server.md":"« stream\\_socket\\_server"},{"function.stream-supports-lock.md":"stream\\_supports\\_lock »"},{"index.md":"PHP Manual"},{"ref.stream.md":"Функції для роботи з потоками"}]}},"__N_SSG":true}