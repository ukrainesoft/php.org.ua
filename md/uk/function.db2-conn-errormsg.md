- [«db2_conn_error](function.db2-conn-error.md)
- [db2_connect »](function.db2-connect.md)

- [PHP Manual](index.md)
- [Функції IBM DB2](ref.ibm-db2.md)
- Повертає останнє повідомлення про помилку підключення та значення
SQLCODE

#db2_conn_errormsg

(PECL ibm_db2 \>u003d 1.0.0)

db2_conn_errormsg — Повертає останнє повідомлення про помилку підключення
та значення SQLCODE

### Опис

**db2_conn_errormsg**(resource `$connection` u003d ?): string

Повертає повідомлення про помилку та значення SQLCODE, що представляє
причину, через яку остання спроба підключення до бази даних
завершилася невдачею. Оскільки
[db2_connect()](function.db2-connect.md) повертає **`false`** у
у разі невдалої спроби підключення, не потрібно передавати жодних
параметрів у **db2_conn_errormsg()** для отримання відповідного
повідомлення про помилку та значення SQLCODE.

Однак, якщо з'єднання було успішним, але згодом стало
недійсним, можна передати параметр `connection`, щоб отримати
відповідне повідомлення про помилку та значення SQLCODE для конкретного
з'єднання.

### Список параметрів

`connection`
Ресурс підключення, пов'язаний із підключенням, яке спочатку було
успішним, але згодом стало недійсним.

### Значення, що повертаються

Повертає рядок, що містить повідомлення про помилку та значення SQLCODE,
отримане внаслідок невдалої спроби підключення. Якщо при
останньої спроби підключення помилок не виникло,
**db2_conn_errormsg()** повертає порожній рядок.

### Приклади

**Приклад #1 Отримання повідомлення про помилку, повернене за невдалої
спробі підключення**

У цьому прикладі показано, як повернути повідомлення про помилку та значення
SQLCODE після умисної передачі неприпустимих параметрів
[db2_connect()](function.db2-connect.md).

` <?php$conn u003d db2_connect('badname', 'baduser', 'badpassword');if (!$conn) {    print db2_conn_errormsg();}?> `

Результат виконання цього прикладу:

[IBM][CLI Driver] SQL1013N Database alias name
or database name "BADNAME" could not be found. SQLSTATEu003d42705
SQLCODEu003d-1013

### Дивіться також

- [db2_conn_error()](function.db2-conn-error.md) - Повертає
рядок, що містить значення SQLSTATE, повернутий останній
спробою підключення
- [db2_connect()](function.db2-connect.md) - Повертає з'єднання з
базою даних
- [db2_stmt_error()](function.db2-stmt-error.md) - Повертає
рядок, що містить SQLSTATE, повернутий SQL-оператором
- [db2_stmt_errormsg()](function.db2-stmt-errormsg.md) - Повертає
рядок, що містить останнє повідомлення про помилку SQL-виразу
