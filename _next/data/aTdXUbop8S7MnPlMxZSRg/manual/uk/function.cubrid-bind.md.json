{"pageProps":{"page":{"slug":"function.cubrid-bind.md","content":"# cubrid\\_bind\n\n(PECL CUBRID >= 8.3.0)\n\ncubrid\\_bind — Зв'язує змінні із підготовленим запитом\n\n### Опис\n\n```methodsynopsis\ncubrid_bind(    resource $req_identifier,    int $bind_index,    mixed $bind_value,    string $bind_value_type = ?): bool\n```\n\nФункция**cubrid\\_bind()** використовується для прив'язки значень до вказаних міток або знаків питання в SQL-запиті, заданому [cubrid\\_prepare()](function.cubrid-prepare.md)Если не задан параметр`bind_value_type`, то буде використовуватися рядковий тип.\n\n> **Зауваження** :\n> \n> Якщо дані, що прив'язуються, мають тип BLOB/CLOB, CUBRID спробує використовувати їх як потоки PHP. Якщо фактичне значення, що прив'язується не є потоком, то CUBRID конвертує його в рядок і буде вважати повним шляхом до файлу, де ці дані лежать.\n> \n> Якщо тип даних, які будуть пов'язані явно, є ENUM, то параметр `bind_value` має бути елементом ENUM заданим у вигляді рядка.\n> \n> В окружении сегмента CUBRID,`bind_value_type` має бути включений у функцію **cubrid\\_bind()**\n\nУ наступній таблиці наведено типи замінних значень.\n\n**Прив'язка типів у CUBRID**\n\n| Уровень поддержки | Тип привязки | Соответствующий SQL-тип |\n| --- | --- | --- |\n| Підтримується | STRING | CHAR, VARCHAR |\n|  | NCHAR | NCHAR, NVARCHAR |\n|  | BIT | BIT, VARBIT |\n|  | NUMERIC or NUMBER | SHORT, INT, NUMERIC |\n|  | FLOAT | FLOAT |\n|  | DOUBLE | DOUBLE |\n|  | TIME | TIME |\n|  | DATE | DATE |\n|  | TIMESTAMP | TIMESTAMP |\n|  | OBJECT | OBJECT |\n|  | ENUM | ENUM |\n|  | BLOB | BLOB |\n|  | CLOB | CLOB |\n|  | NULL | NULL |\n| Не підтримується | SET | SET |\n|  | MULTISET | MULTISET |\n|  | SEQUENCE | SEQUENCE |\n\n### Список параметрів\n\n`req_identifier`\n\nІдентифікатор запиту, отриманий з [cubrid\\_prepare()](function.cubrid-prepare.md)\n\n`bind_index`\n\nРозташування параметрів, що зв'язуються. Починаються з першого.\n\n`bind_value`\n\nФактичне значення для прив'язування.\n\n`bind_value_type`\n\nТип зв'язуваного значення. (За замовчуванням не встановлено. Таким чином, за замовчуванням використовується тип STRING. Однак, ви повинні явно вказати тип для значень NCHAR, BIT, або BLOB/CLOB).\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.3.1 | Додано підтримку типів даних BLOB/CLOB. |\n\n### Приклади\n\n**Приклад #1 Приклад використання** cubrid\\_bind()\\*\\*\\*\\*\n\n```php\n<?php\n$conn = cubrid_connect(\"localhost\", 33000, \"demodb\", \"dba\");\n\n$result = cubrid_execute($conn, \"SELECT code FROM event WHERE sports='Basketball' and gender='M'\");\n$row = cubrid_fetch_array($result, CUBRID_ASSOC);\n$event_code = $row[\"code\"];\n\ncubrid_close_request($result);\n\n$game_req = cubrid_prepare($conn, \"SELECT athlete_code FROM game WHERE host_year=1992 and event_code=? and nation_code='USA'\");\ncubrid_bind($game_req, 1, $event_code, \"number\");\ncubrid_execute($game_req);\n\nprintf(\"--- Dream Team (1992 United States men's Olympic basketball team) ---\\n\");\nwhile ($athlete_code = cubrid_fetch_array($game_req, CUBRID_NUM)) {\n    $athlete_req = cubrid_prepare($conn, \"SELECT name FROM athlete WHERE code=? AND nation_code='USA' AND event='Basketball' AND gender='M'\");\n    cubrid_bind($athlete_req, 1, $athlete_code[0], \"number\");\n    cubrid_execute($athlete_req);\n    $row = cubrid_fetch_assoc($athlete_req);\n    printf(\"%s\\n\", $row[\"name\"]);\n}\n\ncubrid_close_request($game_req);\ncubrid_close_request($athlete_req);\n\ncubrid_disconnect($conn);\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\n--- Dream Team (1992 United States men's Olympic basketball team) ---\nStockton John\nRobinson David\nPippen Scottie\nMullin C.\nMalone Karl\nLaettner C.\nJordan Michael\nJohnson Earvin\nEwing Patrick\nDrexler Clyde\nBird Larry\nBarkley Charles\n```\n\n**Приклад #2 Приклад використання** cubrid\\_bind()\\*\\* з BLOB/CLOB\\*\\*\n\n```php\n<?php\n$con = cubrid_connect(\"localhost\", 33000, \"demodb\", \"dba\", \"\");\nif ($con) {\n    cubrid_execute($con,\"DROP TABLE if exists php_cubrid_lob_test\");\n    cubrid_execute($con,\"CREATE TABLE php_cubrid_lob_test (doc_content CLOB)\");\n    $sql = \"INSERT INTO php_cubrid_lob_test(doc_content) VALUES(?)\";\n    $req = cubrid_prepare($con, $sql);\n\n    $fp = fopen(\"book.txt\", \"rb\");\n\n    cubrid_bind($req, 1, $fp, \"clob\");\n    cubrid_execute($req);\n}\n?>\n```\n\n**Приклад #3 Приклад використання** cubrid\\_bind()\\*\\* з BLOB/CLOB\\*\\*\n\n```php\n<?php\n$con = cubrid_connect(\"localhost\", 33000, \"demodb\", \"dba\", \"\");\nif ($con) {\n    cubrid_execute($con,\"DROP TABLE if exists php_cubrid_lob_test\");\n    cubrid_execute($con,\"CREATE TABLE php_cubrid_lob_test (image BLOB)\");\n    $sql = \"INSERT INTO php_cubrid_lob_test(image) VALUES(?)\";\n    $req = cubrid_prepare($con, $sql);\n\n    cubrid_bind($req, 1, \"cubrid_logo.png\", \"blob\");\n    cubrid_execute($req);\n}\n?>\n```\n\n### Дивіться також\n\n-   [cubrid\\_execute()](function.cubrid-execute.md) \\- Виконує підготовлений SQL-оператор\n-   [cubrid\\_prepare()](function.cubrid-prepare.md) \\- Підготовляє SQL-вираз до виконання\n","title":"cubrid\\_bind","contentType":2,"navigation":[{"ref.cubrid.md":"« Функції CUBRID"},{"function.cubrid-close-prepare.md":"cubrid\\_close\\_prepare »"},{"index.md":"PHP Manual"},{"ref.cubrid.md":"Функції CUBRID"}]}},"__N_SSG":true}