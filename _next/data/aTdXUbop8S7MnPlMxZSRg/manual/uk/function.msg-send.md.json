{"pageProps":{"page":{"slug":"function.msg-send.md","content":"# msg\\_send\n\n(PHP 4 >= 4.3.0, PHP 5, PHP 7, PHP 8)\n\nmsg\\_send — Надіслати повідомлення до черги повідомлень\n\n### Опис\n\n```methodsynopsis\nmsg_send(    SysvMessageQueue $queue,    int $message_type,    string|int|float|bool $message,    bool $serialize = true,    bool $blocking = true,    int &$error_code = null): bool\n```\n\n**msg\\_send()** надсилає повідомлення `message` з типом `message_type` (має бути більше 0) у чергу повідомлень, вказану параметром `queue`\n\n### Список параметрів\n\n`queue`\n\nЧерга повідомлень.\n\n`message_type`\n\nТип повідомлення. Має бути більше 0.\n\n`message`\n\nТіло повідомлення.\n\n> **Зауваження** :\n> \n> Якщо `serialize` поставлено як **`false`**, ПОВИННО бути типу: string, int, float або bool. Інакше буде виведено попередження.\n\n`serialize`\n\nНеобов'язковий параметр `serialize` керує тим, як буде надіслано повідомлення `message`По умолчанию`serialize`имеет значение\\*\\*`true`\\*\\*, что означает сериализацию`message` перед відправкою тим самим механізмом, який використовується модулем обробки сесій. Це дозволяє відправляти складні масиви та об'єкти в інші PHP-скрипти, або якщо ви використовуєте серіалізацію WDDX, в інші сумісні з WDDX клієнти.\n\n`blocking`\n\nЯкщо повідомлення, яке розміщується в черзі, занадто велике, ваш скрипт буде очікувати прочитання повідомлень іншим процесом і звільнення місця під повідомлення, яке ви надсилаєте. Це називається блокуванням; ви можете вимкнути цю можливість, встановивши для `blocking`значение\\*\\*`false`**, в цьому випадку **msg\\_send()** буде негайно повертати **`false`** якщо повідомлення надто велике, і встановлювати необов'язковий параметр `error_code`в значение**`MSG_EAGAIN`\\*\\*, що буде вказувати вам на необхідність спробувати надіслати повідомлення дещо пізніше.\n\n`error_code`\n\nЯкщо функція відпрацює невдало, цей код буде записаний в системну змінну errno.\n\n### Значення, що повертаються\n\nПовертає **`true`** у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\nПри успішному завершенні структура даних черги повідомлень оновиться так: `msg_lspid` буде містити ідентифікатор процесу, що викликав, `msg_qnum` збільшиться на 1, а `msg_stime` міститиме поточний час.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.0.0 | Параметр`queue` тепер чекає екземпляр [SysvMessageQueue](class.sysvmessagequeue.md); раніше очікували ресурс (resource). |\n\n### Дивіться також\n\n-   [msg\\_remove\\_queue()](function.msg-remove-queue.md) \\- Видалення черги повідомлень\n-   [msg\\_receive()](function.msg-receive.md) \\- Отримання повідомлення з черги повідомлень\n-   [msg\\_stat\\_queue()](function.msg-stat-queue.md) \\- Отримання інформації із структури даних черги повідомлень\n-   [msg\\_set\\_queue()](function.msg-set-queue.md) \\- Встановлення інформації у структурі даних черги повідомлень\n","title":"msg\\_send","contentType":2,"navigation":[{"function.msg-remove-queue.md":"« msg\\_remove\\_queue"},{"function.msg-set-queue.md":"msg\\_set\\_queue »"},{"index.md":"PHP Manual"},{"ref.sem.md":"Функції семафорів"}]}},"__N_SSG":true}