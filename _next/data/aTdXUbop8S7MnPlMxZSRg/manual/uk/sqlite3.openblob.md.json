{"pageProps":{"page":{"slug":"sqlite3.openblob.md","content":"# SQLite3::openBlob\n\n(PHP 5 >= 5.3.0, PHP 7, PHP 8)\n\nSQLite3::openBlob — Відкриває ресурс потоку для читання BLOB\n\n### Опис\n\n```methodsynopsis\npublic SQLite3::openBlob(    string $table,    string $column,    int $rowid,    string $database = \"main\",    int $flags = SQLITE3_OPEN_READONLY): resource|false\n```\n\nВідкриває потоковий ресурс для читання або запису BLOB, який буде обраний:\n\nSELECT`column`FROM`database` `table`WHERE rowid =`rowid`\n\n> **Зауваження**: Неможливо змінити розмір BLOB шляхом запису до потоку. Натомість необхідно виконати запит UPDATE, можливо, використовуючи SQLite-функцію zeroblob(), щоб задати бажаний розмір BLOB.\n\n### Список параметрів\n\n`table`\n\nНазва таблиці.\n\n`column`\n\nНазва стовпця.\n\n`rowid`\n\nІдентифікатор рядка.\n\n`database`\n\nСимволічна назва бази даних\n\n`flags`\n\nЛибо\\*\\*`SQLITE3_OPEN_READONLY`**, либо**`SQLITE3_OPEN_READWRITE`\\*\\*, щоб відкрити потік тільки для читання або для читання та запису відповідно.\n\n### Значення, що повертаються\n\nПовертає ресурс потоку або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 7.2.0 | Добавлен параметр`flags`, Що дозволяє записати BLOB; раніше підтримувалося лише читання. |\n\n### Приклади\n\n**Приклад #1 Приклад використання** SQLite3::openBlob()\\*\\*\\*\\*\n\n```php\n<?php\n$conn = new SQLite3(':memory:');\n$conn->exec('CREATE TABLE test (text text)');\n$conn->exec(\"INSERT INTO test VALUES ('Lorem ipsum')\");\n$stream = $conn->openBlob('test', 'text', 1);\necho stream_get_contents($stream);\nfclose($stream); // обязательно, иначе на следующей строке произойдёт ошибка\n$conn->close();\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nLorem ipsum\n```\n\n**Приклад #2 Покроковий запис BLOB**\n\n```php\n<?php\n$conn = new SQLite3(':memory:');\n$conn->exec('CREATE TABLE test (text text)');\n$conn->exec(\"INSERT INTO test VALUES (zeroblob(36))\");\n$stream = $conn->openBlob('test', 'text', 1, 'main', SQLITE3_OPEN_READWRITE);\nfor ($i = 0; $i < 3; $i++) {\n    fwrite($stream,  \"Lorem ipsum\\n\");\n}\nfclose($stream);\necho $conn->querySingle(\"SELECT text FROM test\");\n$conn->close();\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nLorem ipsum\nLorem ipsum\nLorem ipsum\n```\n","title":"SQLite3::openBlob","contentType":2,"navigation":[{"sqlite3.open.md":"« SQLite3::open"},{"sqlite3.prepare.md":"SQLite3::prepare »"},{"index.md":"PHP Manual"},{"class.sqlite3.md":"SQLite3"}]}},"__N_SSG":true}