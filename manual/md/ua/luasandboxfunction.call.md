- [« LuaSandboxFunction](class.luasandboxfunction.md)
- [LuaSandboxFunction::\_\_construct
»](luasandboxfunction.construct.md)

- [PHP Manual](index.md)
- [LuaSandboxFunction](class.luasandboxfunction.md)
- Викликає Lua-функцію

# LuaSandboxFunction::call

(PECL luasandbox \>u003d 1.0.0)

LuaSandboxFunction::call — Викликає Lua-функцію

### Опис

public **LuaSandboxFunction::call**(string `...$args`): array\|bool

Викликає Lua-функцію.

Помилки, спричинені PHP-кодом, призведуть до того, що функція поверне `false`
і буде викликано попередження **`E_WARNING`**, наприклад, коли тип
ресурсу (resource) використовується як аргумент. У разі виникнення
помилок Lua буде викинуто виняток
[LuaSandboxRuntimeError](class.luasandboxruntimeerror.md).

Типи PHP і Lua перетворюються так:

- **`null`** у PHP – це `nil` у Lua і навпаки.

- Цілі числа (int) та числа з плаваючою точкою (float) у PHP
перетворюються на числа Lua. Підтримуються нескінченність і **`NAN`**.

- Числа Lua без дробової частини в діапазоні приблизно від `-2**53` та
`2**53` перетворюються на цілі числа (int) PHP, інші - в числа
PHP з плаваючою точкою (float).

- Логічні значення в PHP (bool) - це значення типу boolean у Lua та
навпаки.

- Рядки в PHP (string) - це значення типу string у Lua і навпаки.

- Функції Lua – це об'єкти PHP
[LuaSandboxFunction](class.luasandboxfunction.md), і навпаки.
Callback-функції PHP ([callable](language.types.callable.md))
підтримуються.

- Масиви PHP (array) перетворюються на таблиці Lua і навпаки.

- Зверніть увагу, що Lua зазвичай індексує масиви з 1, в той час
час як PHP індексує масиви з 0. Жодних коригувань для
цих різних угод не робиться.

- Масиви, які посилаються самі на себе, не підтримуються в жодному
із напрямків.

- Посилання PHP розіменовуються.

- `__pairs` та `__ipairs` з Lua обробляються. `__index`
ігнорується.

- При перетворенні з PHP в Lua цілі ключі від `-2**53`
до `2**53` представляються як числа у Lua. Всі інші ключі
представлені у вигляді рядків Lua.

- При перетворенні з Lua на PHP відмінні від рядків і чисел ключі
призведуть до виникнення помилки, як і конфлікти при
перетворення чисел у рядки або навпаки (оскільки PHP
вважає такі конструкції, як `$a[0]` та `$a["0"]`
еквівалентними).

- Всі інші типи не підтримуються і викликають помилку/викинуть
виняток, включаючи PHP-об'єкти (object), дані користувача
Lua та типи потоків.

Функції Lua по суті повертають список результатів. Таким чином,
у разі успішного виконання цей метод повертає масив (array),
містить всі значення, що повертаються Lua, з цілими ключами
(int), що починаються з нуля. Lua може не повертати результатів, і в
у цьому випадку повертається порожній масив.

### Список параметрів

`args`
Аргументи, що передаються у функцію.

### Значення, що повертаються

Повертає масив значень (array), що повертаються функцією, що може
бути порожнім, або `false` у разі виникнення помилки.
