{"pageProps":{"page":{"slug":"mongodb-driver-writeconcern.construct.md","content":"# MongoDB\\\\Driver\\\\WriteConcern::\\_\\_construct\n\n(mongodb >=1.0.0)\n\nMongoDB\\\\Driver\\\\WriteConcern::\\_\\_construct — Створити новий WriteConcern\n\n### Опис\n\n```methodsynopsis\nfinal public MongoDB\\Driver\\WriteConcern::__construct(string|int $w, ?int $wtimeout = null, ?bool $journal = null)\n```\n\nСтворює новий [MongoDB\\\\Driver\\\\WriteConcern](class.mongodb-driver-writeconcern.md)що є незмінним об'єктом значення.\n\n### Список параметрів\n\n`w`\n\n**Гарантія запису**\n\n| Значение | Опис |\n| --- | --- |\n|  | Потребує підтвердження, що операція запису поширилася на автономний `mongod` або на первинний у наборі реплік. Це гарантія запису за промовчанням для MongoDB. |\n|  | Не вимагає підтвердження операції запису. Тим не менш, це може повернути інформацію про виключення сокету та мережеві помилки в додаток. |\n| <ціле число більше 1> | Числа, що перевищують 1, дійсні тільки для набору реплік для запиту підтвердження від зазначеної кількості членів, включаючи первинний. |\n| **`MongoDB\\Driver\\WriteConcern::MAJORITY`** |  |\n| Вимагає підтвердження того, що операції запису поширюються на більшість вузлів, що голосують, включаючи первинний, і були записані в журнал на диск для цих вузлів. |  |\n\nДо MongoDB 3.0 це стосується більшості членів набору реплік (а не тільки до вузлів голосування).\n\n| | string | Рядкове представлення інтерпретується як набір тегів. Потребує підтвердження, що операція запису поширюється на член набору реплік із зазначеним тегом. |\n\n`wtimeout`\n\nСкільки чекати (у мілісекундах) відповіді від вторинних вузлів перед тим, як видати помилку.\n\n`wtimeout` призводить до того, що операції запису повертаються з помилкою (**WriteConcernError**) після зазначеного періоду, навіть якщо необхідна гарантія запису в кінцевому рахунку буде успішною. Коли ці гарантії запису повертаються, MongoDB не скасовує успішні зміни даних, виконані до того, як гарантія запису перевищила часовий ліміт. `wtimeout`\n\nЯкщо зазначено, `wtimeout` повинен бути 64-бітовим цілим числом зі знаком, більшим або рівним нулю.\n\n**Час очікування гарантії запису**\n\n| Значение | Опис |\n| --- | --- |\n|  | Блокувати нескінченно. Це значення за промовчанням. |\n| <ціле число більше, ніж 0> | Мілісекунди до очікування повернення. |\n\n`journal`\n\nЧекати, поки mongod не застосує запис до журналу.\n\n### Помилки\n\n-   При помилці парсингу аргумент кидає виняток[MongoDB\\\\Driver\\\\Exception\\\\InvalidArgumentException](class.mongodb-driver-exception-invalidargumentexception.md)\n-   При невірному`w`чи негативному`wtimeout`або якщо вони більше, ніж 32-бітове ціле число зі знаком, викидає[MongoDB\\\\Driver\\\\Exception\\\\InvalidArgumentException](class.mongodb-driver-exception-invalidargumentexception.md)\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| PECL mongodb 1.7.0 | Параметр`wTimeout` тепер набуває 64-бітових значень. |\n\n### Приклади\n\n**Приклад #1 Приклад використання** MongoDB\\\\Driver\\\\WriteConcern::\\_\\_construct()\\*\\*\\*\\*\n\n```php\n<?php\n\n/* Запрос подтверждения записи от большинства узлов набора реплик */\n$wc = new MongoDB\\Driver\\WriteConcern(MongoDB\\Driver\\WriteConcern::MAJORITY, 500);\n\n/* Запрос подтверждения записи от узла, настроенного с тегом \"MultipleDC\" */\n$wc = new MongoDB\\Driver\\WriteConcern(\"MultipleDC\", 500);\n\n?>\n```\n\n### Дивіться також\n\n-   [» Довідкова інформація щодо гарантії запису](https://www.mongodb.com/docs/manual/reference/write-concern/)\n","title":"MongoDB\\\\Driver\\\\WriteConcern::\\_\\_construct","contentType":2,"navigation":[{"mongodb-driver-writeconcern.bsonserialize.md":"« MongoDB\\\\Driver\\\\WriteConcern::bsonSerialize"},{"mongodb-driver-writeconcern.getjournal.md":"MongoDB\\\\Driver\\\\WriteConcern::getJournal »"},{"index.md":"PHP Manual"},{"class.mongodb-driver-writeconcern.md":"MongoDB\\\\Driver\\\\WriteConcern"}]}},"__N_SSG":true}