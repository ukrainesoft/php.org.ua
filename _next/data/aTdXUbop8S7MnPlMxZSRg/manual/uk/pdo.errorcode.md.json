{"pageProps":{"page":{"slug":"pdo.errorcode.md","content":"# PDO::errorCode\n\n(PHP 5 >= 5.1.0, PHP 7, PHP 8, PECL pdo >= 0.1.0)\n\nPDO::errorCode — Повертає код SQLSTATE результату останньої операції з базою даних\n\n### Опис\n\n```methodsynopsis\npublic PDO::errorCode(): ?string\n```\n\n### Список параметрів\n\nЦя функція не має параметрів.\n\n### Значення, що повертаються\n\nПовертає SQLSTATE – п'ятисимвольний ідентифікатор, визначений у стандарті ANSI SQL-92. Перші два символи SQLSTATE відповідають за клас помилки, а наступні три визначають її підклас. Клас помилок 01 означає попередження, якому супроводжує код SQL, що повертається.\\_SUCCESS\\_WITH\\_INFO. Класи, відмінні від 01, за винятком IM, означають помилки виконання запитів до бази даних. Клас 'IM' свідчить про помилки та попередження, які викликані самореалізацією PDO (або, можливо, ODBC, якщо використовується драйвер ODBC). Значення підкласу '000' у будь-якому класі означає, що підклас для цього SQLSTATE відсутній.\n\n**PDO::errorCode()** видає код помилки лише операцій, здійснюваних з базою даних безпосередньо з PDO. Якщо створити об'єкт PDOStatement методами [PDO::prepare()](pdo.prepare.md) або [PDO::query()](pdo.query.md), і викликати помилку його методами, **PDO::errorCode()** цю помилку не відобразить. Вам потрібно викликати [PDOStatement::errorCode()](pdostatement.errorcode.md), щоб отримати код помилки для операції, що виконується на певному об'єкті PDOStatement.\n\nПовертає \\*\\*`null`\\*\\*якщо жодних операцій над базою даних засобами PDO-об'єкта не проводилося.\n\n### Приклади\n\n**Приклад #1 Отримання коду SQLSTATE**\n\n```php\n<?php\n/* Спровоцируем ошибку -- таблицы BONES не существует */\n$dbh->exec(\"INSERT INTO bones(skull) VALUES ('lucy')\");\n\necho \"\\nPDO::errorCode(): \", $dbh->errorCode();\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nPDO::errorCode(): 42S02\n```\n\n### Дивіться також\n\n-   [PDO::errorInfo()](pdo.errorinfo.md) \\- Отримує розширену інформацію про помилку, що сталася під час останнього звернення до бази даних\n-   [PDOStatement::errorCode()](pdostatement.errorcode.md) \\- Отримує код SQLSTATE, пов'язаний з останньою операцією в об'єкті PDOStatement\n-   [PDOStatement::errorInfo()](pdostatement.errorinfo.md) \\- отримання розширеної інформації про помилку, що сталася в результаті роботи об'єкта PDOStatement\n","title":"PDO::errorCode","contentType":2,"navigation":[{"pdo.construct.md":"« PDO::\\_\\_construct"},{"pdo.errorinfo.md":"PDO::errorInfo »"},{"index.md":"PHP Manual"},{"class.pdo.md":"PDO"}]}},"__N_SSG":true}