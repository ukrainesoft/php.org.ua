{"pageProps":{"page":{"slug":"function.win32-query-service-status.md","content":"# win32\\_query\\_service\\_status\n\n(PECL win32service >=0.1.0)\n\nwin32\\_query\\_service\\_status — Запитує статус сервісу\n\n### Опис\n\n```methodsynopsis\nwin32_query_service_status(string $servicename, string $machine = ?): array\n```\n\nВимагає поточний статус служби, повертаючи масив інформації.\n\n### Список параметрів\n\n`servicename`\n\nКоротка назва служби.\n\n`machine`\n\nНеобов'язкове ім'я машини. Якщо не вказано, використовуватиметься локальний комп'ютер.\n\n### Значення, що повертаються\n\nПовертає масив, що складається з наступної інформації у разі успішного виконання:\n\nДо версії 1.0.0 **`false`** якщо була виявлена ​​проблема з параметрами або [код помилки Win32](win32service.constants.errors.md) при невдалому завершенні роботи.\n\n`ServiceType`\n\ndwServiceType. Смотрите[Побутові маски типів служби Win32Service](win32service.constants.servicetype.md)\n\n`CurrentState`\n\ndwCurrentState. Смотрите[Константи стану служби Win32Service](win32service.constants.servicestatus.md)\n\n`ControlsAccepted`\n\nЯкі елементи керування службами приймаються службою. Дивіться [Побутові маски Win32Service Service Control Message Accepted](win32service.constants.controlsaccepted.md)\n\n`Win32ExitCode`\n\nЯкщо служба завершила роботу, тут з'являється код повернення з процесу. Це значення дорівнює \\*\\*`WIN32_ERROR_SERVICE_SPECIFIC_ERROR`\\*\\*якщо режим виходу не є плавним. Дивіться [коди помилок Win32Service](win32service.constants.errors.md) і [win32\\_set\\_service\\_exit\\_mode()](function.win32-set-service-exit-mode.md)\n\n`ServiceSpecificExitCode`\n\nЯкщо служба завершила роботу, тут відображається код конкретної служби, зареєстрований у журналі подій. Це значення дорівнює значенню, визначеному [win32\\_set\\_service\\_exit\\_code()](function.win32-set-service-exit-code.md)\n\n`CheckPoint`\n\nЯкщо служба завершила роботу, відображається поточний номер контрольної точки. Це використовується SCM як свого роду серцебиття для виявлення процесу обслуговування, що заклинив. Значення контрольної точки найкраще інтерпретувати разом із значенням WaitHint.\n\n`WaitHint`\n\nЯкщо служба завершила роботу, вона встановить для WaitHint значення контрольної точки, яке вказуватиме на 100% завершення. Це можна використовувати для реалізації індикатора прогресу.\n\n`ProcessId`\n\nІдентифікатор Windows. Якщо 0, процес не запущено.\n\n`ServiceFlags`\n\ndwServiceFlags. Смотрите[Константи прапорів служби Win32Service](win32service.constants.serviceflag.md)\n\n### Помилки\n\nВикидається [ValueError](class.valueerror.md), если значение параметра`servicename` не вказано.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| PECL win32service 1.0.0 | Викидає [ValueError](class.valueerror.md) у разі невірних даних у параметрах раніше поверталося **`false`** |\n| PECL win32service 1.0.0 | Викидає [Win32ServiceException](class.win32serviceexception.md) у разі виникнення помилки, раніше повертався [Код помилки Win32](win32service.constants.errors.md) |\n| PECL win32service 1.0.0 | Тип повернення тепер array, раніше був [mixed](language.types.declarations.md#language.types.declarations.mixed) |\n\n### Дивіться також\n\n-   [Обумовлені константи Win32Service](win32service.constants.md)\n","title":"win32\\_query\\_service\\_status","contentType":2,"navigation":[{"function.win32-pause-service.md":"« win32\\_pause\\_service"},{"function.win32-send-custom-control.md":"win32\\_send\\_custom\\_control »"},{"index.md":"PHP Manual"},{"ref.win32service.md":"win32service"}]}},"__N_SSG":true}