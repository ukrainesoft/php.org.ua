{"pageProps":{"page":{"slug":"phar.stopbuffering.md","content":"# Phar::stopBuffering\n\n(PHP 5 >= 5.3.0, PHP 7, PHP 8, PECL phar >= 1.0.0)\n\nPhar::stopBuffering — Зупиняє буферизацію та записує всі зміни на диск\n\n### Опис\n\n```methodsynopsis\npublic Phar::stopBuffering(): void\n```\n\nМетод**Phar::stopBuffering()** використовується спільно з методом [Phar::startBuffering()](phar.startbuffering.md). . [Phar::startBuffering()](phar.startbuffering.md) може дати значний приріст продуктивності під час створення, чи модифікації phar-архіва з великою кількістю файлів. Зазвичай, коли додається новий файл або змінюється існуючий, запускається операція перестворення phar-архіву. З увімкненою буферизацією архів буде перетворено один раз наприкінці внесення змін.\n\nЦя концепція працює аналогічно транзакції в базі даних, що дозволяє зробити поза необхідні зміни та застосувати їх одночасно, в рамках однієї операції. Така поведінка забезпечує пару методів [Phar::startBuffering()](phar.startbuffering.md) **Phar::stopBuffering()**\n\nНалаштування буферизації є індивідуальними для кожного архіву. Включена буферизація для `foo.phar` ніяк не впливає на режим роботи з `bar.phar`\n\n### Список параметрів\n\nЦя функція не має параметрів.\n\n### Значення, що повертаються\n\nФункція не повертає значення після виконання.\n\n### Помилки\n\nУ разі проблем із записом на диск буде викинуто виняток [PharException](class.pharexception.md)\n\n### Приклади\n\n**Приклад #1 Приклад використання** Phar::stopBuffering()\\*\\*\\*\\*\n\n```php\n<?php\n$p = new Phar(dirname(__FILE__) . '/brandnewphar.phar', 0, 'brandnewphar.phar');\n$p['file1.txt'] = 'hi';\n$p->startBuffering();\nvar_dump($p->getStub());\n$p->setStub(\"<?php\nfunction __autoload(\\$class)\n{\n    include 'phar://brandnewphar.phar/' . str_replace('_', '/', \\$class) . '.php';\n}\nPhar::mapPhar('brandnewphar.phar');\ninclude 'phar://brandnewphar.phar/startup.php';\n__HALT_COMPILER();\");\n$p->stopBuffering();\nvar_dump($p->getStub());\n?>\n```\n\nРезультат виконання наведеного прикладу:\n\n```\nstring(24) \"<?php __HALT_COMPILER();\"\nstring(195) \"<?php\nfunction __autoload($class)\n{\n    include 'phar://' . str_replace('_', '/', $class);\n}\nPhar::mapPhar('brandnewphar.phar');\ninclude 'phar://brandnewphar.phar/startup.php';\n__HALT_COMPILER();\"\n```\n\n### Дивіться також\n\n-   [Phar::startBuffering()](phar.startbuffering.md) \\- Запускає буферизацію операцій запису, відключаючи запис змін Phar-архіву на диск\n-   [Phar::isBuffering()](phar.isbuffering.md) \\- Перевірити, чи будуть операції з Phar-архівом буферизовані чи записані безпосередньо на диск\n","title":"Phar::stopBuffering","contentType":2,"navigation":[{"phar.startbuffering.md":"« Phar::startBuffering"},{"phar.unlinkarchive.md":"Phar::unlinkArchive »"},{"index.md":"PHP Manual"},{"class.phar.md":"Phar"}]}},"__N_SSG":true}