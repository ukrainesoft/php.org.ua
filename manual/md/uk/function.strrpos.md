- [«strripos](function.strripos.md)
- [strspn »] (function.strspn.md)

- [PHP Manual](index.md)
- [Функції для роботи з рядками](ref.strings.md)
- Повертає позицію останнього входження підрядка у рядку

#strrpos

(PHP 4, PHP 5, PHP 7, PHP 8)

strrpos — Повертає позицію останнього входження підрядка в рядку

### Опис

**strrpos**(string `$haystack`, string `$needle`, int `$offset` u003d 0):
int\|false

Шукає позицію останнього входження підрядки `needle` у рядок
`haystack`.

### Список параметрів

`haystack`
Рядок, в якому проводиться пошук.

`needle`
До PHP 8.0.0 якщо параметр `needle` не є рядком, він
перетворюється на ціле число і сприймається як код символу. Ця поведінка
застаріло з PHP 7.3.0, і покладатися на нього не рекомендується. В
Залежно від передбачуваної поведінки, параметр `needle` має бути
або явно приведений до рядка, або має бути виконаний явний виклик
[chr()](function.chr.md).

`offset`
Якщо дорівнює або більше нуля, то пошук буде йти зліва направо і, якщо
При цьому, будуть пропущені перші `offset` байт рядка `haystack`.

Якщо менше нуля, то пошук йтиме праворуч наліво. При цьому будуть
відкинуті `offset` байт з кінця `haystack` та знайдено перше знайдене
входження `needle`.

> **Примітка**:
>
> Фактично це буде останнє входження `needle` без урахування `offset`
> Останніх байт.

### Значення, що повертаються

Повертає номер позиції останнього входження needle щодо початку
рядки `haystack` (незалежно від напрямку пошуку та зміщення
(Offset)).

> **Примітка**: Позиція рядка рядка відраховується від 0, а не від 1.

Повертає **`false`**, якщо шуканий рядок не знайдено.

**Увага**

Ця функція може повертати як логічне значення **`false`**, так і
значення не типу boolean, яке наводиться до **`false`**. Більше
Детальнішу інформацію зверніться до розділу [Булев
тип](language.types.boolean.md). Використовуйте [оператор
u003du003du003d](language.operators.comparison.md) для перевірки значення,
повертається цією функцією.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- --------------------------|
| 8.0.0 | Передача цілого числа (int) у `needle` більше не підтримується. |
| 7.3.0 | Передача цілого числа (int) у `needle` оголошена застарілою. |

### Приклади

**Приклад #1 Перевірка існування рядка**

Легко помилитися і переплутати значення, що повертаються у випадках "символ
знайдено в нульовій позиції" і "символ не знайдено". Ось так можна дізнатися
різницю:

` <?php$pos u003d strrpos($mystring, "b");if ($pos u003du003du003d false) { // зверніть увагу: три знака рівності    // не найдено...}?> `

**Приклад #2 Пошук зі зміщенням**

` <?php$foo u003d "0123456789a123456789b123456789c";var_dump(strrpos($foo, '7', -5)); // Пошук| Результат: int(17)var_dump(strrpos($foo, '7', 20)); // Починає пошук з 20 позиції в рядку. // Результат: int(27)var_dump(strrpos($foo, '7', 28)); //Результат:bool(false)?> `

Результат виконання цього прикладу:

int(0)
bool(false)
int(27)
bool(false)
int(17)
bool(false)
int(29)

### Дивіться також

- [strpos()](function.strpos.md) - Повертає позицію першого
входження підрядки
- [stripos()](function.stripos.md) - Повертає позицію першого
входження підрядки без урахування регістру
- [strripos()](function.strripos.md) - Повертає позицію останнього
входження підрядки без урахування регістру
- [strrchr()](function.strrchr.md) - Знаходить останнє входження
символу в рядку
- [substr()](function.substr.md) - Повертає підрядок
