{"pageProps":{"page":{"slug":"function.pg-connect.md","content":"# pg\\_connect\n\n(PHP 4, PHP 5, PHP 7, PHP 8)\n\npg\\_connect — Відкриває з'єднання з базою даних PostgreSQL\n\n### Опис\n\n```methodsynopsis\npg_connect(string $connection_string, int $flags = 0): PgSql\\Connection|false\n```\n\n**pg\\_connect()** відкриває з'єднання з базою даних PostgreSQL, визначене рядком `connection_string`\n\nПри повторному виклику функції **pg\\_connect()** з тими ж значеннями параметрів `connection_string` функція поверне існуюче підключення. Щоб примусово створити нове з'єднання, необхідно надіслати рядок підключення функції **`PGSQL_CONNECT_FORCE_NEW`** як параметр `flags`\n\nПрежний синтаксис с множеством параметров\\*\\*$conn = pg\\_connect(\"host\", \"port\", \"options\", \"tty\", \"dbname\")\\*\\*считается устаревшим.\n\n### Список параметрів\n\n`connection_string`\n\nРядок `connection_string` може бути порожнім рядком або містити кілька параметрів, розділених пробілами. Кожен параметр вказується як `keyword = value`. . Прогалини навколо знака \"однаково\" необов'язкові. Порожні рядки як значення або значення, що містять пробіли, відокремлюються одинарними лапками, як наприклад, `keyword = 'a value'`. Для запису одинарних лапок і зворотних слішів як значення, їх необхідно екранувати зворотним слешем, тобто \\\\' і \\\\\\\\\n\nСписок основних ключових слів: `host` `hostaddr` `port` `dbname`(значение по умолчанию для параметра`user` `user` `password` `connect_timeout` `options` `tty` (ігнорується), `sslmode` `requiressl`(устарело в связи с использованием параметра`sslmode`), и`service`. Які з цих аргументів будуть опрацьовані, залежить від версії PostgreSQL.\n\nПараметр`options` служить для встановлення параметрів командного рядка, оброблених сервером.\n\n`flags`\n\nЕсли в функцию передана константа\\*\\*`PGSQL_CONNECT_FORCE_NEW`\\*\\*, буде створюватися нове підключення, навіть якщо `connection_string` ідентична рядку існуючого підключення.\n\nЕсли передана константа\\*\\*`PGSQL_CONNECT_ASYNC`\\*\\*, то з'єднання встановлюється асинхронним. Стан з'єднання можна перевірити за допомогою функцій [pg\\_connect\\_poll()](function.pg-connect-poll.md) або [pg\\_connection\\_status()](function.pg-connection-status.md)\n\n### Значення, що повертаються\n\nПовертає екземпляр [PgSql\\\\Connection](class.pgsql-connection.md) у разі успішного виконання або \\*\\*`false`\\*\\*в случае возникновения ошибки.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 8.1.0 | Повертає екземпляр [PgSql\\\\Connection](class.pgsql-connection.md); раніше повертався ресурс ([resource](language.types.resource.md) |\n\n### Приклади\n\n**Приклад #1 Использование функции**pg\\_connect()\\*\\*\\*\\*\n\n```php\n<?php\n$dbconn = pg_connect(\"dbname=mary\");\n//подключиться к базе \"mary\"\n\n$dbconn2 = pg_connect(\"host=localhost port=5432 dbname=mary\");\n//подключиться к базе \"mary\" на хосте \"localhost\", порт \"5432\"\n\n$dbconn3 = pg_connect(\"host=sheep port=5432 dbname=mary user=lamb password=foo\");\n//подключиться к базе \"mary\" на хосте \"sheep\", используя имя пользователя и пароль\n\n$conn_string = \"host=sheep port=5432 dbname=test user=lamb password=bar\";\n$dbconn4 = pg_connect($conn_string);\n//подключиться к базе \"test\" на хосте \"sheep\", используя имя пользователя и пароль\n\n$dbconn5 = pg_connect(\"host=localhost options='--client_encoding=UTF8'\");\n//подключиться к базе на хосте \"localhost\" и передать параметр командной строки, задающий кодировку UTF-8\n?>\n```\n\n### Дивіться також\n\n-   [pg\\_pconnect()](function.pg-pconnect.md) \\- Відкриває постійне з'єднання із сервером PostgreSQL\n-   [pg\\_close()](function.pg-close.md) \\- Закриває з'єднання з базою даних PostgreSQL\n-   [pg\\_host()](function.pg-host.md) \\- Повертає ім'я хоста, що відповідає підключенню\n-   [pg\\_port()](function.pg-port.md) \\- Повертає номер порту, який відповідає заданому з'єднанню\n-   [pg\\_tty()](function.pg-tty.md) \\- Повертає ім'я терміналу TTY, пов'язане зі з'єднанням\n-   [pg\\_options()](function.pg-options.md) \\- Отримання параметрів з'єднання із сервером баз даних\n-   [pg\\_dbname()](function.pg-dbname.md) \\- Визначає ім'я бази даних\n","title":"pg\\_connect","contentType":2,"navigation":[{"function.pg-connect-poll.md":"« pg\\_connect\\_poll"},{"function.pg-connection-busy.md":"pg\\_connection\\_busy »"},{"index.md":"PHP Manual"},{"ref.pgsql.md":"Функції PostgreSQL"}]}},"__N_SSG":true}