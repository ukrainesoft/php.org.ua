{"pageProps":{"page":{"slug":"mysql-xdevapi-collection.replaceone.md","content":"# Collection::replaceOne\n\n(No version information available, might only be in Git)\n\nCollection::replaceOne — Замінює один документ колекції\n\n### Опис\n\n```methodsynopsis\npublic mysql_xdevapi\\Collection::replaceOne(string $id, string $doc): mysql_xdevapi\\Result\n```\n\nОновлює (або замінює) документ за ідентифікатором, якщо він існує.\n\n### Список параметрів\n\n`id`\n\nІдентифікатор документа для заміни чи оновлення. Зазвичай це \\_id, який було згенеровано MySQL Server при додаванні запису.\n\n`doc`\n\nДокумент колекції для оновлення або заміни документа, що відповідає параметру **id**\n\nДокумент може бути об'єктом документа або коректним рядком JSON, що описує новий документ.\n\n### Значення, що повертаються\n\nОб'єкт Result, який можна використовувати для запиту кількості порушених елементів та кількості попереджень, згенерованих операцією.\n\n### Приклади\n\n**Приклад #1 Приклад використання** mysql\\_xdevapi\\\\Collection::replaceOne()\\*\\*\\*\\*\n\n```php\n<?php\n$session = mysql_xdevapi\\getSession(\"mysqlx://user:password@localhost\");\n\n$session->sql(\"DROP DATABASE IF EXISTS addressbook\")->execute();\n$session->sql(\"CREATE DATABASE addressbook\")->execute();\n\n$schema     = $session->getSchema(\"addressbook\");\n$collection = $schema->createCollection(\"people\");\n\n$result = $collection->add('{\"name\": \"Alfred\", \"age\": 18, \"job\": \"Butler\"}')->execute();\n\n// Обычно _id известен другими способами,\n// но для этого Приклада давайте извлечём сгенерированный идентификатор и используем его\n$ids       = $result->getGeneratedIds();\n$alfred_id = $ids[0];\n\n// ...\n\n$alfred = $collection->getOne($alfred_id);\n$alfred['age'] = 81;\n$alfred['job'] = 'Guru';\n\n$collection->replaceOne($alfred_id, $alfred);\n\n?>\n```\n","title":"Collection::replaceOne","contentType":2,"navigation":[{"mysql-xdevapi-collection.removeone.md":"« Collection::removeOne"},{"class.mysql-xdevapi-collectionadd.md":"mysql\\_xdevapi\\\\CollectionAdd »"},{"index.md":"PHP Manual"},{"class.mysql-xdevapi-collection.md":"mysql\\_xdevapi\\\\Collection"}]}},"__N_SSG":true}