- [« Функції IBM DB2](ref.ibm-db2.md)
- [db2_bind_param »](function.db2-bind-param.md)

- [PHP Manual](index.md)
- [Функції IBM DB2](ref.ibm-db2.md)
- Повертає або встановлює режим автопідтвердження транзакцій для
з'єднання

#db2_autocommit

(PECL ibm_db2 \>u003d 1.0.0)

db2_autocommit — Повертає або встановлює режим автопідтвердження
транзакцій для з'єднання

### Опис

**db2_autocommit**(resource `$connection`, bool `$value` u003d ?):
[mixed](language.types.declarations.md#language.types.declarations.mixed)

Повертає або встановлює режим автопідтвердження транзакцій для
зазначеного з'єднання.

### Список параметрів

`connection`
Змінна, що містить активний ресурс підключення, отриманий за допомогою
[db2_connect()](function.db2-connect.md) або
[db2_pconnect()](function.db2-pconnect.md).

`value`
Одна з наступних констант:

`DB2_AUTOCOMMIT_OFF`
Вимикає автопідтвердження.

`DB2_AUTOCOMMIT_ON`
Включає підтвердження.

### Значення, що повертаються

Якщо **db2_autocommit()** передати тільки параметр `connection`, вона
поверне значення поточного режиму для цього з'єднання у вигляді цілого числа
приймаючого значення **`DB2_AUTOCOMMIT_OFF`**, якщо автопідтвердження
вимкнено і **`DB2_AUTOCOMMIT_ON`**, якщо увімкнено.

Якщо в **db2_autocommit()** передані обидва параметри, `connection` і
`autocommit`, вона спробує встановити для заданого з'єднання
вказаний режим автопідтвердження. Повертає **`true`** у разі
успішного виконання або **`false`** у разі виникнення помилки.

### Приклади

**Приклад #1 Отримання поточного режиму підтвердження транзакцій**

У наступному прикладі ми створимо з'єднання з вимкненим
автопідтвердженням та перевіримо його за допомогою **db2_autocommit()**.

` <?php$options u003d array('autocommit' u003d> DB2_AUTOCOMMIT_OFF);$conn u003d db2_connect($database, $user, $password, $options);$ac u003d db2_autocommit($conn);if ($u003d DB2_AUTOCOMMIT_OFF) { {   print "$ac -- автопідтвердження включено.";} else {    print "$ac -- автопідтвердження відключено.";}?> `

Результат виконання цього прикладу:

0 - автопідтвердження відключено.

**Приклад #2 Встановлення режиму автопідтвердження транзакції**

У наступному прикладі ми створимо з'єднання з вимкненим
автопідтвердженням, після чого його включимо та перевіримо.

` <?php$options u003d array('autocommit' u003d> DB2_AUTOCOMMIT_OFF);$conn u003d db2_connect($database, $user, $password, $options);// Включаємо автопідтвердження$rc u003d ; if ($rc) {    print "Автопідтвердження успішно включено.
";}// ппроверяет текущий режим$ac u003d db2_autocommit($conn);if ($ac u003du003d DB2_AUTOCOMMIT_OFF) {    print "$ac -- автоподтверждение включено.";} else {    print "$ac -- автоподтверждение отключено." ;}?> `

Результат виконання цього прикладу:

Автопідтвердження успішно увімкнено.
1 - автопідтвердження увімкнено.

### Дивіться також

- [db2_connect()](function.db2-connect.md) - Повертає з'єднання з
базою даних
- [db2_pconnect()](function.db2-pconnect.md) - Повертає постійне
з'єднання з базою даних
