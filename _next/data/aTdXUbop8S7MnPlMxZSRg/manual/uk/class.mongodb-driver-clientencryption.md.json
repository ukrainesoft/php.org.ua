{"pageProps":{"page":{"slug":"class.mongodb-driver-clientencryption.md","content":"# Клас MongoDB\\\\Driver\\\\ClientEncryption\n\n(mongodb >=1.7.0)\n\n## Вступ\n\nКласс**MongoDB\\\\Driver\\\\ClientEncryption** обробляє як створення ключів шифрування за клієнта, і ручне шифрування/дешифрування.\n\n## Огляд класів\n\n```classsynopsis\n\n\n    \n    \n     final\n     \n      class MongoDB\\Driver\\ClientEncryption\n     \n     {\n    \n\n    \n    /* Constants */\n    \n     const\n     string\n      AEAD_AES_256_CBC_HMAC_SHA_512_DETERMINISTIC = AEAD_AES_256_CBC_HMAC_SHA_512-Deterministic;\n\n    const\n     string\n      AEAD_AES_256_CBC_HMAC_SHA_512_RANDOM = AEAD_AES_256_CBC_HMAC_SHA_512-Random;\n\n    const\n     string\n      ALGORITHM_INDEXED = Indexed;\n\n    const\n     string\n      ALGORITHM_UNINDEXED = Unindexed;\n\n    const\n     string\n      ALGORITHM_RANGE_PREVIEW = RangePreview;\n\n    const\n     string\n      QUERY_TYPE_EQUALITY = equality;\n\n    const\n     string\n      QUERY_TYPE_RANGE_PREVIEW = rangePreview;\n\n\n    /* Методы */\n    \n   final public addKeyAltName(MongoDB\\BSON\\Binary $keyId, string $keyAltName): ?object\nfinal public __construct(array $options)\nfinal public createDataKey(string $kmsProvider, ?array $options = null): MongoDB\\BSON\\Binary\nfinal public decrypt(MongoDB\\BSON\\Binary $value): mixed\nfinal public deleteKey(MongoDB\\BSON\\Binary $keyId): object\nfinal public encrypt(mixed $value, ?array $options = null): MongoDB\\BSON\\Binary\nfinal public encryptExpression(array|object $expr, ?array $options = null): object\nfinal public getKey(MongoDB\\BSON\\Binary $keyId): ?object\nfinal public getKeyByAltName(string $keyAltName): ?object\nfinal public getKeys(): MongoDB\\Driver\\Cursor\nfinal public removeKeyAltName(MongoDB\\BSON\\Binary $keyId, string $keyAltName): ?object\nfinal public rewrapManyDataKey(array|object $filter, ?array $options = null): object\n\n   }\n```\n\n## Обумовлені константи\n\n**`MongoDB\\Driver\\ClientEncryption::AEAD_AES_256_CBC_HMAC_SHA_512_DETERMINISTIC`**\n\nВизначає алгоритм для [» детермінованого шифрування](https://www.mongodb.com/docs/manual/core/security-client-side-encryption/#deterministic-encryption)який підходить для запитів.\n\n**`MongoDB\\Driver\\ClientEncryption::AEAD_AES_256_CBC_HMAC_SHA_512_RANDOM`**\n\nВизначає алгоритм для [»¦рандомізованого шифрування](https://www.mongodb.com/docs/manual/core/security-client-side-encryption/#randomized-encryption)\n\n**`MongoDB\\Driver\\ClientEncryption::ALGORITHM_INDEXED`**\n\nВизначає алгоритм для індексованого, зашифрованого корисного навантаження, яке може бути використане з шифруванням з можливістю запиту.\n\nДля додавання або запиту з індексованим, зашифрованим корисним навантаженням [MongoDB\\\\Driver\\\\Manager](class.mongodb-driver-manager.md) має бути налаштований з опцією драйвера `\"autoEncryption\"`Опция`\"bypassQueryAnalysis\"` автоматичне шифрування може бути встановлене як \\*\\*`true`\\*\\*Параметр`\"bypassAutoEncryption\"` автоматичного шифрування має бути **`false`**\n\n**`MongoDB\\Driver\\ClientEncryption::ALGORITHM_UNINDEXED`**\n\nВказує алгоритм для неіндексованого, зашифрованого корисного навантаження.\n\n**`MongoDB\\Driver\\ClientEncryption::ALGORITHM_RANGE_PREVIEW`**\n\nВизначає алгоритм для діапазону зашифрованого корисного навантаження, яке може бути використане з шифруванням з можливістю запиту.\n\nДля виконання запиту із зашифрованим корисним навантаженням діапазону [MongoDB\\\\Driver\\\\Manager](class.mongodb-driver-manager.md) має бути налаштований з опцією драйвера `\"autoEncryption\"`Опция`\"bypassQueryAnalysis\"` автоматичного шифрування може бути \\*\\*`true`\\*\\*Параметр`\"bypassAutoEncryption\"` автоматичного шифрування має бути **`false`**\n\n> **Зауваження** :\n> \n> Алгоритм діапазону є експериментальним. Він призначений для громадського використання.\n> \n> Драйвер PHP поки не підтримує запити діапазону типів полів decimal128 BSON.\n\n**`MongoDB\\Driver\\ClientEncryption::QUERY_TYPE_EQUALITY`**\n\nВизначає тип запиту рівності, який використовується у поєднанні з **`MongoDB\\Driver\\ClientEncryption::ALGORITHM_INDEXED`**\n\n**`MongoDB\\Driver\\ClientEncryption::QUERY_TYPE_RANGE_PREVIEW`**\n\nЗадає тип запиту діапазону, який використовується у поєднанні з **`MongoDB\\Driver\\ClientEncryption::ALGORITHM_RANGE_PREVIEW`**\n\n## список змін\n\n| Версия | Опис |\n| --- | --- |\n| PECL mongodb 1.16.0 | Додані константи **`MongoDB\\Driver\\ClientEncryption::ALGORITHM_RANGE_PREVIEW`** і **`MongoDB\\Driver\\ClientEncryption::QUERY_TYPE_RANGE_PREVIEW`** |\n| PECL mongodb 1.14.0 | Додані константи **`MongoDB\\Driver\\ClientEncryption::ALGORITHM_INDEXED`** **`MongoDB\\Driver\\ClientEncryption::ALGORITHM_UNINDEXED`** і **`MongoDB\\Driver\\ClientEncryption::QUERY_TYPE_EQUALITY`** |\n\n## Дивіться також\n\n-   [MongoDB\\\\Driver\\\\Manager::createClientEncryption()](mongodb-driver-manager.createclientencryption.md)\n\n## Зміст\n\n-   [MongoDB\\\\Driver\\\\ClientEncryption::addKeyAltName](mongodb-driver-clientencryption.addkeyaltname.md)— Додає альтернативне ім'я до документа із ключем\n-   [MongoDB\\\\Driver\\\\ClientEncryption::\\_\\_construct](mongodb-driver-clientencryption.construct.md)— Створює новий об'єкт ClientEncryption\n-   [MongoDB\\\\Driver\\\\ClientEncryption::createDataKey](mongodb-driver-clientencryption.createdatakey.md)— Створює документ із ключем\n-   [MongoDB\\\\Driver\\\\ClientEncryption::decrypt](mongodb-driver-clientencryption.decrypt.md) \\- Розшифрувати дані\n-   [MongoDB\\\\Driver\\\\ClientEncryption::deleteKey](mongodb-driver-clientencryption.deletekey.md)— Видаляє документ із ключем\n-   [MongoDB\\\\Driver\\\\ClientEncryption::encrypt](mongodb-driver-clientencryption.encrypt.md) \\- Шифрує дані\n-   [MongoDB\\\\Driver\\\\ClientEncryption::encryptExpression](mongodb-driver-clientencryption.encryptexpression.md)— Шифрує збіг чи агрегований вираз\n-   [MongoDB\\\\Driver\\\\ClientEncryption::getKey](mongodb-driver-clientencryption.getkey.md)— Отримує документ із ключем\n-   [MongoDB\\\\Driver\\\\ClientEncryption::getKeyByAltName](mongodb-driver-clientencryption.getkeybyaltname.md)— Отримує документ із ключем щодо альтернативного імені\n-   [MongoDB\\\\Driver\\\\ClientEncryption::getKeys](mongodb-driver-clientencryption.getkeys.md)— Отримує всі документи із ключем\n-   [MongoDB\\\\Driver\\\\ClientEncryption::removeKeyAltName](mongodb-driver-clientencryption.removekeyaltname.md)— Видаляє альтернативне ім'я з документа із ключем\n-   [MongoDB\\\\Driver\\\\ClientEncryption::rewrapManyDataKey](mongodb-driver-clientencryption.rewrapmanydatakey.md)— Перевертає ключі даних\n","title":"Клас MongoDB\\\\Driver\\\\ClientEncryption","contentType":2,"navigation":[{"mongodb-driver-session.starttransaction.md":"« MongoDB\\\\Driver\\\\Session::startTransaction"},{"mongodb-driver-clientencryption.addkeyaltname.md":"MongoDB\\\\Driver\\\\ClientEncryption::addKeyAltName »"},{"index.md":"PHP Manual"},{"book.mongodb.md":"MongoDB\\\\Driver"}]}},"__N_SSG":true}