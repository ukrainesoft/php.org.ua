{"pageProps":{"page":{"slug":"luasandbox.registerlibrary.md","content":"# LuaSandbox::registerLibrary\n\n(PECL luasandbox >= 1.0.0)\n\nLuaSandbox::registerLibrary — Реєструє набір PHP-функцій як бібліотеку Lua\n\n### Опис\n\n```methodsynopsis\npublic LuaSandbox::registerLibrary(string $libname, array $functions): void\n```\n\nРеєструє набір PHP-функцій як бібліотеку Lua, щоб Lua міг викликати відповідний PHP-код.\n\nДля отримання додаткової інформації про виклик функцій Lua та значення, що повертаються дивіться [LuaSandboxFunction::call()](luasandboxfunction.call.md)\n\n### Список параметрів\n\n`libname`\n\nНазва бібліотеки. У стані Lua глобальна змінна з цим ім'ям буде встановлено таблицю функцій. Якщо таблиця вже існує, до неї буде додано нові функції.\n\n`functions`\n\nМасив (array), де кожен ключ - це ім'я функції, а кожне значення - це відповідний ([callable](language.types.callable.md)) PHP-код.\n\n### Значення, що повертаються\n\nФункція не повертає значення після виконання.\n\n### Приклади\n\n**Приклад #1 Реєстрація PHP-функцій для виклику з Lua**\n\n```php\n<?php\n\n// создание нового LuaSandbox\n$sandbox = new LuaSandbox();\n\n// регистрация некоторых функций в среде Lua\n\nfunction frobnosticate( $v ) {\n    return [ $v + 42 ];\n}\n\n$sandbox->registerLibrary( 'php', [\n    'frobnosticate' => 'frobnosticate',\n    'output' => function ( $string ) {\n        echo \"$string\\n\";\n    },\n    'error' => function () {\n        throw new LuaSandboxRuntimeError( \"Что-то пошло не так\" );\n    }\n] );\n\n?>\n```\n\n### Дивіться також\n\n-   [LuaSandbox::loadString()](luasandbox.loadstring.md) \\- Завантажує код Lua у середу Lua\n-   [LuaSandbox::wrapPhpFunction()](luasandbox.wrapphpfunction.md) \\- Обертає викликаний PHP-об'єкт у LuaSandboxFunction\n","title":"LuaSandbox::registerLibrary","contentType":2,"navigation":[{"luasandbox.pauseusagetimer.md":"« LuaSandbox::pauseUsageTimer"},{"luasandbox.setcpulimit.md":"LuaSandbox::setCPULimit »"},{"index.md":"PHP Manual"},{"class.luasandbox.md":"LuaSandbox"}]}},"__N_SSG":true}