- [«hash_init](function.hash-init.md)
- [hash_update_file »](function.hash-update-file.md)

- [PHP Manual](index.md)
- [Функції Hash](ref.hash.md)
- Формування ключа PBKDF2 для заданих вхідних даних

# hash_pbkdf2

(PHP 5 \>u003d 5.5.0, PHP 7, PHP 8)

hash_pbkdf2 — Формування ключа PBKDF2 для вхідних даних.

### Опис

**hash_pbkdf2**(
string `$algo`,
string `$password`,
string `$salt`,
int `$iterations`,
int `$length` u003d 0,
bool `$binary` u003d **`false`**
): string

### Список параметрів

`algo`
Ім'я обраного хешируючого алгоритму (наприклад, `md5`, `sha256`,
`haval160,4` і т.д.) Список підтримуваних алгоритмів можна переглянути в
опис функції [hash_algos()](function.hash-algos.md).

`password`
Пароль, що використовується для формування.

`salt`
Сіль, що використовується при формуванні ключа. Значення необхідне
генерувати випадковим чином.

`iterations`
Кількість ітерацій на формування ключа.

`length`
Довжина рядка, що генерується. Якщо параметр `binary` заданий як **`true`**,
то цей параметр дорівнює кількості байт у ключі, що генерується. Якщо
`binary` встановлений як **`false`**, то довжина ключа в байтах буде у два
рази менше, тому що кожен байт ключа буде повернутий у вигляді двох
символів шістнадцяткової системи (0-F).

Якщо встановлено як `0`, то використовується весь висновок заданого алгоритму.

`binary`
Якщо встановлено **`true`**, то висновок являтиме собою
необроблені бінарні дані, а якщо **`false`**, то висновок буде
представлений у вигляді рядка шістнадцяткових цифр у нижньому регістрі.

### Значення, що повертаються

Повертається рядок містить сформований ключ у вигляді рядка
шістнадцяткових чисел у нижньому регістрі. Але якщо параметр `binary`
встановлений як **`true`**, то буде повернено сирі бінарні дані.

### Помилки

Помилка рівня **`E_WARNING`** буде викликана якщо заданий алгоритм
некоректний, параметр `iterations` менший або дорівнює `0`, параметр
`length` менше ніж `0` або якщо `salt` дуже довгий (більше ніж
**`INT_MAX`**` - 4`).

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- ------------------------------|
| 7.2.0 | Заборонено використання некриптографічних функцій (adler32, crc32, crc32b, fnv132, fnv1a32, fnv164, fnv1a64, joaat). |

### Приклади

**Приклад #1 Приклад простого використання **hash_pbkdf2()****

` <?php$password u003d "password";$iterations u003d 1000;// Создаём случайный инициализирующий вектор// с помощью openssl_random_pseudo_bytes() или другого источника случайных данных$salt u003d openssl_random_pseudo_bytes(16);$hash u003d hash_pbkdf2("sha256" , $password, $salt, $iterations, 20);var_dump($hash);// для необробленого двійкового файлу параметр $length повинен бути зменшений по 2 на 2 , $iterations, 10, true);var_dump(bin2hex($hash));?> `

Результатом виконання цього прикладу буде щось подібне:

string(20) "120fb6cffcf8b32c43e7"
string(20) "120fb6cffcf8b32c43e7"

### Примітки

**Застереження**

Метод PBKDF2 може бути використаний для хешування паролів з метою їх
зберігання. Однак варто пам'ятати, що для цих цілей набагато краще
використовувати [password_hash()](function.password-hash.md) або
[crypt()](function.crypt.md) з **`CRYPT_BLOWFISH`**.

### Дивіться також

- [crypt()](function.crypt.md) - Необоротне хешування рядка
- [password_hash()](function.password-hash.md) - Створює хеш пароля
- [hash()](function.hash.md) - Генерує хеш-код (підпис
повідомлення)
- [hash_algos()](function.hash-algos.md) - Повертає список
зареєстрованих алгоритмів хешування
- [hash_init()](function.hash-init.md) - Ініціалізація
інкрементального контексту хешування
- [hash_hmac()](function.hash-hmac.md) - Генерація хеш-коду на
основі ключа, використовуючи метод HMAC
- [hash_hmac_file()](function.hash-hmac-file.md) - Генерація
хеш-коду на основі ключа, використовуючи метод HMAC та вміст
отриманого файлу
- [openssl_pbkdf2()](function.openssl-pbkdf2.md) - Генерує рядки
PKCS5 v2 PBKDF2
