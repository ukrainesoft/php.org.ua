{"pageProps":{"page":{"slug":"context.ssl.md","content":"# Опції контексту SSL\n\nОпції контексту SSL — Список опцій контексту SSL\n\n### Опис\n\nОпції контексту для протоколів `ssl://`и`tls://`\n\n### Опції\n\n`peer_name`string\n\nІм'я вузла. Якщо його значення не задано, тоді ім'я підставляється на основі імені хоста, використаного при відкритті потоку.\n\n`verify_peer`bool\n\nВимагати перевірки SSL-сертифіката.\n\nПо умолчанию\\*\\*`true`\\*\\*\n\n`verify_peer_name`bool\n\nВимагати перевірки імені вузла.\n\nПо умолчанию\\*\\*`true`\\*\\*\n\n`allow_self_signed`bool\n\nДозволити самопідписані сертифікати. Вимагає [`verify_peer`](context.ssl.md#context.ssl.verify-peer)\n\nПо умолчанию\\*\\*`false`\\*\\*\n\n`cafile`string\n\nРозташування файлу сертифіката у локальній файловій системі, який слід використовувати з опцією контексту `verify_peer` для автентифікації віддаленого вузла.\n\n`capath`string\n\nЯкщо параметр `cafile` не визначено або сертифікат не знайдено, здійснюється пошук у директорії, зазначеній у `capath`. Шлях `capath` повинен бути до коректної директорії, що містить сертифікати, імена яких є хеш від поля subject, зазначеного в сертифікаті.\n\n`local_cert`string\n\nШлях до локального сертифіката у файловій системі. Це має бути файл, закодований у PEM, який містить ваш сертифікат та закритий ключ. Він може додатково містити відкритий ключ емітента. Закритий ключ також може міститися в окремому файлі, заданому `local_pk`\n\n`local_pk`string\n\nШлях до локального файлу з приватним ключем у разі окремих файлів сертифіката (`local_cert`) та приватного ключа.\n\n`passphrase`string\n\nІдентифікаційна фраза, з якою ваш файл `local_cert` було закодовано.\n\n`verify_depth`int\n\nПерервати, якщо ланцюжок сертифіката занадто довгий.\n\nЗа промовчанням перевірка відсутня.\n\n`ciphers`string\n\nВстановлює перелік доступних алгоритмів шифрування. Формат цього рядка описаний у розділі [» шифри(1)](https://www.openssl.org/docs/manmaster/man1/ciphers.md#CIPHER-LIST-FORMAT)\n\nПо умолчанию принимает значение`DEFAULT`\n\n`capture_peer_cert`bool\n\nЕсли установлено в\\*\\*`true`\\*\\*, то будет создана опция контекста`peer_certificate`містить сертифікат віддаленого вузла.\n\n`capture_peer_cert_chain`bool\n\nЕсли установлено в\\*\\*`true`\\*\\*, то будет создана опция контекста`peer_certificate_chain`, що містить ланцюжок сертифікатів\n\n`SNI_enabled`bool\n\nЕсли установлено в\\*\\*`true`\\*\\*, то буде включено вказівку імені сервера. Включення SNI дозволяє використовувати різні сертифікати на тому самому IP-адресі.\n\n`disable_compression`bool\n\nВимикає стиск TLS, що допомагає запобігти атакам типу CRIME.\n\n`peer_fingerprint`string | array\n\nПерерватися, якщо дайджест повідомлення не збігається із зазначеним хешом.\n\nЯкщо зазначений рядок (string), то його довжина визначає який алгоритм хешування буде використаний: \"md5\" (32) або \"sha1\" (40).\n\nЯкщо зазначений масив (array), ключі визначають алгоритм хешування, а кожне відповідне значення є необхідним хешом.\n\n`security_level`int\n\nВстановлює рівень безпеки. Якщо не вказано, використовується стандартний рівень безпеки, вказаний у бібліотеці. Рівні безпеки описані в [» SSL\\_CTX\\_get\\_security\\_level(3)](https://www.openssl.org/docs/man1.1.1/man3/SSL_CTX_get_security_level.md)\n\nДоступна з PHP 7.2.0 та OpenSSL 1.1.0.\n\n### список змін\n\n| Версия | Опис |\n| --- | --- |\n| 7.2.0 | Добавлен`security_level`. . Потрібно OpenSSL >= 1.1.0. |\n\n### Примітки\n\n> **Зауваження**: Так как`ssl://` - це нижчележачий транспортний протокол для обгорток [`https://`](wrappers.http.md) і [`ftps://`](wrappers.ftp.md), то будь-які опції контексту, які застосовуються до `ssl://`будут также применяться к`https://`и`ftps://`\n\n> **Зауваження**: Щоб була доступна можливість вказати ім'я сервера (SNI, Server Name Indication), PHP має бути скомпільований з OpenSSL 0.9.8j або пізнішою. Використовуйте константу **`OPENSSL_TLSEXT_SERVER_NAME`** щоб визначити, чи підтримується SNI.\n\n### Дивіться також\n\n-   [Контекстні опції сокету](context.socket.md)\n","title":"Опції контексту SSL","contentType":2,"navigation":[{"context.ftp.md":"« Параметри контексту FTP"},{"context.phar.md":"Контекстні опції Phar »"},{"index.md":"PHP Manual"},{"context.md":"Контекстні опції та параметри"}]}},"__N_SSG":true}