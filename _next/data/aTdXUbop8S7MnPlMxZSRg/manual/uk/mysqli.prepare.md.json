{"pageProps":{"page":{"slug":"mysqli.prepare.md","content":"# mysqli::prepare\n\n# mysqli\\_prepare\n\n(PHP 5, PHP 7, PHP 8)\n\nmysqli::prepare -- mysqli\\_prepare — Підготовляє SQL вираз до виконання\n\n### Опис\n\nОб'єктно-орієнтований стиль\n\n```methodsynopsis\npublic mysqli::prepare(string $query): mysqli_stmt|false\n```\n\nПроцедурний стиль\n\n```methodsynopsis\nmysqli_prepare(mysqli $mysql, string $query): mysqli_stmt|false\n```\n\nПідготовляє SQL-запит і повертає покажчик цього виразу, який можна використовувати подальших операцій із цим виразом. Запит повинен складатися з одного виразу SQL.\n\nШаблон оператора може містити нуль або кілька знаків запитання (`?` ), позначок параметрів⁠, також званих заповнювачами. Мітки параметрів повинні бути прив'язані до змінних додатків за допомогою [mysqli\\_stmt\\_bind\\_param()](mysqli-stmt.bind-param.md) перед виконанням виразу.\n\n### Список параметрів\n\n`mysql`\n\nТільки для процедурного стилю: об'єкт [mysqli](class.mysqli.md), який повернула функція [mysqli\\_connect()](function.mysqli-connect.md)или функция[mysqli\\_init()](mysqli.init.md)\n\n`query`\n\nТекст запиту у вигляді рядка. Має складатися з одного SQL-виразу.\n\nВираз SQL може містити нуль або більше позначок параметрів, представлених знаками питання (`?` ) у відповідних позиціях.\n\n> **Зауваження** :\n> \n> Ці мітки можна вбудовувати лише у певні місця у виразі. Наприклад, вони дозволені у списку `VALUES()` вирази `INSERT` (щоб задати значення стовпців для рядка), або в операціях порівняння речення `WHERE` для завдання порівнюваного значення. Однак вони не дозволені як ідентифікатори (наприклад, імена таблиць або стовпців).\n\n### Значення, що повертаються\n\n**mysqli\\_prepare()** повертає об'єкт запиту або \\*\\*`false`\\*\\*в случае ошибки.\n\n### Помилки\n\nЯкщо сповіщення про помилки mysqli включено (**`MYSQLI_REPORT_ERROR`**) та запитана операція не вдалася, видається попередження. Якщо, крім того, встановлено режим **`MYSQLI_REPORT_STRICT`**, натомість буде викинуто виняток [mysqli\\_sql\\_exception](class.mysqli-sql-exception.md)\n\n### Приклади\n\n**Приклад #1 Приклад використання** mysqli::prepare()\\*\\*\\*\\*\n\nОб'єктно-орієнтований стиль\n\n```php\n<?php\n\nmysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n$mysqli = new mysqli(\"localhost\", \"my_user\", \"my_password\", \"world\");\n\n$city = \"Amersfoort\";\n\n/* создание подготавливаемого запроса */\n$stmt = $mysqli->prepare(\"SELECT District FROM City WHERE Name=?\");\n\n/* связывание параметров с метками */\n$stmt->bind_param(\"s\", $city);\n\n/* выполнение запроса */\n$stmt->execute();\n\n/* связывание переменных с результатами запроса */\n$stmt->bind_result($district);\n\n/* получение значения */\n$stmt->fetch();\n\nprintf(\"%s находится в округе %s\\n\", $city, $district);\n```\n\nПроцедурний стиль\n\n```php\n<?php\n\nmysqli_report(MYSQLI_REPORT_ERROR | MYSQLI_REPORT_STRICT);\n$link = mysqli_connect(\"localhost\", \"my_user\", \"my_password\", \"world\");\n\n$city = \"Amersfoort\";\n\n/* создание подготавливаемого запроса */\n$stmt = mysqli_prepare($link, \"SELECT District FROM City WHERE Name=?\");\n\n/* связывание параметров с метками */\nmysqli_stmt_bind_param($stmt, \"s\", $city);\n\n/* выполнение запроса */\nmysqli_stmt_execute($stmt);\n\n/* связывание переменных с результатами запроса */\nmysqli_stmt_bind_result($stmt, $district);\n\n/* получение значения */\nmysqli_stmt_fetch($stmt);\n\nprintf(\"%s находится в округе %s\\n\", $city, $district);\n?>\n```\n\nРезультат виконання наведених прикладів:\n\n```\nAmersfoort находится в округе Utrecht\n```\n\n### Дивіться також\n\n-   [mysqli\\_stmt\\_execute()](mysqli-stmt.execute.md) \\- Виконує підготовлене затвердження\n-   [mysqli\\_stmt\\_fetch()](mysqli-stmt.fetch.md) \\- пов'язує результати підготовленого виразу зі змінними\n-   [mysqli\\_stmt\\_bind\\_param()](mysqli-stmt.bind-param.md) \\- Прив'язка змінних до параметрів запиту, що готується.\n-   [mysqli\\_stmt\\_bind\\_result()](mysqli-stmt.bind-result.md) \\- Прив'язка змінних до підготовленого запиту для розміщення результату\n-   [mysqli\\_stmt\\_get\\_result()](mysqli-stmt.get-result.md) \\- Отримує результат із підготовленого запиту у вигляді об'єкта mysqli\\_result\n-   [mysqli\\_stmt\\_close()](mysqli-stmt.close.md) \\- Закриває підготовлений запит\n","title":"mysqli::prepare","contentType":2,"navigation":[{"mysqli.poll.md":"« mysqli::poll"},{"mysqli.query.md":"mysqli::query »"},{"index.md":"PHP Manual"},{"class.mysqli.md":"mysqli"}]}},"__N_SSG":true}