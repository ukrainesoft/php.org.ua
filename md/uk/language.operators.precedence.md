- [« Оператори](language.operators.md)
- [Арифметичні оператори »](language.operators.arithmetic.md)

- [PHP Manual](index.md)
- [Оператори](language.operators.md)
- пріоритет оператора

## Пріоритет оператора

Пріоритет оператора визначає, наскільки "тісно" він пов'язує між
собою два вирази. Наприклад, вираз `1 + 5 * 3` обчислюється як
`16`, а не `18`, оскільки оператор множення ("\*") має вищий
пріоритет, ніж оператор додавання ("+"). Круглі дужки можуть
використовуватись для примусового вказівки порядку виконання
операторів. Наприклад, вираз `(1+5)*3` обчислюється як `18`.

Якщо оператори мають рівний пріоритет, то вони виконуватимуться
праворуч ліворуч або ліворуч праворуч визначається їх асоціативністю. До
Наприклад, "-" є ліво-асоціативним оператором. Отже
`1 - 2 - 3` згрупується як `(1 - 2) - 3` і перерахується в `-4`. З
з іншого боку "u003d" - право-асоціативний оператор, так що
$a u003d $b u003d $c `згрупується як `$a u003d ($b u003d $c)`.

Неасоціативні оператори з однаковим пріоритетом не можуть
використовуватися спільно. Наприклад, `1 < 2 > 1` не буде працювати в PHP.
Вираз `1 <u003d 1 u003du003d 1`, з іншого боку, буде, оскільки `u003du003d` має
нижчий пріоритет ніж `<u003d`.

Асоціативність має сенс лише для двійкових (і тернарних)
операторів. Унарні оператори є префіксними або постфіксними,
тому це поняття не застосовується. Наприклад, `!!$a` можна згрупувати
тільки як `!(!$a)`.

Використання дужок, крім випадків, коли вони суворо необхідні, може
покращити читаність коду, групуючи явно, а не покладаючись на пріоритети та
асоціативність.

У наступній таблиці наведено список операторів, відсортований за
спаду їх пріоритетів. Оператори, які розміщені в одному рядку мають
однаковий пріоритет і порядок їх виконання визначається виходячи з них
асоціативності.

| Асоціативність | Оператор | Додаткова інформація
|-----------------|------------------------------- -------------------------------------------------- -----|-------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------|
| (н/а) | `clone` `new` | [clone](language.oop5.cloning.md) та [new](language.oop5.basic.md#language.oop5.basic.new) |
| права | `**` | [арифметичні оператори](language.operators.arithmetic.md) |
| (н/а) | `+``-``++``--``~``(int)``(float)``(string)``(array)``(object)``(bool)``@` | [арифметичні оператори](language.operators.arithmetic.md) (унарні `+` та `-`), [інкремент/декремент](language.operators.increment.md), [побітові оператори](language.operators.bitwise). md), [приведення типів](language.types.type-juggling.md#language.types.typecasting) та [оператор управління помилками](language.operators.errorcontrol.md) |
| ліва | встанівід | [типи](language.operators.type.md) |
| (н/а) | ! | [логічні оператори](language.operators.logical.md) |
| ліва | `*` `/``%` | [арифметичні оператори](language.operators.arithmetic.md) |
| ліва | `+``-``.` | [арифметичні оператори](language.operators.arithmetic.md) (бінарні `+` та `-`), [оператори, що працюють з масивами](language.operators.array.md) та [рядкові оператори](language.operators). string.md) (`.` до PHP 8.0.0) |
| ліва | `<<``>>` | [побітові оператори](language.operators.bitwise.md) |
| ліва | `.` | [рядкові оператори](language.operators.string.md) (починаючи з PHP 8.0.0) |
| неасоціативна | `<``<u003d``>``>u003d` | [Оператори порівняння](language.operators.comparison.md) |
| неасоціативна | `u003du003d``!u003d``u003du003du003d``!u003du003d``<>``<u003d>` | [Оператори порівняння](language.operators.comparison.md) |
| ліва | `&` | [побітові оператори](language.operators.bitwise.md) та [посилання](language.references.md) |
| ліва | `^` | [побітові оператори](language.operators.bitwise.md) |
| ліва | `|` | [побітові оператори](language.operators.bitwise.md) |
| ліва | `&&` | [логічні оператори](language.operators.logical.md) |
| ліва | `||` | [логічні оператори](language.operators.logical.md) |
| права | `??` | [оператори порівняння з null](language.operators.comparison.md#language.operators.comparison.coalesce) |
| неасоціативна | `? :` | [тернарний оператор](language.operators.comparison.md#language.operators.comparison.ternary) (ліво-асоціативний до PHP 8.0.0) |
| права | `u003d``+u003d``-u003d``*u003d``**u003d``/u003d``.u003d``%u003d``&u003d``|u003d``^u003d``<<u003d`` >>u003d` `??u003d` | [оператори привласнення](language.operators.assignment.md) |
| (н/а) | `yield from` | [yield from](language.generators.syntax.md#control-structures.yield.from) |
| (н/а) | `yield` | [yield](language.generators.syntax.md#control-structures.yield) |
| (н/а) | `print` | [print](function.print.md) |
| ліва | 'and' | [логічні оператори](language.operators.logical.md) |
| ліва | `xor` | [логічні оператори](language.operators.logical.md) |
| ліва | `or` | [логічні оператори](language.operators.logical.md) |

**Порядок виконання операторів**

**Приклад #1 Асоціативність**

` <?php$a u003d 3 * 3 % 5; // (3 * 3) % 5 u003d 4// асоціативність тернарних операторів відрізняється від C/C++$a u003d true ? 0 : true ? 1 : 2; // (true ? 0 : true) ? 1 : 2 u003d 2 (до PHP 8.0.0)$a u003d 1;$b u003d 2;$a u003d $b +u003d 3; // $a u003d ($b +u003d 3) -> $a u003d 5, $b u003d 5?> `

Пріоритет та асоціативність оператора визначає лише те, як
групується вираз, а чи не порядок його обчислення. Зазвичай PHP не
вказує, у якому порядку обчислюються вирази та коду, який
передбачає специфічний порядок обчислення слід уникати, тому,
що поведінка може змінюватися в різних версіях PHP або залежно від
навколишнього коду.

**Приклад #2 Невизначений порядок обчислення**

` <?php$a u003d 1;echo $a + $a++; // може вивести як 2 так і 3$i u003d 1;$array[$i] u003d $i++; // може встановити індекс як 1, так 2?> `

**Приклад #3 `+`, `-` та `.` мають однаковий пріоритет (до PHP 8.0.0)**

`<?php$x u003d 4;// наступний код може видати несподіваний результат:echo "x мінус 1 рівно " . $x-1 . ", ну я сподіваюся
";// оскільки він|
";// потрібний пріоритет слід задати дужками:echo "x мінус 1 рівно " . ($x-1) . ", ну я сподіваюся
";?> `

Результат виконання цього прикладу:

-1, ну я сподіваюся
-1, ну я сподіваюся
x мінус один одно 3, ну я сподіваюся

> **Примітка**:
>
> Незважаючи на те, що `u003d` має нижчий пріоритет, ніж більшість
> інших операторів, PHP все ж таки дозволяє робити так:
> `if (!$a u003d foo())`, у цьому прикладі результат виконання `foo()` буде
> присвоєно `$a`.

### Список змін

| Версія | Опис |
|--------|---------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -------------------------------------------------- -----------|
| 8.0.0 | Об'єднання рядків (`.`) тепер має нижчий пріоритет, ніж арифметичне складання/віднімання (`+` і `-`) і побітовий зсув вліво/вправо (`<<` і `>>`); раніше він мав той самий пріоритет, що і `+` і `-`, і вищий пріоритет, ніж `<<` та `>>`. |
| 8.0.0 | Тернарний оператор (`?:`) тепер неасоціативний; раніше він був ліво-асоціативним. |
| 7.4.0 | Спираючись на пріоритет конкатенації рядків (`.`) щодо арифметичного складання/віднімання (`+` або `-`) або побитового зсуву вліво/вправо (`<<` або `>>`), тобто. їхнє спільне використання у виразі без дужок не рекомендується. |
| 7.4.0 | Не рекомендується покладатися на ліво-асоціативність тернарного оператора (?:), тобто. вкладення кількох тернарних операторів без дужок. |
