{"pageProps":{"page":{"slug":"pcntl.example.md","content":"## Базове застосування\n\nЦей приклад породжує процес-демон із обробником сигналів.\n\n**Приклад #1 Приклад Управління процесами**\n\n```php\n<?php\ndeclare(ticks=1);\n\n$pid = pcntl_fork();\nif ($pid == -1) {\n     die(\"Не удалось породить процесс\");\n} else if ($pid) {\n     exit(); // это код родителя\n} else {\n     // это дочерний код\n}\n\n// Открепление от управляющего терминала\nif (posix_setsid() == -1) {\n    die(\"Не удалось открепить от терминала\");\n}\n\n// Установка обработчиков сигналов\npcntl_signal(SIGTERM, \"sig_handler\");\npcntl_signal(SIGHUP, \"sig_handler\");\n\n// Бесконечный цикл выполнения задач\nwhile (1) {\n\n    // делаем тут что-то интересное\n\n}\n\nfunction sig_handler($signo)\n{\n\n     switch ($signo) {\n         case SIGTERM:\n             // обработка сигнала завершения\n             exit;\n             break;\n         case SIGHUP:\n             // обработка перезапуска задач\n             break;\n         default:\n             // обработка других сигналов\n     }\n\n}\n\n?>\n```\n","title":"Базове застосування","contentType":2,"navigation":[{"pcntl.examples.md":"« Приклади"},{"ref.pcntl.md":"Функції PCNTL »"},{"index.md":"PHP Manual"},{"pcntl.examples.md":"Приклади"}]}},"__N_SSG":true}