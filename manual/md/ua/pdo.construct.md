- [«PDO::commit](pdo.commit.md)
- [PDO::errorCode »](pdo.errorcode.md)

- [PHP Manual](index.md)
- [PDO](class.pdo.md)
- Створює екземпляр PDO, що надає з'єднання з базою даних

# PDO::\_\_construct

(PHP 5 u003d 5.1.0, PHP 7, PHP 8, PECL pdo u003d 0.1.0)

PDO::\_\_construct — Створює екземпляр PDO, що надає з'єднання з
базою даних

### Опис

public **PDO::\_\_construct**(
string `$dsn`,
?string `$username` u003d **`null`**,
?string `$password` u003d **`null`**,
?array `$options` u003d **`null`**
)

Створює екземпляр PDO, що надає підключення до необхідної бази
даних.

### Список параметрів

dsn
Ім'я джерела даних або DSN, що містить інформацію, необхідну для
підключення до бази даних

Загалом, DSN складається з імені драйвера PDO, за яким слідує двокрапка
та специфічний синтаксис підключення драйвера PDO. Додаткову
інформацію можна отримати з розділу [Документація по специфічним
драйверів PDO] (pdo.drivers.md).

Параметр `dsn` підтримує три різні методи вказівки аргументів,
необхідні для створення з'єднання з базою даних:

Виклик драйвера
`dsn` містить повний DSN.

Виклик URI
Параметр `dsn` складається з рядка **`uri:`** з наступним URI, який
визначає розташування файлу, що містить рядок DSN. URI може
вказувати на локальний файл або віддалену URL-адресу.

**`uri:file:///path/to/dsnfile`**

Поєднання імен
`dsn` складається з імені `name`, яке відповідає параметру
`pdo.dsn.name` в `php.ini`, що визначає рядок DSN.

> **Примітка**:
>
> Псевдонім повинен бути визначений в `php.ini`, але не в `.htaccess` або
> `httpd.conf`

username
Ім'я користувача для рядка DSN. Цей параметр опціональний для деяких
драйвери PDO.

passwd
Пароль для рядка DSN. Цей параметр опціональний для деяких драйверів
PDO.

options
Масив ключ u003d значення специфічних для драйвера налаштувань підключення.

### Помилки

**PDO::\_\_construct()** викидає виняток
[PDOException](class.pdoexception.md), якщо спроба підключення до
запитуваної бази даних завершується з помилкою, незалежно від того,
який **`PDO::ATTR_ERRMODE`** встановлений на даний момент.

### Приклади

**Приклад #1 Створення екземпляра PDO через виклик драйвера**

` <?php/* Підключення к базі даних MySQL за допомогою дзвінка драйвера */$dsn u003d 'mysql:dbnameu003dtestdb;hostu003d127.0.0.1';$user u003d 'dbuser';$'password u003d new PDO($dsn, $user, $password);?> `

**Приклад #2 Створення екземпляра PDO через виклик URI**

У цьому прикладі передбачається, що файл `/usr/local/dbconnect`
існує з правами доступу, які дозволяють PHP прочитати файл. Файл
містить PDO DSN для підключення до бази даних DB2 через драйвер
PDO_ODBC:

odbc:DSNu003dSAMPLE;UIDu003djohn;PWDu003dmypass

PHP-скрипт може створити підключення до бази даних шляхом простої
передачі параметра `uri:`, що вказує на файл URI:

` <?php/* Підключення к базі даних ODBC за допомогою дзвінка драйвера */$dsn u003d 'uri:file:///usr/local/dbconnect';$user u003d '';$password u003d '';$db new PDO($dsn, $user, $password);?> `

**Приклад #3 Створення екземпляра PDO, використовуючи псевдонім**

У наступному прикладі передбачається, що php.ini містить наступну
запис, що дозволяє підключитися до бази даних MySQL, використовуючи тільки
псевдонім `mydb`:

`` inicode
[PDO]
pdo.dsn.mydbu003d"mysql:dbnameu003dtestdb;hostu003dlocalhost"
````

` <?php/* Підключення к базі даних ODBC, використовуючи псевдонім */$dsn u003d 'mydb';$user u003d '';$password u003d '';$dbh u003d new PDO($dsn,$ ;?> `
